集成（Integration）
======================

文件列表（File list）
-------------------------

静态文件（Static files）
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 10 30
   :header-rows: 1

   * - 文件（File）
     - 描述（Description）
   
   * - CanNm.h
     - CanNm模块头文件，包含API函数的扩展声明。
      
       CanNm module header file, which contains extended declarations of API functions.

   * - CanNm.c
     - CanNm模块源文件，包含了API函数的实现。
      
       CanNm module source file, which contains the implementation of API functions.

   * - CanNm_Type.h
     - CanNm数据类型定义文件，定义了配置和内部数据结构。
      
       CanNm data type definition file, which defines configuration and internal data structures.

   * - CanNm_Internal.h
     - CanNm内部数据类型定义文件，定义了部分宏定义，内部使用的变量扩展声明
      
       CanNm internal data type definition file, which defines some macro definitions and extended declarations of variables used internally.

动态文件（Dynamic files）
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 10 30
   :header-rows: 1

   * - 文件（File）
     - 描述（Description）
   
   * - CanNm_Cfg.h
     - 定义CanNm模块预编译时用到的配置参数。
      
       Define the configuration parameters used during the pre-compilation of the CanNm module.

   * - CanNm_Cfg.c
     - 定义CanNm模块生成的配置参数。
      
       Define the configuration parameters generated by the CanNm module.

   * - CanNm_PBcfg.c
     - 定义CanNm模块向外部模块提供的配置参数。
      
       Define the configuration parameters provided by the CanNm module to external modules.

错误处理（Error handling）
-----------------------------

开发错误（Development errors）
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.. list-table:: 
   :widths: 20 10 30
   :header-rows: 1

   * - Error code
     - Value[hex]
     - Description

   * - CANNM_E_UNINIT
     - 0x01
     - API service used without module initialization

   * - CANNM_E_INVALID_CHANNEL
     - 0x02
     - API service called with wrong channel handle

   * - CANNM_E_INVALID_PDUID
     - 0x03
     - API service called with wrong PDU-ID

   * - CANNM_E_INIT_FAILED
     - 0x05
     - CanNm initialization has failed, e.g. selected configuration set doesn’t exist.

   * - CANNM_E_PARAM_POINTER
     - 0x12
     - Null pointer has been passed as an argument

   * - CANNM_E_NOT_IN_BUS_SLEEP
     - 0x13
     - DeInit API service called when not all CAN networks are in Bus Sleep mode


产品错误（Product errors）
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

None

运行时错误（Runtime errors）
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table:: 
   :widths: 20 10 30
   :header-rows: 1

   * - Error code
     - Value[hex]
     - Description

   * - CANNM_E_NET_START_IND
     - 0x04
     - Reception of NM PDUs in Bus-Sleep Mode.

   * - CANNM_E_NETWORK_TIMEOUT
     - 0x11
     - NM-Timeout Timer has abnormally expired outside of the Ready Sleep State; it may happen: (1) because of Bus-Off state, (2)if some ECU requests bus communication or node detection shortly before the NM-Timeout Timer expires so that a Network Management PDU can not be transmitted in time; this race condition applies to event-triggered systems.

   * - CANNM_E_INVALID_PN_SYNC_SHUTDOWN_REQUEST
     - 0x20
     - A NM message with PN Shutdown Request Bit was received on a channel that is actively coordinated by the ComM PNC Gateway.

==============
Sd
==============



**ç¼©å†™è¯æ³¨è§£**

+------------+---------------------------+----------------------------+
| **ç¼©å†™è¯** | **è‹±æ–‡å…¨ç§°**              | **ä¸­æ–‡è§£é‡Š**               |
+------------+---------------------------+----------------------------+
| SD         | Service Discovery         | æœåŠ¡å‘ç°                   |
+------------+---------------------------+----------------------------+
| Sd         | Service Discovery Module  | AUTOSARæœåŠ¡å‘ç°æ¨¡å—        |
|            | in AUTOSAR                |                            |
+------------+---------------------------+----------------------------+
| SOME/IP    | Scalable service-Oriented | åŸºäº                       |
|            | MiddlwarE over IP         | IPçš„å¯ç¼©æ”¾çš„é¢å‘æœåŠ¡ä¸­é—´ä»¶ |
+------------+---------------------------+----------------------------+
| SOME/IP-SD | SOME/IP Service Discovery | SOMEIPæœåŠ¡å‘ç°             |
+------------+---------------------------+----------------------------+



ç®€ä»‹
====

Service Discoveryæ¨¡å—ï¼Œå³æœåŠ¡å‘ç°æ¨¡å—ï¼Œä¸»è¦ç”¨äºï¼š

i) æ¢æµ‹å¤–éƒ¨æ˜¯å¦æœ‰å¯ç”¨çš„æœåŠ¡ï¼Œå®šä½æœåŠ¡ä½ç½®ã€‚

ii) å‘å¤–éƒ¨æä¾›å¯ç”¨çš„æœåŠ¡ã€‚

iii) å®ç°å‘å¸ƒ/è®¢é˜…æœºåˆ¶ï¼Œä»¥æ§åˆ¶EventæŠ¥æ–‡çš„è®¢é˜…å’Œå‘å¸ƒã€‚

Sdæ¨¡å—ä½äºSoAdå’ŒBswMæ¨¡å—ä¹‹é—´ï¼Œå’Œä¸Šè¿°ä¸¤ä¸ªæ¨¡å—åä½œå®ŒæˆæœåŠ¡å‘ç°çš„åŠŸèƒ½ã€‚

|image1|

å›¾ Sdæ¨¡å—ä½ç½®

å‚è€ƒèµ„æ–™
--------

[1] AUTOSAR_SWS_ServiceDiscovery.pdfï¼ŒR19-11

[2] AUTOSAR_PRS_SOMEIPServiceDiscoveryProtocol.pdfï¼ŒR19-11

åŠŸèƒ½æè¿°
========

OfferServiceåŠŸèƒ½
----------------

OfferServiceåŠŸèƒ½ä»‹ç»
~~~~~~~~~~~~~~~~~~~~

OfferServiceåŠŸèƒ½ç”¨äºå‘å¤–éƒ¨å£°æ˜å¯ä»¥æä¾›æŸç§æœåŠ¡ã€‚å½“æœ¬åœ°ECUä½œä¸ºæœåŠ¡å™¨ç«¯æä¾›æŸç§æœåŠ¡æ—¶ï¼š

iï¼‰è¯¥æœåŠ¡å°±ç»ªæ—¶ï¼ŒSdæ¨¡å—ä¼šä¸»åŠ¨å‘é€åŒ…å«OfferService
Entryçš„æŠ¥æ–‡å‘å…¶ä»–ECUè¡¨æ˜å½“å‰æœ‰å¯ç”¨çš„æŸç§æœåŠ¡ã€‚è¿™ç§æƒ…å†µæŠ¥æ–‡å¤šæ’­å‘é€ã€‚

iiï¼‰å½“å…¶å®ƒECUå‘é€FindService
Entryä¸»åŠ¨å¯»æ‰¾æŸç§æœåŠ¡æ—¶ï¼Œæœ¬åœ°ECUä½œä¸ºæœåŠ¡æä¾›è€…ï¼Œå‘å¯»æ‰¾æœåŠ¡çš„å®¢æˆ·ç«¯å‘é€OfferService
Entryï¼Œè¡¨ç™½å¯ä»¥æä¾›æŸç§æœåŠ¡ã€‚è¿™ç§æƒ…å†µæŠ¥æ–‡å•æ’­å‘é€ã€‚

OfferServiceåŠŸèƒ½å®ç°
~~~~~~~~~~~~~~~~~~~~

å½“æœåŠ¡å¯ç”¨æˆ–è€…ä¸å¯ç”¨æ—¶ï¼ŒSWCéœ€è¦è°ƒç”¨BswMçš„æ¥å£é€šçŸ¥BswMæŸä¸ªæœåŠ¡å¯ç”¨/ä¸å¯ç”¨ï¼ŒBswMä¼šè°ƒç”¨Sd_ServerServiceSetState(SdServerServiceHandleIdï¼ŒServerServiceState)æ¥å£ï¼Œå‘Sdæ¨¡å—è¡¨æ˜è¯¥æœåŠ¡çš„çŠ¶æ€ã€‚å…¶ä¸­SdServerServiceHandleIdå‚æ•°ç”¨äºæ ‡è¯†æœåŠ¡ï¼ŒServerServiceStateç”¨äºæ ‡è¯†æœåŠ¡çŠ¶æ€ã€‚

Sdæ¨¡å—ä¼šæ ¹æ®å½“å‰çš„çŠ¶æ€å‘å¤–å‘é€OfferServiceæˆ–è€…StopOfferServiceæŠ¥æ–‡ã€‚æŠ¥æ–‡ä¸­ä¼šæºå¸¦SdServerServiceHandleIdä»£è¡¨çš„æœåŠ¡çš„ä¿¡æ¯ï¼ˆIPåœ°å€ï¼Œç«¯å£å·ç­‰ï¼‰ã€‚å…¶ä»–èŠ‚ç‚¹å¯ä»¥åˆ©ç”¨è¿™äº›ä¿¡æ¯å®šä½åˆ°è¯¥æœåŠ¡ï¼Œä»¥ä½¿ç”¨è¿™äº›æœåŠ¡ã€‚

Serverå¯ä»¥æä¾›çš„æœåŠ¡åœ¨é…ç½®å·¥å…·SdInstanceğŸ¡ªSdServerServiceä¸­é…ç½®ã€‚

FindService åŠŸèƒ½
----------------

FindServiceåŠŸèƒ½ä»‹ç»
~~~~~~~~~~~~~~~~~~~

FindServiceåŠŸèƒ½ç”¨äºå¯»æ‰¾å¤–éƒ¨æ˜¯å¦æœ‰å¯ç”¨çš„æŸç§æœåŠ¡ã€‚å½“ECUéœ€è¦ä½¿ç”¨æŸç§æœåŠ¡æ—¶ï¼ŒSdæ¨¡å—ä¼šå‘é€åŒ…å«FindService
Entryçš„æŠ¥æ–‡ï¼Œç”¨äºå¯»æ‰¾æŸç§æœåŠ¡ã€‚

FindServiceåŠŸèƒ½å®ç°
~~~~~~~~~~~~~~~~~~~

å½“SWCä½œä¸ºå®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨æŸç§æœåŠ¡æ—¶ï¼ŒSWCä¼šè°ƒç”¨BswMçš„æ¥å£é€šçŸ¥BswMéœ€è¦æŸä¸ªæœåŠ¡ï¼ŒBswMè°ƒç”¨Sd_ClientServiceSetState(ClientServiceHandleId,
ClientServiceState)æ¥å£ï¼Œå‘Sdæ¨¡å—è¡¨æ˜éœ€è¦æŸä¸ªæœåŠ¡ã€‚

Sdæ¨¡å—ä¼šå‘å¤–å‘é€FindServiceæŠ¥æ–‡ã€‚æŠ¥æ–‡ä¸­ä¼šæºå¸¦SdServerServiceHandleIdä»£è¡¨çš„æœåŠ¡çš„å…·ä½“ä¿¡æ¯ï¼ˆService
IDï¼Œç‰ˆæœ¬å·ç­‰ï¼‰ã€‚å…¶ä»–èŠ‚ç‚¹æ ¹æ®è¿™äº›ä¿¡æ¯åˆ¤æ–­è‡ªå·±æ˜¯å¦å¯ä»¥æä¾›è¿™ä¸ªæœåŠ¡ï¼Œå¯ä»¥æä¾›æ—¶ä¼šå‘é€OfferServiceé€šçŸ¥å¯»æ‰¾æœåŠ¡çš„å®¢æˆ·ç«¯ã€‚

Clientéœ€è¦çš„æœåŠ¡ï¼ˆå³éœ€è¦å¯»æ‰¾çš„æœåŠ¡ï¼‰åœ¨é…ç½®å·¥å…·SdInstanceğŸ¡ªSdClientServiceä¸­é…ç½®ã€‚

Eventgroupè®¢é˜…åŠŸèƒ½
------------------

Eventgroupè®¢é˜…åŠŸèƒ½ç®€ä»‹
~~~~~~~~~~~~~~~~~~~~~~

Eventgroupè®¢é˜…åŠŸèƒ½ç”¨äºè®¢é˜…éœ€è¦æ¥æ”¶çš„Eventgroupã€‚

Eventgroupè®¢é˜…åŠŸèƒ½çš„å®ç°
~~~~~~~~~~~~~~~~~~~~~~~~

å½“SWCï¼ˆä½œä¸ºå®¢æˆ·ç«¯ï¼‰éœ€è¦è®¢é˜…æŸä¸ªEventgroupæ—¶ï¼ŒSWCä¼šè°ƒç”¨BswMçš„æ¥å£é€šçŸ¥BswMï¼ŒBswMä¼šè°ƒç”¨Sd_ConsumedEventGroupSetState(SdConsumedEventGroupHandleIdï¼ŒConsumedEventGroupState)æ¥å£é€šçŸ¥Sdæ¨¡å—ã€‚å½“Sdæ¨¡å—æ”¶åˆ°æä¾›è¯¥Eventgroupçš„å¯¹åº”æœåŠ¡å‘é€çš„OfferServiceæŠ¥æ–‡æ—¶ï¼ŒSdæ¨¡å—ä¼šå‘é€åŒ…å«SubscribeEventgroup
Entryçš„æŠ¥æ–‡è®¢é˜…Eventgroupã€‚

Clientéœ€è¦è®¢é˜…çš„Eventgroupåœ¨é…ç½®å·¥å…·SdInstanceğŸ¡ªSdClientServiceğŸ¡ªSdConsumedEventGroupä¸­é…ç½®ã€‚

Eventgroupç®¡ç†åŠŸèƒ½
------------------

Eventgroupç®¡ç†åŠŸèƒ½ç®€ä»‹
~~~~~~~~~~~~~~~~~~~~~~

å½“Clientå‘Serverè®¢é˜…Eventgroupæ—¶ï¼ŒServeréœ€è¦ç®¡ç†è®¢é˜…è¯¥Eventgroupçš„å®¢æˆ·ç«¯ã€‚

Eventgroupç®¡ç†åŠŸèƒ½çš„å®ç°
~~~~~~~~~~~~~~~~~~~~~~~~

å½“æ”¶åˆ°Clientçš„SubscribeEventgroupæŠ¥æ–‡åï¼ŒServeréœ€è¦å°†SubscribeEventgroupæŠ¥æ–‡ä¸­çš„ä¿¡æ¯ï¼ˆEventgroup
IDï¼Œç‰ˆæœ¬å·ï¼ŒService
IDç­‰ï¼‰å’Œé…ç½®ä¸­ä¿å­˜çš„ä¿¡æ¯ä½œæ¯”è¾ƒï¼Œå¦‚æœä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œå¹¶ä¸”è¯¥Clientä¹‹å‰ä¸åœ¨è®¢é˜…åˆ—è¡¨ä¸­ï¼Œåˆ™å°†è¯¥Clientæ·»åŠ åˆ°è®¢é˜…åˆ—è¡¨ä¸­ï¼Œå‘è¯¥Clientåº”ç­”SubscribeEventgroupAckæŠ¥æ–‡ã€‚å¦‚æœè¯¥Clientä¹‹å‰å·²ç»åœ¨è®¢é˜…åˆ—è¡¨ä¸­ï¼Œåˆ™ç”¨SubscribeEventgroup
Entryä¸­çš„TTLæ—¶é—´æ›´æ–°è®¢é˜…åˆ—è¡¨ä¸­çš„TTLå€¼ã€‚ä¿¡æ¯ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œåº”ç­”SubscribeEventgroupNAckæŠ¥æ–‡ã€‚

å½“è®¢é˜…æ—¶é—´åˆ°ï¼ˆSubscribeEventgroupä¸­æºå¸¦çš„TTLè®¡æ—¶æ—¶é—´åˆ°ï¼‰æˆ–è€…æ”¶åˆ°Clientå‘é€çš„StopSubscribeEventgroup
Entryï¼ŒServeréœ€è¦å°†è¯¥Clientä»è®¢é˜…åˆ—è¡¨ä¸­åˆ é™¤ã€‚

Serveræä¾›çš„Eventgroupï¼ˆéœ€è¦ç®¡ç†çš„Eventgroupï¼‰åœ¨é…ç½®å·¥å…·SdInstanceğŸ¡ªSdServerServiceğŸ¡ªSdEventHandlerä¸­é…ç½®ã€‚

RoutingPathæ§åˆ¶åŠŸèƒ½
-------------------

RoutingPathæ§åˆ¶åŠŸèƒ½ç®€ä»‹
~~~~~~~~~~~~~~~~~~~~~~~

Sdæ¨¡å—é€šè¿‡æ§åˆ¶SoAdé‡Œé¢SoAdRoutingGroupçš„çŠ¶æ€ï¼ˆEnable/Disableï¼‰ï¼Œä»è€Œè¾¾åˆ°æ§åˆ¶Eventçš„æ¥æ”¶å’Œå‘é€çš„è·¯å¾„çš„é€šæ–­ï¼Œæ§åˆ¶Eventçš„æ¥æ”¶å’Œå‘é€ã€‚å…¶ä¸­å¯¹Eventå‘é€è·¯å¾„çš„æ§åˆ¶å«Fan
outæ§åˆ¶ï¼Œå¯¹Eventæ¥æ”¶è·¯å¾„çš„æ§åˆ¶å«Fan inæ§åˆ¶ã€‚

RoutingPathæ§åˆ¶åŠŸèƒ½çš„å®ç°
~~~~~~~~~~~~~~~~~~~~~~~~~

Fan outæ§åˆ¶
^^^^^^^^^^^^

å½“Clientè®¢é˜…Eventgroupæ—¶ï¼ŒServeræ ¹æ®Clientå‘é€çš„SubscribeEventgroup
Entryä¸­æºå¸¦çš„ä¿¡æ¯åœ¨é…ç½®ä¸­æ‰¾åˆ°ä¸ä¹‹åŒ¹é…çš„SdEventHandlerï¼Œæ ¹æ®SdEventHandlerä¸­çš„SdEventHandlerTcp/SdEventHandlerUdpæ‰¾åˆ°å¯¹åº”çš„SoAdRoutingGroupï¼ˆå–å¾—RoutingGroup
IDï¼‰ã€‚æ ¹æ®SubscribeEventgroup Entryä¸­æºå¸¦çš„Endpoint
optionä¿¡æ¯ä»¥åŠé…ç½®ä¸­çš„SdServerServiceUdpRef/SdServerServiceTcpRefå‚æ•°æ¨å¯¼å‡ºè¯¥Eventå‘é€å¯¹åº”çš„SocketConnectionï¼ˆå–å¾—SoConIdï¼‰ï¼Œç„¶åè°ƒç”¨SoAd_EnableSpecificRouting()æˆ–SoAd_DisableSpecificRouting()ï¼Œæ¥æ§åˆ¶å¯¹åº”çš„RoutingGroupã€‚

Fan inæ§åˆ¶
^^^^^^^^^^^

å½“Clientå‘Serverå‘é€SubscribeEventgroup
Entryå‘Serverè®¢é˜…æŸä¸ªEventgroupæ—¶ï¼ŒClienté€šè¿‡é…ç½®ä¸­çš„SdConsumedEventGroupTcpActivationRef/SdConsumedEventGroupUdpActivationRefå‚æ•°æ‰¾åˆ°å¯¹åº”çš„SoAdRoutingGroupï¼ˆå–å¾—RoutingGroup
IDï¼‰ã€‚æ ¹æ®OfferService Entryä¸­æºå¸¦çš„Endpoint
optionä¿¡æ¯ä»¥åŠé…ç½®ä¸­çš„SdClientServiceUdpRef/SdClientServiceTcpRefå‚æ•°æ¨å¯¼å‡ºè¯¥Eventå‘é€å¯¹åº”çš„SocketConnectionï¼ˆå–å¾—SoConIdï¼‰ï¼Œç„¶åè°ƒç”¨SoAd_EnableSpecificRouting()æˆ–SoAd_DisableSpecificRouting()ï¼Œæ¥æ§åˆ¶å¯¹åº”çš„RoutingGroupã€‚

æ³¨æ„ï¼šä»¥ä¸Šæè¿°çš„æ‰€æœ‰åŠŸèƒ½èƒ½å®ç°çš„å‰ææ˜¯æœ¬ç«¯ECUçš„IPåœ°å€å·²æŒ‡å®šï¼Œå³Sdæ¨¡å—çš„Sd_LocalIpAddrAssignmentChg()è¢«è°ƒç”¨è¿‡ï¼Œå¹¶ä¸”Stateä¸ºTCPIP_IPADDR_STATE_ASSIGNEDã€‚

æºæ–‡ä»¶æè¿°
==========

è¡¨ Sdç»„ä»¶æ–‡ä»¶æè¿°

+----------------+-----------------------------------------------------+
| **æ–‡ä»¶**       | **è¯´æ˜**                                            |
+----------------+-----------------------------------------------------+
| Sd_cfg.h       | å®šä¹‰Sdæ¨¡å—é¢„ç¼–è¯‘æ—¶ç”¨åˆ°çš„é…ç½®å‚æ•°ã€‚                  |
+----------------+-----------------------------------------------------+
| Sd_cfg.c       | å®šä¹‰Sdæ¨¡å—ä¸­è¿æ¥æ—¶ç”¨åˆ°çš„é…ç½®å‚æ•°ã€‚                  |
+----------------+-----------------------------------------------------+
| Sd.h           | Sdæ¨¡å—å¤´æ–‡                                          |
|                | ä»¶ï¼ŒåŒ…å«äº†APIå‡½æ•°çš„æ‰©å±•å£°æ˜å¹¶å®šä¹‰äº†ç«¯å£çš„æ•°æ®ç»“æ„ã€‚ |
+----------------+-----------------------------------------------------+
| Sd .c          | Sdæ¨¡å—æºæ–‡ä»¶ï¼ŒåŒ…å«äº†APIå‡½æ•°çš„å®ç°ã€‚                 |
+----------------+-----------------------------------------------------+

APIæ¥å£
=======

ç±»å‹å®šä¹‰
--------

Sd_ServerServiceSetStateTypeç±»å‹å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-----------+---------------------------------------+-----------------+
| åç§°      | Sd_ServerServiceSetStateType          |                 |
+-----------+---------------------------------------+-----------------+
| ç±»å‹      | Enumeration                           |                 |
+-----------+---------------------------------------+-----------------+
| èŒƒå›´      | SD_SERVER_SERVICE_DOWN                | 0x00            |
+-----------+---------------------------------------+-----------------+
|           | SD_SERVER_SERVICE_AVAILABLE           | 0x01            |
+-----------+---------------------------------------+-----------------+
| æè¿°      | This type defines the Server states   |                 |
|           | that are reported to the SD using the |                 |
|           | expected API                          |                 |
|           | Sd_ServerServiceSetState.             |                 |
+-----------+---------------------------------------+-----------------+

Sd_ClientServiceSetStateTypeç±»å‹å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-----------+---------------------------------------+-----------------+
| åç§°      | Sd_ClientServiceSetStateType          |                 |
+-----------+---------------------------------------+-----------------+
| ç±»å‹      | Enumeration                           |                 |
+-----------+---------------------------------------+-----------------+
| èŒƒå›´      | SD_CLIENT_SERVICE_RELEASED            | 0x00            |
+-----------+---------------------------------------+-----------------+
|           | SD_CLIENT_SERVICE_REQUESTED           | 0x01            |
+-----------+---------------------------------------+-----------------+
| æè¿°      | This type defines the Client states   |                 |
|           | that are reported to the BswM using   |                 |
|           | the expected API                      |                 |
|           | Sd_ClientServiceSetState.             |                 |
+-----------+---------------------------------------+-----------------+

Sd_ConsumedEventGroupSetStateTypeç±»å‹å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-----------+-------------------------------------------------+-------+
| åç§°      | Sd_ConsumedEventGroupSetStateType               |       |
+-----------+-------------------------------------------------+-------+
| ç±»å‹      | Enumeration                                     |       |
+-----------+-------------------------------------------------+-------+
| èŒƒå›´      | SD_CONSUMED_EVENTGROUP_RELEASED                 | 0x00  |
+-----------+-------------------------------------------------+-------+
|           | SD_CONSUMED_EVENTGROUP_REQUESTED                | 0x01  |
+-----------+-------------------------------------------------+-------+
| æè¿°      | This type defines the subscription policy by    |       |
|           | consumed EventGroup for the Client Service.     |       |
+-----------+-------------------------------------------------+-------+

Sd_ClientServiceCurrentStateTypeç±»å‹å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-----------+-------------------------------------------------+-------+
| åç§°      | Sd_ClientServiceCurrentStateType                |       |
+-----------+-------------------------------------------------+-------+
| ç±»å‹      | Enumeration                                     |       |
+-----------+-------------------------------------------------+-------+
| èŒƒå›´      | SD_CLIENT_SERVICE_DOWN                          | 0x00  |
+-----------+-------------------------------------------------+-------+
|           | SD_CLIENT_SERVICE_AVAILABLE                     | 0x01  |
+-----------+-------------------------------------------------+-------+
| æè¿°      | This type defines the modes to indicate the     |       |
|           | current mode request of a Client Service.       |       |
+-----------+-------------------------------------------------+-------+

Sd_ConsumedEventGroupCurrentStateTypeç±»å‹å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-----------+-------------------------------------------------+-------+
| åç§°      | Sd_ConsumedEventGroupCurrentStateType           |       |
+-----------+-------------------------------------------------+-------+
| ç±»å‹      | Enumeration                                     |       |
+-----------+-------------------------------------------------+-------+
| èŒƒå›´      | SD_CONSUMED_EVENTGROUP_DOWN                     | 0x00  |
+-----------+-------------------------------------------------+-------+
|           | SD_CONSUMED_EVENTGROUP_AVAILABLE                | 0x01  |
+-----------+-------------------------------------------------+-------+
| æè¿°      | This type defines the subscription policy by    |       |
|           | consumed EventGroup for the Client Service.     |       |
+-----------+-------------------------------------------------+-------+

Sd_EventHandlerCurrentStateTypeç±»å‹å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-----------+-------------------------------------------------+-------+
| åç§°      | Sd_EventHandlerCurrentStateType                 |       |
+-----------+-------------------------------------------------+-------+
| ç±»å‹      | Enumeration                                     |       |
+-----------+-------------------------------------------------+-------+
| èŒƒå›´      | SD_EVENT_HANDLER_RELEASED                       | 0x00  |
+-----------+-------------------------------------------------+-------+
|           | SD_EVENT_HANDLER_REQUESTED                      | 0x01  |
+-----------+-------------------------------------------------+-------+
| æè¿°      | This type defines the subscription policy by    |       |
|           | EventHandler for the Server Service.            |       |
+-----------+-------------------------------------------------+-------+

è¾“å…¥å‡½æ•°æè¿°
------------

+------------------------+---------------------------------------------+
| **è¾“å…¥æ¨¡å—**           | **API**                                     |
+------------------------+---------------------------------------------+
| Dem                    | Dem_ReportErrorStatus                       |
+------------------------+---------------------------------------------+
| Det                    | Det_ReportError                             |
+------------------------+---------------------------------------------+
| SoAd                   | SoAd_DisableSpecificRouting                 |
+------------------------+---------------------------------------------+
|                        | SoAd_EnableSpecificRouting                  |
+------------------------+---------------------------------------------+
|                        | SoAd_GetLocalAddr                           |
+------------------------+---------------------------------------------+
|                        | SoAd_GetPhysAddr                            |
+------------------------+---------------------------------------------+
|                        | SoAd_GetRemoteAddr                          |
+------------------------+---------------------------------------------+
|                        | SoAd_IfSpecificRoutingGroupTransmit         |
+------------------------+---------------------------------------------+
|                        | SoAd_IfTransmit                             |
+------------------------+---------------------------------------------+
|                        | SoAd_SetRemoteAddr                          |
+------------------------+---------------------------------------------+
|                        | SoAd_CloseSoCon                             |
+------------------------+---------------------------------------------+
|                        | SoAd_DisableRouting                         |
+------------------------+---------------------------------------------+
|                        | SoAd_EnableRouting                          |
+------------------------+---------------------------------------------+
|                        | SoAd_GetSoConId                             |
+------------------------+---------------------------------------------+
|                        | SoAd_IfRoutingGroupTransmit                 |
+------------------------+---------------------------------------------+
|                        | SoAd_OpenSoCon                              |
+------------------------+---------------------------------------------+
|                        | SoAd_ReleaseIpAddrAssignment                |
+------------------------+---------------------------------------------+
|                        | SoAd_RequestIpAddrAssignment                |
+------------------------+---------------------------------------------+
|                        | SoAd_SetUniqueRemoteAddr                    |
+------------------------+---------------------------------------------+
| BswM                   | BswM_Sd_ClientServiceCurrentState           |
+------------------------+---------------------------------------------+
|                        | BswM_Sd_ConsumedEventGroupCurrentState      |
+------------------------+---------------------------------------------+
|                        | BswM_Sd_EventHandlerCurrentState            |
+------------------------+---------------------------------------------+

é™æ€æ¥å£å‡½æ•°å®šä¹‰
----------------

Sd_Initå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~

+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_Init           |         |                         |
+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åŸå‹ï¼š  | void Sd_Init (    |         |                         |
|             | const             |         |                         |
|             | Sd_ConfigType\*   |         |                         |
|             | ConfigPtr )       |         |                         |
+-------------+-------------------+---------+-------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x01              |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | åŒæ­¥              |         |                         |
+-------------+-------------------+---------+-------------------------+
| æ˜¯          | ä¸å¯é‡å…¥          |         |                         |
| å¦å¯é‡å…¥ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥å‚æ•°ï¼š  | ConfigPtr         | å€¼åŸŸï¼š  | æ—                       |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥        | æ—                 |         |                         |
| è¾“å‡ºå‚æ•°ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¿”å›å€¼ï¼š    | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | åˆå§‹åŒ–SDæ¨¡å—ã€‚    |         |                         |
+-------------+-------------------+---------+-------------------------+

Sd_GetVersionInfoå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~

+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_GetVersionInfo |         |                         |
+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åŸå‹ï¼š  | void              |         |                         |
|             | Sd_GetVersionInfo |         |                         |
|             | (                 |         |                         |
|             | Std               |         |                         |
|             | _VersionInfoType\*|         |                         |
|             | versioninfo )     |         |                         |
+-------------+-------------------+---------+-------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x02              |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | åŒæ­¥              |         |                         |
+-------------+-------------------+---------+-------------------------+
| æ˜¯          | å¯é‡å…¥            |         |                         |
| å¦å¯é‡å…¥ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥å‚æ•°ï¼š  | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥        | æ—                 |         |                         |
| è¾“å‡ºå‚æ•°ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | versioninfo       | å€¼åŸŸï¼š  | æ—                       |
+-------------+-------------------+---------+-------------------------+
| è¿”å›å€¼ï¼š    | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | è¿”å›S             |         |                         |
|             | Dæ¨¡å—çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚ |         |                         |
+-------------+-------------------+---------+-------------------------+

Sd_ServerServiceSetStateå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_Serv           |         |                         |
|             | erServiceSetState |         |                         |
+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åŸå‹ï¼š  | Std_ReturnType    |         |                         |
|             | Sd_Serv           |         |                         |
|             | erServiceSetState |         |                         |
|             | (                 |         |                         |
|             |                   |         |                         |
|             | uint16            |         |                         |
|             | SdServe           |         |                         |
|             | rServiceHandleId, |         |                         |
|             |                   |         |                         |
|             | Sd_ServerSe       |         |                         |
|             | rviceSetStateType |         |                         |
|             | S                 |         |                         |
|             | erverServiceState |         |                         |
|             |                   |         |                         |
|             | )                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x07              |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | å¼‚æ­¥              |         |                         |
+-------------+-------------------+---------+-------------------------+
| æ˜¯          | å¯é‡å…¥            |         |                         |
| å¦å¯é‡å…¥ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥å‚æ•°ï¼š  | SdServ            | å€¼åŸŸï¼š  | 0 .. 65535              |
|             | erServiceHandleId |         |                         |
+-------------+-------------------+---------+-------------------------+
|             | S                 | å€¼åŸŸï¼š  | æ—                       |
|             | erverServiceState |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥        | æ—                 |         |                         |
| è¾“å‡ºå‚æ•°ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¿”å›å€¼ï¼š    | Std_ReturnType    | E_OK:   |                         |
|             |                   | State   |                         |
|             |                   | a       |                         |
|             |                   | ccepted |                         |
|             |                   |         |                         |
|             |                   | E       |                         |
|             |                   | _NOT_OK:|                         |
|             |                   | State   |                         |
|             |                   | not     |                         |
|             |                   | a       |                         |
|             |                   | ccepted |                         |
+-------------+-------------------+---------+-------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | BswMæ¨¡å—è°ƒç”¨      |         |                         |
|             | è¯¥æ¥å£è®¾ç½®Server  |         |                         |
|             | Serviceçš„çŠ¶æ€ã€‚   |         |                         |
+-------------+-------------------+---------+-------------------------+

Sd_ClientServiceSetStateå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_Clie           |         |                         |
|             | ntServiceSetState |         |                         |
+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åŸå‹ï¼š  | Std_ReturnType    |         |                         |
|             | Sd_Clie           |         |                         |
|             | ntServiceSetState |         |                         |
|             | (                 |         |                         |
|             |                   |         |                         |
|             | uint16            |         |                         |
|             | Clien             |         |                         |
|             | tServiceHandleId, |         |                         |
|             |                   |         |                         |
|             | Sd_ClientSe       |         |                         |
|             | rviceSetStateType |         |                         |
|             | C                 |         |                         |
|             | lientServiceState |         |                         |
|             |                   |         |                         |
|             | )                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x08              |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | å¼‚æ­¥              |         |                         |
+-------------+-------------------+---------+-------------------------+
| æ˜¯          | å¯é‡å…¥            |         |                         |
| å¦å¯é‡å…¥ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥å‚æ•°ï¼š  | Clie              | å€¼åŸŸï¼š  | 0 .. 65535              |
|             | ntServiceHandleId |         |                         |
+-------------+-------------------+---------+-------------------------+
|             | C                 | å€¼åŸŸï¼š  | æ—                       |
|             | lientServiceState |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥        | æ—                 |         |                         |
| è¾“å‡ºå‚æ•°ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¿”å›å€¼ï¼š    | Std_ReturnType    | E_OK:   |                         |
|             |                   | State   |                         |
|             |                   | a       |                         |
|             |                   | ccepted |                         |
|             |                   | E       |                         |
|             |                   | _NOT_OK:|                         |
|             |                   | State   |                         |
|             |                   | not     |                         |
|             |                   | a       |                         |
|             |                   | ccepted |                         |
+-------------+-------------------+---------+-------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | BswMè°ƒç”¨          |         |                         |
|             | è¯¥æ¥å£è®¾ç½®Client  |         |                         |
|             | Serviceçš„çŠ¶æ€ã€‚   |         |                         |
+-------------+-------------------+---------+-------------------------+

Sd_ConsumedEventGroupSetStateå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+---------------+--------------------------+---------+-------------------+
| å‡½æ•°åç§°ï¼š    | Sd_Co                    |         |                   |
|               | nsumedEventGroupSetState |         |                   |
+---------------+--------------------------+---------+-------------------+
| å‡½æ•°åŸå‹ï¼š    | Std_ReturnType           |         |                   |
|               | Sd_Co                    |         |                   |
|               | nsumedEventGroupSetState |         |                   |
|               | (                        |         |                   |
|               |                          |         |                   |
|               | uint16                   |         |                   |
|               | SdCon                    |         |                   |
|               | sumedEventGroupHandleId, |         |                   |
|               | Sd_Consum                |         |                   |
|               | edEventGroupSetStateType |         |                   |
|               |                          |         |                   |
|               | ConsumedEventGroupState  |         |                   |
|               |                          |         |                   |
|               | )                        |         |                   |
+---------------+--------------------------+---------+-------------------+
| æœåŠ¡ç¼–å·ï¼š    | 0x09                     |         |                   |
+---------------+--------------------------+---------+-------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š   | å¼‚æ­¥                     |         |                   |
+---------------+--------------------------+---------+-------------------+
| æ˜¯å¦å¯é‡å…¥ï¼š  | å¯é‡å…¥                   |         |                   |
+---------------+--------------------------+---------+-------------------+
| è¾“å…¥å‚æ•°ï¼š    | SdCo                     | å€¼      | 0 .. 65535        |
|               | nsumedEventGroupHandleId | åŸŸ      |                   |
|               |                          | ï¼š      |                   |
+---------------+--------------------------+---------+-------------------+
|               | ConsumedEventGroupState  | å€¼      | æ—                 |
|               |                          | åŸŸ      |                   |
|               |                          | ï¼š      |                   |
+---------------+--------------------------+---------+-------------------+
| è¾“            | æ—                        |         |                   |
| å…¥è¾“å‡ºå‚æ•°ï¼š  |                          |         |                   |
+---------------+--------------------------+---------+-------------------+
| è¾“å‡ºå‚æ•°ï¼š    | æ—                        |         |                   |
+---------------+--------------------------+---------+-------------------+
| è¿”å›å€¼ï¼š      | Std_ReturnType           |    E    |                   |
|               |                          |    _OK: |                   |
|               |                          |    S    |                   |
|               |                          |    tate |                   |
|               |                          |    acce |                   |
|               |                          |    pted |                   |
|               |                          |         |                   |
|               |                          |    E    |                   |
|               |                          |    _NOT |                   |
|               |                          |    _OK: |                   |
|               |                          |    S    |                   |
|               |                          |    tate |                   |
|               |                          |    not  |                   |
|               |                          |    acce |                   |
|               |                          |    pted |                   |
+---------------+--------------------------+---------+-------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š    | BswMæ¨¡                   |         |                   |
|               | å—è°ƒç”¨è¯¥æ¥å£è®¾ç½®Consumed |         |                   |
|               | Event Groupçš„çŠ¶æ€ã€‚      |         |                   |
+---------------+--------------------------+---------+-------------------+

Sd_LocalIpAddrAssignmentChgå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_LocalIp        |         |                         |
|             | AddrAssignmentChg |         |                         |
+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åŸå‹ï¼š  | void              |         |                         |
|             | Sd_LocalIp        |         |                         |
|             | AddrAssignmentChg |         |                         |
|             | (                 |         |                         |
|             |                   |         |                         |
|             | SoAd_SoConIdType  |         |                         |
|             | SoConId,          |         |                         |
|             |                   |         |                         |
|             | TcpI              |         |                         |
|             | p_IpAddrStateType |         |                         |
|             | State             |         |                         |
|             |                   |         |                         |
|             | )                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x05              |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | åŒæ­¥              |         |                         |
+-------------+-------------------+---------+-------------------------+
| æ˜¯          | ä¸                |         |                         |
| å¦å¯é‡å…¥ï¼š  | åŒSoConIdså¯é‡å…¥. |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥å‚æ•°ï¼š  | SoConId           | å€¼åŸŸï¼š  | 0 .. 65535              |
+-------------+-------------------+---------+-------------------------+
|             | State             | å€¼åŸŸï¼š  | æ—                       |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥        | æ—                 |         |                         |
| è¾“å‡ºå‚æ•°ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¿”å›å€¼ï¼š    | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | å½“ä¸€ä¸ªsocket      |         |                         |
|             | connectionå…³      |         |                         |
|             | è”çš„IPåœ°å€å‘ç”Ÿå˜  |         |                         |
|             | åŒ–æ—¶ï¼ŒSoAdè°ƒç”¨è¯¥  |         |                         |
|             | æ¥å£é€šçŸ¥Sdæ¨¡å—ã€‚  |         |                         |
+-------------+-------------------+---------+-------------------------+

Sd_SoConModeChgå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~

+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_SoConModeChg   |         |                         |
+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åŸå‹ï¼š  | void              |         |                         |
|             | Sd_SoConModeChg ( |         |                         |
|             |                   |         |                         |
|             | SoAd_SoConIdType  |         |                         |
|             | SoConId,          |         |                         |
|             |                   |         |                         |
|             | S                 |         |                         |
|             | oAd_SoConModeType |         |                         |
|             | Mode              |         |                         |
|             |                   |         |                         |
|             | )                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x43              |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | åŒæ­¥              |         |                         |
+-------------+-------------------+---------+-------------------------+
| æ˜¯          | ä¸                |         |                         |
| å¦å¯é‡å…¥ï¼š  | åŒSoConIdså¯é‡å…¥  |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥å‚æ•°ï¼š  | SoConId           | å€¼åŸŸï¼š  | 0 .. 65535              |
+-------------+-------------------+---------+-------------------------+
|             | Mode              | å€¼åŸŸï¼š  | æ—                       |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥        | æ—                 |         |                         |
| è¾“å‡ºå‚æ•°ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¿”å›å€¼ï¼š    | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | å½“Socket          |         |                         |
|             | Conne             |         |                         |
|             | ctionçš„çŠ¶æ€å‘ç”Ÿå˜ |         |                         |
|             | åŒ–æ—¶ï¼ŒSoAdè°ƒç”¨è¯¥  |         |                         |
|             | æ¥å£é€šçŸ¥Sdæ¨¡å—ã€‚  |         |                         |
+-------------+-------------------+---------+-------------------------+

Sd_RxIndicationå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~

+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_RxIndication   |         |                         |
+-------------+-------------------+---------+-------------------------+
| å‡½æ•°åŸå‹ï¼š  | void              |         |                         |
|             | Sd_RxIndication ( |         |                         |
|             |                   |         |                         |
|             | PduIdType         |         |                         |
|             | RxPduId,          |         |                         |
|             |                   |         |                         |
|             | const             |         |                         |
|             | PduInfoType\*     |         |                         |
|             | PduInfoPtr        |         |                         |
|             |                   |         |                         |
|             | )                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x42              |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | åŒæ­¥              |         |                         |
+-------------+-------------------+---------+-------------------------+
| æ˜¯          | ä¸åŒPduIdså¯é‡å…¥  |         |                         |
| å¦å¯é‡å…¥ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥å‚æ•°ï¼š  | RxPduId           | å€¼åŸŸï¼š  | 0 .. 65535              |
+-------------+-------------------+---------+-------------------------+
|             | PduInfoPtr        | å€¼åŸŸï¼š  | æ—                       |
+-------------+-------------------+---------+-------------------------+
| è¾“å…¥        | æ—                 |         |                         |
| è¾“å‡ºå‚æ•°ï¼š  |                   |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| è¿”å›å€¼ï¼š    | æ—                 |         |                         |
+-------------+-------------------+---------+-------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | ä¸‹å±‚æ¨¡            |         |                         |
|             | å—è°ƒç”¨è¯¥æ¥å£é€šçŸ¥S |         |                         |
|             | dæ¥æ”¶åˆ°ä¸€å¸§æŠ¥æ–‡ã€‚ |         |                         |
+-------------+-------------------+---------+-------------------------+

Sd_MainFunctionå‡½æ•°å®šä¹‰
~~~~~~~~~~~~~~~~~~~~~~~

+-------------+--------------------------------------------------------+
| å‡½æ•°åç§°ï¼š  | Sd_MainFunction                                        |
+-------------+--------------------------------------------------------+
| å‡½æ•°åŸå‹ï¼š  | void Sd_MainFunction ( void )                          |
+-------------+--------------------------------------------------------+
| æœåŠ¡ç¼–å·ï¼š  | 0x06                                                   |
+-------------+--------------------------------------------------------+
| åŒæ­¥/å¼‚æ­¥ï¼š | åŒæ­¥                                                   |
+-------------+--------------------------------------------------------+
| æ˜¯          | ä¸å¯é‡å…¥                                               |
| å¦å¯é‡å…¥ï¼š  |                                                        |
+-------------+--------------------------------------------------------+
| è¾“å…¥å‚æ•°ï¼š  | æ—                                                      |
+-------------+--------------------------------------------------------+
| è¾“å…¥        | æ—                                                      |
| è¾“å‡ºå‚æ•°ï¼š  |                                                        |
+-------------+--------------------------------------------------------+
| è¾“å‡ºå‚æ•°ï¼š  | æ—                                                      |
+-------------+--------------------------------------------------------+
| è¿”å›å€¼ï¼š    | æ—                                                      |
+-------------+--------------------------------------------------------+
| åŠŸèƒ½æ¦‚è¿°ï¼š  | Sdæ¨¡å—çš„å‘¨æœŸå¤„ç†å‡½æ•°ã€‚                                 |
+-------------+--------------------------------------------------------+

å¯é…ç½®å‡½æ•°å®šä¹‰
--------------

æ— ã€‚

é…ç½®
====

SdGeneral
---------

|SdGeneral|

å›¾ SdGeneralå®¹å™¨é…ç½®å›¾

è¡¨5â€‘1SdGeneralå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| **UIåç§°** | **æè¿°** |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdDevE     | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | STD_OFF    |
| rrorDetect |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | DETæ£€æµ‹åŠŸ           |          |            |
|            |          | èƒ½æ˜¯å¦å¯ç”¨çš„å¼€å…³ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdM        | å–å€¼èŒƒå›´ | 1E-3 .. 1           | é»˜è®¤å–å€¼ | æ—          |
| ainFunctio |          |                     |          |            |
| nCycleTime |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å‘¨æœŸå¤„              |          |            |
|            |          | ç†å‡½æ•°çš„è°ƒåº¦å‘¨æœŸã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdSetR     | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | æ—          |
| emAddrOfCl |          |                     |          |            |
| ientRxMult |          |                     |          |            |
| icastSoCon |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“è¯¥å‚æ•°è®¾ç½®ä¸ºTR    |          |            |
|            |          | UEæ—¶ï¼ŒSdæ¥æ”¶åˆ°Offer |          |            |
|            |          | Serviceæ—¶ï¼Œæ ¹æ®æ¥æ”¶ |          |            |
|            |          | åˆ°çš„Endpointé€‰æ‹©ä¸€  |          |            |
|            |          | ä¸ªåŒ¹é…çš„å¤šæ’­Socket  |          |            |
|            |          | Connectio           |          |            |
|            |          | nã€‚å¦‚æœå¯¹åº”çš„Socket |          |            |
|            |          | Connect             |          |            |
|            |          | ionä¸å­˜åœ¨ï¼Œåˆ™é€‰æ‹©ä¸€ |          |            |
|            |          | ä¸ªæœªä½¿ç”¨çš„è¿œç«¯åœ°å€  |          |            |
|            |          | ä¸ºwildcardçš„Socket  |          |            |
|            |          | Connectionï¼Œ        |          |            |
|            |          | å¹¶æ›´æ–°å…¶è¿œç«¯åœ°å€ã€‚  |          |            |
|            |          |                     |          |            |
|            |          | å¦‚æœæ”¹å‚æ•°è®¾        |          |            |
|            |          | ç½®ä¸ºFALSEï¼ŒSdé€‰æ‹©ä¸€ |          |            |
|            |          | ä¸ªæœªä½¿ç”¨çš„è¿œç«¯åœ°å€  |          |            |
|            |          | ä¸ºwildcardçš„Socket  |          |            |
|            |          | Connectionï¼Œä½†      |          |            |
|            |          | ä¸æ›´æ–°å…¶è¿œç«¯åœ°å€ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | æ—          |
| SubscribeE |          |                     |          |            |
| ventgroupR |          |                     |          |            |
| etryEnable |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è®¢é˜…æœåŠ¡ç«¯          |          |            |
|            |          | çš„Eventgroupsæ˜¯å¦å¯ |          |            |
|            |          | ç”¨Retryæœºåˆ¶çš„å¼€å…³ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | SdSubscribeEventgro |          |            |
|            |          | upRetryEnableå‚æ•°è®¾ |          |            |
|            |          | ç½®ä¸ºSTD_OFFæ—¶ï¼ŒSdCl |          |            |
|            |          | ientTimerå¯¹è±¡çš„SdSu |          |            |
|            |          | bscribeEventgroupRe |          |            |
|            |          | tryDelayå‚æ•°å’ŒSdSub |          |            |
|            |          | scribeEventgroupRet |          |            |
|            |          | ryMaxå‚æ•°ä¸å¯ä»¥é…ç½® |          |            |
+------------+----------+---------------------+----------+------------+
| SdVers     | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | STD_OFF    |
| ionInfoApi |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æ˜¯å¦ç”Ÿæˆè·å–        |          |            |
|            |          | ç‰ˆæœ¬ä¿¡æ¯APIçš„å¼€å…³ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdRxMemo   | å–å€¼èŒƒå›´ | 0-2147483647        | é»˜è®¤å–å€¼ | 1024       |
| ryPoolSize |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æ¥æ”¶æœ              |          |            |
|            |          | åŠ¡çš„å†…å­˜æ± çš„å¤§å°ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdRxMemo   | å–å€¼èŒƒå›´ | 0-2147483647        | é»˜è®¤å–å€¼ | 1024       |
| ryPoolSize |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å‘é€æœ              |          |            |
|            |          | åŠ¡çš„å†…å­˜æ± çš„å¤§å°ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdMo       | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | æ—          |
| duleEnable |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¡¨ç¤ºSdæ¨¡å—æ˜¯å¦ä½¿èƒ½  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | å¼•                  | é»˜è®¤å–å€¼ | æ—          |
| MallocFail |          | ç”¨DemEventParameter |          |            |
| DemEventPa |          |                     |          |            |
| rameterRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“Sdå†…å­˜åˆ†é…        |          |            |
|            |          | å¤±è´¥æ—¶å‘DEMæŠ¥å‘Šé”™è¯¯ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dCapabilit |          |                     |          |            |
| yRecordMat |          |                     |          |            |
| chCalloutH |          |                     |          |            |
| eaderFiles |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è®¾ç½®éœ€è¦åœ¨S         |          |            |
|            |          | dæ¨¡å—ä¸­é…ç½®çš„å¤´æ–‡ä»¶ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdConfig
--------

|sdConfig|

å›¾ SdConfigå®¹å™¨é…ç½®å›¾

è¡¨ SdConfigå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdCapabili | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| tyRecordMa |          |                     |          |            |
| tchCallout |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨è¡¨ç¤ºS         |          |            |
|            |          | Dè°ƒç”¨çš„å›è°ƒå‡½æ•°ï¼Œç”¨ |          |            |
|            |          | äºç¡®å®šæ¥æ”¶åˆ°çš„Sdæ¶ˆ  |          |            |
|            |          | æ¯çš„æ¡ç›®ä¸­åŒ…å«çš„é…  |          |            |
|            |          | ç½®é€‰é¡¹æ˜¯å¦ä¸SdServe |          |            |
|            |          | rCapabilityRecordæˆ– |          |            |
|            |          | SdClientCapability  |          |            |
|            |          | recordä¸­é…ç½®        |          |            |
|            |          | çš„åŠŸèƒ½è®°å½•å…ƒç´ åŒ¹é…  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdInstance | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨              |          |            |
|            |          | è¡¨ç¤ºSDçš„ä¸€ä¸ªå®ä¾‹ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdInstance
----------

|image2|

å›¾ SdInstanceå®¹å™¨é…ç½®å›¾

è¡¨ SdInstanceå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdInstan   | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| ceHandleId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | SdInstanceçš„handle  |          |            |
|            |          | Id                  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdInstan   | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ceHostname |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | ç”¨äºé…ç½®Hostname    |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | 0 .. 128            | é»˜è®¤å–å€¼ | æ—          |
| InstanceLo |          |                     |          |            |
| calAdressC |          |                     |          |            |
| heckLength |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å‚æ•°è¡¨ç¤ºå½“ç¡®å®šæŸ  |          |            |
|            |          | ä¸ªè¿œç«¯åœ°å€æ˜¯å¦è¢«æ¥  |          |            |
|            |          | æ”¶æ—¶ï¼Œä»IPåœ°å€ä¸­å–  |          |            |
|            |          | å‡ºå¤šå°‘bitç”¨äºæ¯”è¾ƒã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | TCPIP_AF_INET       | é»˜è®¤å–å€¼ | TCP        |
| AddrFamily |          | TCPIP_AF_INET6      |          | IP_AF_INET |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | Domainç±»å‹          |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdCli      | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| entService |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨åŒ…å«å®¢æˆ·ç«¯æœ  |          |            |
|            |          | åŠ¡æ‰€ç”¨çš„æ‰€æœ‰å‚æ•°ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdC        | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| lientTimer |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹                |          |            |
|            |          | å™¨è¡¨ç¤ºå®¢æˆ·ç«¯æœåŠ¡æ‰€  |          |            |
|            |          | ç”¨çš„æ‰€æœ‰æ—¶é—´å‚æ•°ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dInstanceD |          |                     |          |            |
| emEventPar |          |                     |          |            |
| ameterRefs |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨å¼•ç”¨          |          |            |
|            |          | åˆ°DemEventParamete  |          |            |
|            |          | rï¼Œç”¨äºå‡ºç°é”™è¯¯æ—¶ï¼Œ |          |            |
|            |          | è°ƒç”¨Dem_ReportErro  |          |            |
|            |          | rStatus()å‡½æ•°æ—¶ä½¿ç”¨ |          |            |
|            |          | ã€‚å¯ä»DemEventParam |          |            |
|            |          | eterä¸­è·å–EventIdã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdIn       | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| stanceMult |          |                     |          |            |
| icastRxPdu |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¡¨ç¤º                |          |            |
|            |          | æ¥æ”¶å¤šæ’­SDæŠ¥æ–‡çš„PDU |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdIns      | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| tanceTxPdu |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¡¨ç¤º                |          |            |
|            |          | å‘é€çš„SDæŠ¥æ–‡çš„PDUã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| InstanceUn |          |                     |          |            |
| icastRxPdu |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¡¨ç¤ºæ¥              |          |            |
|            |          | æ”¶å•æ’­SDæŠ¥æ–‡çš„PDUã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdSer      | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| verService |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨åŒ…å«æœåŠ¡ç«¯æœ  |          |            |
|            |          | åŠ¡æ‰€ç”¨çš„æ‰€æœ‰å‚æ•°ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdS        | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| erverTimer |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹                |          |            |
|            |          | å™¨è¡¨ç¤ºæœåŠ¡ç«¯æœåŠ¡æ‰€  |          |            |
|            |          | ç”¨çš„æ‰€æœ‰æ—¶é—´å‚æ•°ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdClientService
---------------

|sdClientservice|

å›¾ SdClientServiceå®¹å™¨é…ç½®å›¾

è¡¨ SdClientServiceå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdClie     | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | STD_OFF    |
| ntServiceA |          |                     |          |            |
| utoRequire |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è®¾ç½®ä¸º              |          |            |
|            |          | TRUEï¼Œåˆ™æœåŠ¡åœ¨å¯åŠ¨  |          |            |
|            |          | æ—¶è‡ªåŠ¨è®¾ç½®ä¸ºâ€œéœ€è¦â€  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdC        | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| lientServi |          |                     |          |            |
| ceHandleId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | BswMè¯†åˆ«            |          |            |
|            |          | è¯¥æœåŠ¡çš„HandleIdã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClien    | å–å€¼èŒƒå›´ | 0 .. 65534          | é»˜è®¤å–å€¼ | æ—          |
| tServiceId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯†åˆ«è¯¥æœåŠ¡çš„IDï¼Œä¸  |          |            |
|            |          | åŒçš„æœåŠ¡éœ€è¦å”¯ä¸€ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdCli      | å–å€¼èŒƒå›´ | 0 .. 65534          | é»˜è®¤å–å€¼ | æ—          |
| entService |          |                     |          |            |
| InstanceId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥æœåŠ¡çš„å®ä¾‹Id      |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClien    | å–å€¼èŒƒå›´ | 0 .. 254            | é»˜è®¤å–å€¼ | æ—          |
| tServiceMa |          |                     |          |            |
| jorVersion |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | Major version       |          |            |
|            |          | number of the       |          |            |
|            |          | Service as used in  |          |            |
|            |          | the SD entries.     |          |            |
|            |          |                     |          |            |
|            |          | å®¢æˆ·ç«¯æœåŠ¡çš„Major   |          |            |
|            |          | versionã€‚           |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClien    | å–å€¼èŒƒå›´ | 0 .. 4294967295     | é»˜è®¤å–å€¼ | æ—          |
| tServiceMi |          |                     |          |            |
| norVersion |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å®¢æˆ·ç«¯æœåŠ¡çš„Minor   |          |            |
|            |          | versionã€‚           |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClientC  | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| apabilityR |          |                     |          |            |
| ecordMatch |          |                     |          |            |
| CalloutRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨                |          |            |
|            |          | åˆ°ä¸€ä¸ªSdCapabilityR |          |            |
|            |          | ecordMatchCalloutï¼Œ |          |            |
|            |          | ç”¨äºç¡®å®šæ”¶åˆ°çš„SDæ¶ˆ  |          |            |
|            |          | æ¯æ¡ç›®ä¸­åŒ…å«çš„é…ç½®  |          |            |
|            |          | é€‰é¡¹æ˜¯å¦ä¸å®¢æˆ·ç«¯é…  |          |            |
|            |          | ç½®çš„SdClientCapabil |          |            |
|            |          | ityRecordå…ƒç´ ç›¸åŒ¹é… |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dClientSer |          |                     |          |            |
| viceTcpRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€ä¸ªTCP       |          |            |
|            |          | S                   |          |            |
|            |          | oAdSocketConnection |          |            |
|            |          | Groupï¼Œç”¨äºè¯¥æœåŠ¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdC        | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| lientServi |          |                     |          |            |
| ceTimerRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€ä¸ªSdClient  |          |            |
|            |          | Timerï¼Œç”¨äºè¯¥æœåŠ¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dClientSer |          |                     |          |            |
| viceUdpRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€ä¸ªUDP       |          |            |
|            |          | S                   |          |            |
|            |          | oAdSocketConnection |          |            |
|            |          | Groupï¼Œç”¨äºè¯¥æœåŠ¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dBlacklist |          |                     |          |            |
| edVersions |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥                  |          |            |
|            |          | å®¹å™¨é»‘åå•ç‰ˆæœ¬é›†åˆ  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClientCl | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ientCapabi |          |                     |          |            |
| lityRecord |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¡¨ç¤ºç”¨äºå­˜å‚¨name/va |          |            |
|            |          | lueå±æ€§çš„capability |          |            |
|            |          | records             |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdConsumed | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| EventGroup |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨è¡¨ç¤ºconsumed  |          |            |
|            |          | event               |          |            |
|            |          | gr                  |          |            |
|            |          | oupç”¨åˆ°çš„æ‰€æœ‰å‚æ•°ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdConsu    | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| medMethods |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥                  |          |            |
|            |          | å®¹å™¨è¡¨ç¤ºè®¿é—®æœåŠ¡ç«¯  |          |            |
|            |          | çš„æ–¹æ³•çš„æ•°æ®é€šé“ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdClientCapabilityRecord
~~~~~~~~~~~~~~~~~~~~~~~~

|capabilityRecord|

å›¾ SdClientCapabilityRecordå®¹å™¨é…ç½®å›¾

è¡¨ SdClientCapabilityRecordå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdCl       | å–å€¼èŒƒå›´ | åˆæ³•å­—ç¬¦ä¸²          | é»˜è®¤å–å€¼ | æ—          |
| ientServic |          |                     |          |            |
| eCapabilit |          |                     |          |            |
| yRecordKey |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å®šä¹‰ä¸€              |          |            |
|            |          | ä¸ªCapabilityRecord  |          |            |
|            |          | key.                |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClie     | å–å€¼èŒƒå›´ | åˆæ³•å­—ç¬¦ä¸²          | é»˜è®¤å–å€¼ | æ—          |
| ntServiceC |          |                     |          |            |
| apabilityR |          |                     |          |            |
| ecordValue |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å®šä¹‰keyå¯¹åº”çš„       |          |            |
|            |          | CapabilityRecordå€¼. |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdConsumedEventGroup
~~~~~~~~~~~~~~~~~~~~

|consumedEventgroup|

å›¾ SdConsumedEventGroupå®¹å™¨é…ç½®å›¾

è¡¨ SdConsumedEventGroupå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | STD_OFF    |
| dConsumedE |          |                     |          |            |
| ventGroupA |          |                     |          |            |
| utoRequire |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è®¾ç½®ä¸ºTRUEï¼Œåˆ™åœ¨    |          |            |
|            |          | å¯åŠ¨æ—¶ï¼Œè¯¥EventGrou |          |            |
|            |          | pè¢«è‡ªåŠ¨è®¾ç½®ä¸ºâ€œéœ€è¦â€ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdConsum   | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| edEventGro |          |                     |          |            |
| upHandleId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | BswMè¯†              |          |            |
|            |          | åˆ«è¯¥æœåŠ¡çš„HandleId  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | 0 .. 65534          | é»˜è®¤å–å€¼ | æ—          |
| ConsumedEv |          |                     |          |            |
| entGroupId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | Eventgroup Id       |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdConsu    | å–å€¼èŒƒå›´ | 0 .. 15             | é»˜è®¤å–å€¼ | æ—          |
| medEventGr |          |                     |          |            |
| oupCounter |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | ConsumedEventGroup  |          |            |
|            |          | çš„è®¡æ•°å™¨            |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ConsumedEv |          |                     |          |            |
| entGroupMu |          |                     |          |            |
| lticastAct |          |                     |          |            |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æŒ‡å‘ä¸€ä¸ªSoAd        |          |            |
|            |          | RoutingGroupå¯¹è±¡ï¼ŒS |          |            |
|            |          | dé€šè¿‡è¯¥å¯¹è±¡æ§åˆ¶ç”¨äº |          |            |
|            |          | æ¥æ”¶å¤šæ’­Eventçš„é€šé“ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdConsu    | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| medEventGr |          |                     |          |            |
| oupMultica |          |                     |          |            |
| stGroupRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æŒ‡                  |          |            |
|            |          | å‘SoAdSocketConnec  |          |            |
|            |          | tionGroupå¯¹è±¡ï¼Œå¤šæ’­ |          |            |
|            |          | Eventé€šè¿‡è¯¥é€šé“æ¥æ”¶ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdCons     | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| umedEventG |          |                     |          |            |
| roupTcpAct |          |                     |          |            |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å…³è”ä¸€ä¸ªé…          |          |            |
|            |          | ç½®ä¸ºTCPçš„SoAdSocket |          |            |
|            |          | ConnectionGroupï¼Œç”¨ |          |            |
|            |          | äºæ§åˆ¶TCPäº‹ä»¶çš„æ¥æ”¶ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdConsum   | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| edEventGro |          |                     |          |            |
| upTimerRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å…³è”ä¸€ä¸ªSd          |          |            |
|            |          | ClientTimerï¼Œç”¨äºæ |          |            |
|            |          | ä¾›å’ŒSdConsumedEvent |          |            |
|            |          | Groupç›¸å…³çš„æ—¶é—´å‚æ•° |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdCons     | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| umedEventG |          |                     |          |            |
| roupUdpAct |          |                     |          |            |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å…³è”ä¸€ä¸ªé…          |          |            |
|            |          | ç½®ä¸ºUDPçš„SoAdSocket |          |            |
|            |          | ConnectionGroupï¼Œç”¨ |          |            |
|            |          | äºæ§åˆ¶UDPäº‹ä»¶çš„æ¥æ”¶ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdConsumedMethods
~~~~~~~~~~~~~~~~~

|consumedMethodss|

å›¾ SdConsumedMethodså®¹å™¨é…ç½®å›¾

è¡¨ SdConsumedMethodså®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdClient   | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ServiceAct |          |                     |          |            |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨ä¸€ä¸ªSoAdR       |          |            |
|            |          | outingGroupå¯¹è±¡ï¼ŒSd |          |            |
|            |          | é€šè¿‡è¯¥å¼•ç”¨æ‰“å¼€/å…³é—­ |          |            |
|            |          | Clientçš„Methodé€šé“  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdClientTimer
-------------

|image3|

å›¾ SdClientTimerå®¹å™¨é…ç½®å›¾

è¡¨ SdClientTimerå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| ClientTime |          |                     |          |            |
| rInitialFi |          |                     |          |            |
| ndDelayMax |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“å‘é€Fin           |          |            |
|            |          | dæŠ¥æ–‡æ—¶ï¼Œéšæœºå»¶æ—¶çš„ |          |            |
|            |          | æœ€å¤§å€¼ï¼Œå•ä½æ˜¯ç§’ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| ClientTime |          |                     |          |            |
| rInitialFi |          |                     |          |            |
| ndDelayMin |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“å‘é€Fin           |          |            |
|            |          | dæŠ¥æ–‡æ—¶ï¼Œéšæœºå»¶æ—¶çš„ |          |            |
|            |          | æœ€å°å€¼ï¼Œå•ä½æ˜¯ç§’ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | SdClientTimer       |          |            |
|            |          | InitialFindDelayMin |          |            |
|            |          | <=                  |          |            |
|            |          | SdClientTimer       |          |            |
|            |          | InitialFindDelayMax |          |            |
+------------+----------+---------------------+----------+------------+
| SdCl       | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| ientTimerI |          |                     |          |            |
| nitialFind |          |                     |          |            |
| Repetition |          |                     |          |            |
| sBaseDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | åœ¨Repetitioné˜¶æ®µé‡  |          |            |
|            |          | å¤å‘é€FindæŠ¥æ–‡çš„åŸº  |          |            |
|            |          | å‡†æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClient   | å–å€¼èŒƒå›´ | 0 .. 10             | é»˜è®¤å–å€¼ | æ—          |
| TimerIniti |          |                     |          |            |
| alFindRepe |          |                     |          |            |
| titionsMax |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | åœ¨Repe              |          |            |
|            |          | titioné˜¶æ®µé‡å¤å‘é€F |          |            |
|            |          | indæŠ¥æ–‡çš„æœ€å¤§æ¬¡æ•°ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClie     | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| ntTimerReq |          |                     |          |            |
| uestRespon |          |                     |          |            |
| seMaxDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“æ¥æ”¶åˆ°å¤šæ’­å‘é€    |          |            |
|            |          | çš„è¯·æ±‚æ—¶ï¼Œåº”ç­”æ—¶éš  |          |            |
|            |          | æœºå»¶æ—¶çš„æœ€å¤§æ—¶é—´ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdClie     | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| ntTimerReq |          |                     |          |            |
| uestRespon |          |                     |          |            |
| seMinDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“æ¥æ”¶åˆ°å¤šæ’­å‘é€    |          |            |
|            |          | çš„è¯·æ±‚æ—¶ï¼Œåº”ç­”æ—¶éš  |          |            |
|            |          | æœºå»¶æ—¶çš„æœ€å°æ—¶é—´ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | SdClientTimerRequ   |          |            |
|            |          | estResponseMinDelay |          |            |
|            |          | <=                  |          |            |
|            |          | SdClientTimerRequ   |          |            |
|            |          | estResponseMaxDelay |          |            |
+------------+----------+---------------------+----------+------------+
| SdClie     | å–å€¼èŒƒå›´ | 1 .. 16777215       | é»˜è®¤å–å€¼ | æ—          |
| ntTimerTTL |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | findå’Œsubscri       |          |            |
|            |          | beæŠ¥æ–‡ä¸­çš„TTLæ—¶é—´ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | 0.001 .. 50         | é»˜è®¤å–å€¼ | 0.01       |
| dSubscribe |          |                     |          |            |
| Eventgroup |          |                     |          |            |
| RetryDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“ä¸€ä¸ª              |          |            |
|            |          | è®¢é˜…æŠ¥æ–‡æ²¡æœ‰æ”¶åˆ°Sub |          |            |
|            |          | scribeEventGroupAck |          |            |
|            |          | æˆ–è€…SubscribeEve    |          |            |
|            |          | ntGroupNackæ—¶ï¼Œé‡å¤ |          |            |
|            |          | è®¢é˜…æ—¶çš„å»¶æ—¶æ—¶é—´ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | è¯¥å‚æ•°åªæœ‰å½“        |          |            |
|            |          | SdSubscribeEv       |          |            |
|            |          | entgroupRetryEnable |          |            |
|            |          | ä¸º                  |          |            |
|            |          | TRUEå¹¶ä¸”SdSubscrib  |          |            |
|            |          | eEventgroupRetryMax |          |            |
|            |          | > 0æ—¶å¯ç”¨ã€‚         |          |            |
+------------+----------+---------------------+----------+------------+
| SdSubscri  | å–å€¼èŒƒå›´ | 0 .. 255            | é»˜è®¤å–å€¼ | 0          |
| beEventgro |          |                     |          |            |
| upRetryMax |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“ä¸€ä¸ª              |          |            |
|            |          | è®¢é˜…æŠ¥æ–‡æ²¡æœ‰æ”¶åˆ°Sub |          |            |
|            |          | scribeEventGroupAck |          |            |
|            |          | æˆ–è€…SubscribeEve    |          |            |
|            |          | ntGroupNackæ—¶ï¼Œå¯é‡ |          |            |
|            |          | å¤è®¢é˜…çš„æœ€å¤§æ¬¡æ•°ã€‚  |          |            |
|            |          |                     |          |            |
|            |          | 0x0=no retry,       |          |            |
|            |          | 0xFF=retry forever  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | è¯¥å‚æ•°åªæœ‰å½“        |          |            |
|            |          | SdSubscribeEv       |          |            |
|            |          | entgroupRetryEnable |          |            |
|            |          | ä¸ºTRUEæ—¶å¯ç”¨        |          |            |
+------------+----------+---------------------+----------+------------+

SdServerService
---------------

|serverService|

å›¾ SdServerServiceå®¹å™¨é…ç½®å›¾

è¡¨ SdServerServiceå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdServer   | å–å€¼èŒƒå›´ | STD_ON / STD_OFF    | é»˜è®¤å–å€¼ | STD_OFF    |
| ServiceAut |          |                     |          |            |
| oAvailable |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è®¾ç½®ä¸ºTRU           |          |            |
|            |          | Eï¼Œåˆ™æ”¹æœåŠ¡åœ¨å¯åŠ¨æ—¶ |          |            |
|            |          | è‡ªåŠ¨è¢«è®¾ç½®ä¸ºå¯ç”¨ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdS        | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| erverServi |          |                     |          |            |
| ceHandleId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | BswMè¯†åˆ«            |          |            |
|            |          | è¯¥æœåŠ¡çš„HandleIdã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServe    | å–å€¼èŒƒå›´ | 1 .. 65534          | é»˜è®¤å–å€¼ | æ—          |
| rServiceId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯†åˆ«è¯¥æœåŠ¡çš„IDï¼Œä¸  |          |            |
|            |          | åŒçš„æœåŠ¡éœ€è¦å”¯ä¸€ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdSer      | å–å€¼èŒƒå›´ | 0 .. 65534          | é»˜è®¤å–å€¼ | æ—          |
| verService |          |                     |          |            |
| InstanceId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æœ                  |          |            |
|            |          | åŠ¡ç«¯æœåŠ¡çš„å®ä¾‹IDã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServ     | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| erServiceL |          |                     |          |            |
| oadBalanci |          |                     |          |            |
| ngPriority |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å®šä¹‰æœåŠ¡ä¸­çš„è´Ÿè½½    |          |            |
|            |          | å¹³è¡¡ä¼˜å…ˆçº§çš„å€¼ã€‚å€¼  |          |            |
|            |          | è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdSe       | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| rverServic |          |                     |          |            |
| eLoadBalan |          |                     |          |            |
| cingWeight |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å®šä¹‰æœ              |          |            |
|            |          | åŠ¡ä¸­çš„è´Ÿè½½å¹³è¡¡æƒé‡  |          |            |
|            |          | çš„å€¼ã€‚å€¼è¶Šé«˜æ„å‘³ç€  |          |            |
|            |          | è¢«é€‰ä¸­çš„æ¦‚ç‡è¶Šé«˜ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServe    | å–å€¼èŒƒå›´ | 0 .. 254            | é»˜è®¤å–å€¼ | æ—          |
| rServiceMa |          |                     |          |            |
| jorVersion |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æœåŠ¡ç«¯æœåŠ¡çš„Major   |          |            |
|            |          | Versionã€‚           |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServe    | å–å€¼èŒƒå›´ | 0 .. 4294967294     | é»˜è®¤å–å€¼ | æ—          |
| rServiceMi |          |                     |          |            |
| norVersion |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æœåŠ¡ç«¯æœåŠ¡çš„Minor   |          |            |
|            |          | Versionã€‚           |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServerC  | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| apabilityR |          |                     |          |            |
| ecordMatch |          |                     |          |            |
| CalloutRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨ä¸€ä¸ªSdCapabili  |          |            |
|            |          | tyRecordMatchCallou |          |            |
|            |          | tï¼Œç”¨äºç¡®å®šæ¥æ”¶åˆ°çš„ |          |            |
|            |          | SD                  |          |            |
|            |          | æ¶ˆæ¯æ¡ç›®            |          |            |
|            |          | ä¸­åŒ…å«çš„é…ç½®é€‰é¡¹æ˜¯  |          |            |
|            |          | å¦åŒ¹é…æœåŠ¡å™¨é…ç½®çš„  |          |            |
|            |          | SdSer               |          |            |
|            |          | verCapabilityRecord |          |            |
|            |          | å…ƒç´ ã€‚              |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dServerSer |          |                     |          |            |
| viceTcpRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€ä¸ªTCP       |          |            |
|            |          | S                   |          |            |
|            |          | oAdSocketConnection |          |            |
|            |          | Groupï¼Œç”¨äºè¯¥æœåŠ¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdS        | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| erverServi |          |                     |          |            |
| ceTimerRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€ä¸ªSdServ    |          |            |
|            |          | erTimerç”¨äºè¯¥æœåŠ¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dServerSer |          |                     |          |            |
| viceUdpRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€ä¸ªUDP       |          |            |
|            |          | S                   |          |            |
|            |          | oAdSocketConnection |          |            |
|            |          | Groupï¼Œç”¨äºè¯¥æœåŠ¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdEv       | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| entHandler |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨è¡¨ç¤ºæœ        |          |            |
|            |          | åŠ¡ä¸­çš„EventGroupã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdProvi    | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| dedMethods |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | Container element   |          |            |
|            |          | for representing    |          |            |
|            |          | the needed elements |          |            |
|            |          | of the data path    |          |            |
|            |          | for the methods     |          |            |
|            |          | provided by the     |          |            |
|            |          | service             |          |            |
|            |          |                     |          |            |
|            |          | è¯¥å®¹å™¨è¡¨ç¤ºæœåŠ¡æä¾›  |          |            |
|            |          | çš„æ–¹æ³•çš„æ•°æ®è·¯å¾„ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdSe       | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| rverCapabi |          |                     |          |            |
| lityRecord |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¡¨ç¤ºç”¨äºå­˜å‚¨name/va |          |            |
|            |          | lueå±æ€§çš„capability |          |            |
|            |          | records             |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdEventHandler
~~~~~~~~~~~~~~

|image4|

å›¾ SdEventHandlerå®¹å™¨é…ç½®å›¾

è¡¨ SdEventHandlerå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdEven     | å–å€¼èŒƒå›´ | 0 .. 65534          | é»˜è®¤å–å€¼ | æ—          |
| tHandlerEv |          |                     |          |            |
| entGroupId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | ç”¨äºé…ç½®EventGroup  |          |            |
|            |          | Id                  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| EventHandl |          |                     |          |            |
| erHandleId |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | BswMé€šè¿‡è¯¥Han       |          |            |
|            |          | dleIdè¯†åˆ«EventGroup |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
| EventHandl |          |                     |          |            |
| erMulticas |          |                     |          |            |
| tThreshold |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | ç”¨äº                |          |            |
|            |          | è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œå½“è®¢  |          |            |
|            |          | é˜…åˆ—è¡¨ä¸­çš„Clientå¤§  |          |            |
|            |          | äºç­‰äºè¯¥å€¼æ—¶ï¼Œä½¿ç”¨  |          |            |
|            |          | å¤šæ’­è¿›è¡ŒEventçš„å‘é€ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| Sd         | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| EventHandl |          |                     |          |            |
| erTimerRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å…³                  |          |            |
|            |          | è”ä¸€ä¸ªSdServerTimer |          |            |
|            |          | ï¼Œç”¨äºæä¾›å’ŒEventHa |          |            |
|            |          | ndlerç›¸å…³çš„æ—¶é—´å‚æ•° |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdE        | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ventHandle |          |                     |          |            |
| rMulticast |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨åŒ…å«ç”¨äº      |          |            |
|            |          | æ¿€æ´»é€šè¿‡å¤šæ’­å‘é€çš„  |          |            |
|            |          | Eventçš„RoutingGroup |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdEvent    | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| HandlerTcp |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨åŒ…å«ç”¨        |          |            |
|            |          | äºæ¿€æ´»é€šè¿‡TCPå‘é€çš„ |          |            |
|            |          | Eventçš„RoutingGroup |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdEvent    | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| HandlerUdp |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | è¯¥å®¹å™¨åŒ…å«ç”¨        |          |            |
|            |          | äºæ¿€æ´»é€šè¿‡UDPå‘é€çš„ |          |            |
|            |          | Eventçš„RoutingGroup |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdEventHandlerMulticast
^^^^^^^^^^^^^^^^^^^^^^^

|image5|

å›¾ SdEventHandlerMulticastå®¹å™¨é…ç½®å›¾

è¡¨ SdEventHandlerMulticastå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdEventAct | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•                  |          |            |
|            |          | ç”¨ä¸€ä¸ªSoAdRoutingGr |          |            |
|            |          | oupå¯¹è±¡ï¼ŒSdé€šè¿‡è¯¥å¼• |          |            |
|            |          | ç”¨æ‰“å¼€å¤šæ’­æ•°æ®å‘é€  |          |            |
|            |          | é€šé“ï¼Œä¹‹åå¤šæ’­Even  |          |            |
|            |          | tä¾¿å¯ä»¥å‘é€ç»™Client |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdMu       | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| lticastEve |          |                     |          |            |
| ntSoConRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨ä¸€ä¸ªSoA         |          |            |
|            |          | dSocketConnectionå¯¹ |          |            |
|            |          | è±¡ï¼Œç”¨äºå¤šæ’­å‘é€ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdEventHandlerTcp
^^^^^^^^^^^^^^^^^

|image6|

å›¾ SdEventHandlerTcpå®¹å™¨é…ç½®å›¾

è¡¨ SdEventHandlerTcpå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdEventAct | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨ä¸€ä¸ªSoAdRouting |          |            |
|            |          | Groupå¯¹è±¡ï¼Œå½“æœ‰Clie |          |            |
|            |          | ntè®¢é˜…è¯¥äº‹ä»¶ç»„æ—¶ï¼ŒS |          |            |
|            |          | dé€šè¿‡è¯¥å¼•ç”¨æ‰“å¼€æ•°æ® |          |            |
|            |          | å‘é€é€šé“ï¼Œä¹‹åEven  |          |            |
|            |          | tä¾¿å¯ä»¥å‘é€ç»™Client |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdEventTri | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ggeringRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨                |          |            |
|            |          | ä¸€ä¸ªSoAdRoutingGro  |          |            |
|            |          | upå¯¹è±¡ï¼Œç”¨äºTrigger |          |            |
|            |          | Transmitã€‚å½“é…ç½®çš„E |          |            |
|            |          | ventgroupä¸­åŒ…å«å±äº |          |            |
|            |          | Fieldçš„Eventæ—¶ï¼Œé…  |          |            |
|            |          | ç½®è¯¥å¯¹è±¡ï¼Œåœ¨SoAdä¸­  |          |            |
|            |          | é…ç½®å±äºFieldçš„Even |          |            |
|            |          | tçš„SoAdPduRouteæ—¶ï¼Œ |          |            |
|            |          | SoAdTxRoutingGroup  |          |            |
|            |          | Refä¸­å…³è”è¿™é‡Œé…ç½®çš„ |          |            |
|            |          | SoAdRoutingGroupã€‚  |          |            |
|            |          | å½“ç¬¬ä¸€æ¬¡è®¢é˜…Ev      |          |            |
|            |          | entgroupæ—¶ï¼ŒEventgr |          |            |
|            |          | oupä¼šä¸»åŠ¨å‘é€ä¸€æ¬¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdEventHandlerUdp
^^^^^^^^^^^^^^^^^

|image7|

å›¾ SdEventHandlerUdpå®¹å™¨é…ç½®å›¾

è¡¨ SdEventHandlerUdpå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdEventAct | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨ä¸€ä¸ªSoAdRouting |          |            |
|            |          | Groupå¯¹è±¡ï¼Œå½“æœ‰Clie |          |            |
|            |          | ntè®¢é˜…è¯¥äº‹ä»¶ç»„æ—¶ï¼ŒS |          |            |
|            |          | dé€šè¿‡è¯¥å¼•ç”¨æ‰“å¼€æ•°æ® |          |            |
|            |          | å‘é€é€šé“ï¼Œä¹‹åEven  |          |            |
|            |          | tä¾¿å¯ä»¥å‘é€ç»™Client |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdEventTri | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ggeringRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨                |          |            |
|            |          | ä¸€ä¸ªSoAdRoutingGro  |          |            |
|            |          | upå¯¹è±¡ï¼Œç”¨äºTrigger |          |            |
|            |          | Transmitã€‚å½“é…ç½®çš„E |          |            |
|            |          | ventgroupä¸­åŒ…å«å±äº |          |            |
|            |          | Fieldçš„Eventæ—¶ï¼Œé…  |          |            |
|            |          | ç½®è¯¥å¯¹è±¡ï¼Œåœ¨SoAdä¸­  |          |            |
|            |          | é…ç½®å±äºFieldçš„Even |          |            |
|            |          | tçš„SoAdPduRouteæ—¶ï¼Œ |          |            |
|            |          | SoAdTxRoutingGroup  |          |            |
|            |          | Refä¸­å…³è”è¿™é‡Œé…ç½®çš„ |          |            |
|            |          | SoAdRoutingGroupã€‚  |          |            |
|            |          | å½“ç¬¬ä¸€æ¬¡è®¢é˜…Ev      |          |            |
|            |          | entgroupæ—¶ï¼ŒEventgr |          |            |
|            |          | oupä¼šä¸»åŠ¨å‘é€ä¸€æ¬¡ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdProvidedMethods
~~~~~~~~~~~~~~~~~

|image8|

å›¾ SdProvidedMethodså®¹å™¨é…ç½®å›¾

è¡¨ SdProvidedMethodså®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdServer   | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| ServiceAct |          |                     |          |            |
| ivationRef |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨ä¸€ä¸ªSoA         |          |            |
|            |          | dRoutingGroupå¯¹è±¡ï¼Œ |          |            |
|            |          | Sdé€šè¿‡è¯¥å¼•ç”¨æ‰“å¼€/å…³ |          |            |
|            |          | é—­æœåŠ¡çš„Methodé€šé“  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdServerCapabilityRecord
~~~~~~~~~~~~~~~~~~~~~~~~

|image9|

å›¾ SdServerCapabilityRecordå®¹å™¨é…ç½®å›¾

è¡¨ SdServerCapabilityRecordå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdServe    | å–å€¼èŒƒå›´ | åˆæ³•å­—ç¬¦ä¸²          | é»˜è®¤å–å€¼ | æ—          |
| rCapabilit |          |                     |          |            |
| yRecordKey |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å®šä¹‰ä¸€              |          |            |
|            |          | ä¸ªCapabilityRecord  |          |            |
|            |          | key.                |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServerC  | å–å€¼èŒƒå›´ | åˆæ³•å­—ç¬¦ä¸²          | é»˜è®¤å–å€¼ | æ—          |
| apabilityR |          |                     |          |            |
| ecordValue |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å®šä¹‰keyå¯¹åº”çš„       |          |            |
|            |          | CapabilityRecordå€¼. |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdServerTimer
-------------

|image10|

å›¾ SdServerTimerå®¹å™¨é…ç½®å›¾

è¡¨ SdServerTimerå®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdS        | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| erverTimer |          |                     |          |            |
| InitialOff |          |                     |          |            |
| erDelayMax |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“å‘é€ç¬¬ä¸€æ¬¡Offe    |          |            |
|            |          | ræŠ¥æ–‡æ—¶ï¼Œéšæœºå»¶æ—¶çš„ |          |            |
|            |          | æœ€å¤§å€¼ï¼Œå•ä½æ˜¯ç§’ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdS        | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| erverTimer |          |                     |          |            |
| InitialOff |          |                     |          |            |
| erDelayMin |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“å‘é€ç¬¬ä¸€æ¬¡Offe    |          |            |
|            |          | ræŠ¥æ–‡æ—¶ï¼Œéšæœºå»¶æ—¶çš„ |          |            |
|            |          | æœ€å°å€¼ï¼Œå•ä½æ˜¯ç§’ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | SdServerTimerI      |          |            |
|            |          | nitialOfferDelayMin |          |            |
|            |          | <=                  |          |            |
|            |          | SdServerTimerI      |          |            |
|            |          | nitialOfferDelayMax |          |            |
+------------+----------+---------------------+----------+------------+
| SdSe       | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| rverTimerI |          |                     |          |            |
| nitialOffe |          |                     |          |            |
| rRepetitio |          |                     |          |            |
| nBaseDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | åœ¨Repetitioné˜¶æ®µé‡  |          |            |
|            |          | å¤å‘é€OfferæŠ¥æ–‡çš„åŸº |          |            |
|            |          | å‡†æ—¶é—´ï¼Œå•ä½æ˜¯ç§’ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServerT  | å–å€¼èŒƒå›´ | 0 .. 10             | é»˜è®¤å–å€¼ | æ—          |
| imerInitia |          |                     |          |            |
| lOfferRepe |          |                     |          |            |
| titionsMax |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | åœ¨Repet             |          |            |
|            |          | itioné˜¶æ®µé‡å¤å‘é€Of |          |            |
|            |          | feræŠ¥æ–‡çš„æœ€å¤§æ¬¡æ•°ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServerT  | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| imerOfferC |          |                     |          |            |
| yclicDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | åœ¨M                 |          |            |
|            |          | ainé˜¶æ®µï¼Œé‡å¤å‘é€Of |          |            |
|            |          | feræŠ¥æ–‡çš„å‘¨æœŸæ—¶é—´ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServ     | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| erTimerReq |          |                     |          |            |
| uestRespon |          |                     |          |            |
| seMaxDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“æ¥æ”¶åˆ°å¤šæ’­å‘é€    |          |            |
|            |          | çš„è¯·æ±‚æ—¶ï¼Œåº”ç­”æ—¶éš  |          |            |
|            |          | æœºå»¶æ—¶çš„æœ€å¤§æ—¶é—´ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdServ     | å–å€¼èŒƒå›´ | 0 .. INF            | é»˜è®¤å–å€¼ | æ—          |
| erTimerReq |          |                     |          |            |
| uestRespon |          |                     |          |            |
| seMinDelay |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å½“æ¥æ”¶åˆ°å¤šæ’­å‘é€    |          |            |
|            |          | çš„è¯·æ±‚æ—¶ï¼Œåº”ç­”æ—¶éš  |          |            |
|            |          | æœºå»¶æ—¶çš„æœ€å°æ—¶é—´ã€‚  |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | SdServerTimerRequ   |          |            |
|            |          | estResponseMinDelay |          |            |
|            |          | <=                  |          |            |
|            |          | SdServerTimerRequ   |          |            |
|            |          | estResponseMaxDelay |          |            |
+------------+----------+---------------------+----------+------------+
| SdServ     | å–å€¼èŒƒå›´ | 1 .. 16777215       | é»˜è®¤å–å€¼ | æ—          |
| erTimerTTL |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | Offer               |          |            |
|            |          | S                   |          |            |
|            |          | erviceä¸­çš„TTLæ—¶é—´ã€‚ |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdInstanceDemEventParameterRefs
-------------------------------

|image11|

å›¾ SdInstanceDemEventParameterRefså®¹å™¨é…ç½®å›¾

è¡¨ SdInstanceDemEventParameterRefså®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SD_E_MAL   | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| FORMED_MSG |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€ä¸ªDemEvent  |          |            |
|            |          | Parameterï¼Œå½“Sdæ¥æ”¶ |          |            |
|            |          | åˆ°é•¿åº¦é”™è¯¯çš„æŠ¥æ–‡æ—¶  |          |            |
|            |          | ï¼Œé€šè¿‡è¯¥å‚æ•°é€šçŸ¥Dem |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SD_E       | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| _OUT_OF_RES|          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•ç”¨åˆ°ä¸€            |          |            |
|            |          | ä¸ªDemEventParamete  |          |            |
|            |          | rï¼Œå½“Sdèµ„æºä¸è¶³æ— æ³• |          |            |
|            |          | å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¶  |          |            |
|            |          | ï¼Œé€šè¿‡è¯¥å‚æ•°é€šçŸ¥Dem |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| S          | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
| D_E_SUBSCR |          |                     |          |            |
| _NACK_RECV |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•                  |          |            |
|            |          | ç”¨åˆ°ä¸€ä¸ªDemEventPa  |          |            |
|            |          | rameterï¼Œæ”¶åˆ°Subscr |          |            |
|            |          | ibeEventgroupNackæ—¶ |          |            |
|            |          | ï¼Œé€šè¿‡è¯¥å‚æ•°é€šçŸ¥Dem |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdInstanceMulticastRxPdus
-------------------------

|image12|

å›¾ SdInstanceMulticastRxPduså®¹å™¨é…ç½®å›¾

è¡¨ SdInstanceMulticastRxPduså®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdRxPduId  | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æ¥æ”¶å¤šæ’­Pduçš„ID.    |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdRxPduRef | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•                  |          |            |
|            |          | ç”¨åˆ°ä¸€ä¸ªEcuä¸­çš„Pdu. |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdInstanceTxPdus
----------------

|image13|

å›¾ SdInstanceTxPduså®¹å™¨é…ç½®å›¾

è¡¨ SdInstanceTxPduså®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdTxPduId  | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å‘é€Pduçš„ID.        |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdTxPduRef | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•                  |          |            |
|            |          | ç”¨åˆ°ä¸€ä¸ªEcuä¸­çš„Pdu. |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdInstanceUnicastRxPdus
-----------------------

|image14|

å›¾ SdInstanceUnicastRxPduså®¹å™¨é…ç½®å›¾

è¡¨ SdInstanceUnicastRxPduså®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdRxPduId  | å–å€¼èŒƒå›´ | 0 .. 65535          | é»˜è®¤å–å€¼ | æ—          |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | æ¥æ”¶å•æ’­Pduçš„ID.    |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+
| SdRxPduRef | å–å€¼èŒƒå›´ | æ—                   | é»˜è®¤å–å€¼ | æ—          |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | å¼•                  |          |            |
|            |          | ç”¨åˆ°ä¸€ä¸ªEcuä¸­çš„Pdu. |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

SdCapabilityRecordMatchCallouts
-------------------------------

|image15|

å›¾ SdCapabilityRecordMatchCalloutså®¹å™¨é…ç½®å›¾

è¡¨ SdCapabilityRecordMatchCalloutså®¹å™¨å±æ€§æè¿°

+------------+----------+---------------------+----------+------------+
| UIåç§°     | æè¿°     |                     |          |            |
+------------+----------+---------------------+----------+------------+
| SdCa       | å–å€¼èŒƒå›´ | åˆæ³•å­—ç¬¦ä¸²          | é»˜è®¤å–å€¼ | æ—          |
| pabilityRe |          |                     |          |            |
| cordMatchC |          |                     |          |            |
| alloutName |          |                     |          |            |
+------------+----------+---------------------+----------+------------+
|            | å‚æ•°æè¿° | S                   |          |            |
|            |          | dCapabilityRecordMa |          |            |
|            |          | tchCalloutçš„å‡½æ•°å. |          |            |
+------------+----------+---------------------+----------+------------+
|            | ä¾èµ–å…³ç³» | æ—                   |          |            |
+------------+----------+---------------------+----------+------------+

.. |image1| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image1.png
   :width: 2.42291in
   :height: 2.29335in
.. |SdGeneral| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image2.jpeg
   :width: 5.7625in
   :height: 3.31875in
.. |sdConfig| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image3.jpeg
   :width: 5.76319in
   :height: 1.92986in
.. |image2| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image4.png
   :width: 5.76736in
   :height: 2.04236in
.. |sdClientservice| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image5.jpeg
   :width: 5.75833in
   :height: 2.15347in
.. |capabilityRecord| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image6.jpeg
   :width: 5.75625in
   :height: 2.81806in
.. |consumedEventgroup| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image7.jpeg
   :width: 5.76111in
   :height: 2.86944in
.. |consumedMethodss| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image8.jpeg
   :width: 5.75972in
   :height: 2.92708in
.. |image3| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image9.png
   :width: 5.76736in
   :height: 2.17778in
.. |serverService| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image10.jpeg
   :width: 5.75556in
   :height: 2.86389in
.. |image4| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image11.png
   :width: 5.76736in
   :height: 3.22778in
.. |image5| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image12.png
   :width: 5.76736in
   :height: 2.46389in
.. |image6| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image13.png
   :width: 5.76736in
   :height: 2.57222in
.. |image7| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image14.png
   :width: 5.76736in
   :height: 2.60139in
.. |image8| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image15.png
   :width: 5.76736in
   :height: 2.22569in
.. |image9| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image16.png
   :width: 5.76736in
   :height: 2.25417in
.. |image10| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image17.png
   :width: 5.76736in
   :height: 2.09792in
.. |image11| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image18.png
   :width: 5.76736in
   :height: 1.85764in
.. |image12| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image19.png
   :width: 5.76736in
   :height: 1.87778in
.. |image13| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image20.png
   :width: 5.76736in
   :height: 1.85903in
.. |image14| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image21.png
   :width: 5.76736in
   :height: 1.87292in
.. |image15| image:: ../../_static/å‚è€ƒæ‰‹å†Œ/Sd/image22.png
   :width: 5.76736in
   :height: 1.15208in

<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>LinMaster_集成手册 &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../genindex.html" />
            <link rel="search" title="Search" href="../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="LINSlave_集成手册" href="LinSlave.html" />
            <link rel="prev" title="FlashTest_集成手册" href="FlashTest.html" />
    </head>
<body>
    <script type="text/javascript" src="../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CanTrcv.html">CanTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/ComXf.html">ComXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CRC.html">CRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Crypto.html">Crypto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/CSM.html">CSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/DCM.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Det.html">DET</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Dlt.html">DLT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/E2EL.html">E2EL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/E2EXf.html">E2EXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Ea.html">EA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/EcuC.html">EcuC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Eep.html">EEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/FiM.html">FiM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/FOTA%20handler.html">FOTA Handler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/IoHwAb.html">IoHwAb</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/NmIf.html">NmIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/OS.html">OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/SomeIpXf.html">SomeIpXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BswM%26EcuM.html">BswM&amp;EcuM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CAN.html">CAN_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CANNM.html">CANNM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTSyn.html">CanTSyn_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="DoIP.html">DoIP_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2E.html">E2E_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Eth.html">Eth_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTSyn.html">EthTSyn_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="FlashTest.html">FlashTest_集成手册</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">LinMaster_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinSlave.html">LINSlave_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="NVM.html">NvM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="OBD.html">OBD_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="OS.html">OS_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="OS_%E6%B7%BB%E5%8A%A0%E8%AE%A2%E9%98%85.html">OS添加订阅</a></li>
<li class="toctree-l1"><a class="reference internal" href="RamTest.html">RamTest_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SecOC.html">SecOC_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SOMEIP.html">SOMEIP_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="UdpNm.html">UdpNm_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="UDSonCAN.html">UDSOnCan_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="UDSonLIN.html">UDSonLIN_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="WDG.html">WDG_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="XCP.html">XCP_集成手册</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/%E5%B0%8F%E6%BB%A1S32K148%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E.html">小满S32K148示例工程说明</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">LinMaster_集成手册</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../_sources/sub/集成手册/LinMaster.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="linmaster">
<h1>LinMaster_集成手册<a class="headerlink" href="#linmaster" title="Link to this heading">¶</a></h1>
<section id="id1">
<h2>目的<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<p>本文档旨在通过一个LIN通信的示例工程的配置，向用户展示通信栈的集成过程。</p>
<p>由于各项目的需求不同，集成示例不会针对于特定的商业项目做详细讲解。</p>
</section>
<section id="id2">
<h2>缩写词和术语<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<table class="docutils align-default" id="id18">
<caption><span class="caption-text">表格 2‑1 缩写词和术语</span><a class="headerlink" href="#id18" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>缩写词/术语</strong></p></td>
<td><p><strong>描述</strong></p></td>
</tr>
<tr class="row-even"><td><p>BSW</p></td>
<td><p>Basic Software 基础软件</p></td>
</tr>
<tr class="row-odd"><td><p>BswM</p></td>
<td><p>Basic Software Mode Manager 基础软件模式管理</p></td>
</tr>
<tr class="row-even"><td><p>MCAL</p></td>
<td><p>Microcontroller Abstraction Layer 微控制器抽象层</p></td>
</tr>
<tr class="row-odd"><td><p>LinIF</p></td>
<td><p>LIN Interface LIN接口</p></td>
</tr>
<tr class="row-even"><td><p>LinSM</p></td>
<td><p>LIN State Manager LIN状态管理</p></td>
</tr>
<tr class="row-odd"><td><p>ComM</p></td>
<td><p>Communication Manager 通信管理</p></td>
</tr>
<tr class="row-even"><td><p>EcuM</p></td>
<td><p>ECU State Manager ECU状态管理</p></td>
</tr>
<tr class="row-odd"><td><p>SchM</p></td>
<td><p>Scheduler Manager 调度管理</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id3">
<h2>参考文档<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<p>[1]参考手册_PduR.pdf</p>
<p>[2]参考手册_Com.pdf</p>
<p>[3]参考手册_EcuC.pdf</p>
<p>[4]参考手册_ComM.pdf</p>
<p>[5]参考手册_LinSM.pdf</p>
<p>[6]参考手册_LinIf.pdf</p>
</section>
<section id="id4">
<h2>协议栈集成<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h2>
<p>项目交付的内容为：通信栈源码和ORIENTAIS
Configurator配置工具。通信栈细分为通信栈的各模块及其对应的配置工具模块。</p>
<p>通信栈各配置模块的功能介绍，参见表 4 1通信栈各配置模块介绍。</p>
<p>使用通信栈源码和配置工具，进行通信栈的集成的步骤，参见表 4 2
通信栈集成的步骤。</p>
<table class="docutils align-default" id="id19">
<caption><span class="caption-text">4‑1模块功能介绍</span><a class="headerlink" href="#id19" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>模块名</strong></p></td>
<td><p><strong>功能</strong></p></td>
</tr>
<tr class="row-even"><td><p>Lin</p></td>
<td><p>Lin驱动配置。(由MCAL工具导入)</p></td>
</tr>
<tr class="row-odd"><td><p>LinIf</p></td>
<td><p>LinIf模块主要处理上层模块与底层驱动的之间
PDU的传递，为上层模块提供统一的接口来管理不同的Lin硬件模块</p></td>
</tr>
<tr class="row-even"><td><p>EcuC</p></td>
<td><p>用于辅助配置工具完成配置的模块。主
要提供Pdu的定义，其它模块通过关联EcuC中Pdu，相互关联起来。</p></td>
</tr>
<tr class="row-odd"><td><p>PduR</p></td>
<td><p>PDU Router主要为通讯接口模块（LINIF）、传输协议模块（LIN
TP、J1939
TP）、诊断通讯管理模块（DCM、J1939DCM）以及通讯模块（C
OM、LDCOM）以及IPDUM、SECOC等模块提供基于I-PDU的路由服务。</p></td>
</tr>
<tr class="row-even"><td><p>Com</p></td>
<td><p>COM模块主要提供I-PDU和信号相关管理功能</p></td>
</tr>
<tr class="row-odd"><td><p>ComM</p></td>
<td><p>ComM模块主要进行通信的管理功能。
ComM模块收集用户的总线访问请求，并把请求转发到不同的总线。</p></td>
</tr>
<tr class="row-even"><td><p>LinSM</p></td>
<td><p>主要功
能是与通信硬件抽象层和系统服务层产生交互，为每一个Lin通信
总线定义一个总线相关的状态管理，并为相关的总线提供流控制。</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id20">
<caption><span class="caption-text">4‑2 集成步骤介绍</span><a class="headerlink" href="#id20" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>步骤</strong></p></td>
<td><p><strong>操作</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>ORIENTAIS
Configurator配置工具
工程搭建和通信栈模块加载</p></td>
<td><p>若配置工具已经搭建
，则仅需进行通信栈模块的加载操作。</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>模块配置及配置文件生成</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>代码集成</p></td>
<td><p>现有工程、
通信栈源代码和配置生成文件的集成。</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>验证测试</p></td>
<td><p>NA</p></td>
</tr>
</tbody>
</table>
<p><strong>注意：通信栈集成之前，用户须确保已经有基础工程，且本通信栈相关的其他通信栈能正常工作。</strong></p>
<section id="orientais">
<h3>新建ORIENTAIS工程<a class="headerlink" href="#orientais" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>安装软件后，双击软件图标打开软件</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1177.png"><img alt="../../_images/image1177.png" src="../../_images/image1177.png" style="width: 5.77153in; height: 2.62431in;" />
</a>
</figure>
<p>图4‑1 新建工程-1</p>
<ol class="arabic simple" start="2">
<li><p>菜单栏File🡪New🡪Project，新建工程</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2133.png"><img alt="../../_images/image2133.png" src="../../_images/image2133.png" style="width: 4.92431in; height: 3.56389in;" />
</a>
</figure>
<p>图4‑2 新建工程-2</p>
<ol class="arabic simple" start="3">
<li><p>在弹出的新建窗口中选择Autosar下的 [BSW Project]，选择Next</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3102.png"><img alt="../../_images/image3102.png" src="../../_images/image3102.png" style="width: 4.07097in; height: 3.88665in;" />
</a>
</figure>
<p>图4‑3 新建工程-3</p>
<ol class="arabic simple" start="4">
<li><p>在弹出的窗口中输入工程名，选择Finish</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4100.png"><img alt="../../_images/image4100.png" src="../../_images/image4100.png" style="width: 4.75695in; height: 3.96308in;" />
</a>
</figure>
<p>图4‑4 新建工程-4</p>
<ol class="arabic simple" start="5">
<li><p>在弹出的窗口中选择Yes。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image588.png"><img alt="../../_images/image588.png" src="../../_images/image588.png" style="width: 5.64741in; height: 2.6267in;" />
</a>
</figure>
<p>图4‑5 新建工程-5</p>
<ol class="arabic simple" start="6">
<li><p>在工程的[Bsw_Builder]项目上右键，选择New ECU Configuration</p></li>
</ol>
<figure class="align-default" id="id21">
<a class="reference internal image-reference" href="../../_images/image670.png"><img alt="../../_images/image670.png" src="../../_images/image670.png" style="width: 4.14583in; height: 2.82986in;" />
</a>
<figcaption>
<p><span class="caption-text">4‑6 新建工程-6</span><a class="headerlink" href="#id21" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="7">
<li><p>在弹出的窗口中输入一个ECU名，然后选择Next</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image758.png"><img alt="../../_images/image758.png" src="../../_images/image758.png" style="width: 5.08523in; height: 4.89353in;" />
</a>
</figure>
<p>图4‑7 新建工程-7</p>
<ol class="arabic simple" start="8">
<li><p>在弹出的窗口中勾选需要添加的模块，点击Finish。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image851.png"><img alt="../../_images/image851.png" src="../../_images/image851.png" style="width: 5.56772in; height: 7.70328in;" />
</a>
</figure>
<p>图4‑8 新建工程-8</p>
<ol class="arabic simple" start="9">
<li><p>新建完成的工程如下所示，步骤⑦中添加的模块已经被加入到工程中。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image951.png"><img alt="../../_images/image951.png" src="../../_images/image951.png" style="width: 2.125in; height: 3.48958in;" />
</a>
</figure>
<p>图4‑9 新建工程-9</p>
</section>
<section id="id5">
<h3>模块配置及代码生成<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<section id="id6">
<h4>4.2.1模块配置<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<p>模块的配置，取决于具体的项目需求。通信栈各模块配置项的详细介绍，参见表4-3相关文档</p>
</section>
<section id="id7">
<h4>4.2.2配置代码生成<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>在工程上右键会弹出校验整个工程和生成整个工程所有模块配置文件的菜单。</p></li>
<li><p>首先选择Validate All，没有错误提示信息即校验通过。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1047.png"><img alt="../../_images/image1047.png" src="../../_images/image1047.png" style="width: 3.66718in; height: 4.96944in;" />
</a>
</figure>
<p>图4‑10 配置校验</p>
<ol class="arabic simple" start="3">
<li><p>然后选择Generate
All，生成配置文件。右下角的输出框中会输出生成的配置文件信息。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1178.png"><img alt="../../_images/image1178.png" src="../../_images/image1178.png" style="width: 5.05766in; height: 3.83447in;" />
</a>
</figure>
<p>图4‑11 配置生成信息</p>
<ol class="arabic simple" start="4">
<li><p>在工程Config文件夹下即可查看生成的配置文件。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1244.png"><img alt="../../_images/image1244.png" src="../../_images/image1244.png" style="width: 3.04521in; height: 4.66669in;" />
</a>
</figure>
<p>图4‑12 Config代码生成</p>
</section>
</section>
<section id="id8">
<h3>功能集成<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<section id="id9">
<h4>4.3.1代码集成<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<p>通信栈代码包括两部分：项目提供的通信栈源码和ORIENTAIS
Configurator配置生成代码。通信栈集成包括通信栈源码（LIN、LinIf、PduR、ComM、LinSM等）、定时器源码和部分其他模块源码，具体文件见表4-4。</p>
<p>用户须将通信栈源码和章节4.2.2生成的源代码添加到集成开发工具的对应文件夹。通信栈集成的文件结构，参见章节5.3。</p>
<table class="docutils align-default" id="id22">
<caption><span class="caption-text">4‑4 通信栈源码文件</span><a class="headerlink" href="#id22" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>移库文件夹</strong></p></td>
<td><p><strong>移库文件</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>ComM</p></td>
<td><p>ComM
.c、ComM.h、ComM_BusSM.h、ComM_Com.h、ComM
_Dcm.h、ComM_EcuMBswM.h、ComM_Internal.c、
ComM_Internal.h、ComM_MemMap.h、ComM_Nm.h</p></td>
<td><p>通信栈源码</p></td>
</tr>
<tr class="row-odd"><td><p>LinIf</p></td>
<td><p>LinIf.c、LinIf.
h、LinIf_Cbk.h、LinIf_Internal.h、LinIf_Ma
ster.c、LinIf_Master.h、LinIf_MemMap.h、Li
nIf_Types.h、LinTp.c、LinTp.h、LinTp_Inter
nal.c、LinTp_Internal.h、LinTp_Master.c、L
inTp_Master.h、LinTp_Types.h、SchM_LinIf.h</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>LinSM</p></td>
<td><p>LinSM
.c、LinSM.h、LinSM_Cbk.h、LinSM_MemMap.h、</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PDUR</p></td>
<td><p>PduR_LinIf.h、<a href="#id35"><span class="problematic" id="id36">PduR_</span></a>
Com.h、PduR_Internal.c、PduR_Internal.h、P
duR_MemMap.h、PduR_Types.h、PduR.c、PduR.h</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Com</p></td>
<td><p>Com.c、Com
.h、Com_Cbk.h、Com_GwInternal.c、Com_Inter
nal.c、Com_Internal.h、Com_MemMap.h、Com_R
xInternal.c、Com_TxInternal.c、Com_Types.h</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>F
reeRTimer</p></td>
<td><p>FreeRTimer.c、FreeRTimer.h</p></td>
<td><p>定时器源码</p></td>
</tr>
<tr class="row-even"><td><p>SchM</p></td>
<td><p>SchM.c、SchM.h、SchM_Com.h
、SchM_ComM.h、SchM_LinIf.h、SchM_PduR.h、</p></td>
<td><p>Sc
hM部分源码</p></td>
</tr>
<tr class="row-odd"><td><p>BswM</p></td>
<td><p>B
swM.c、BswM.h、BswM_LinSM.h、BswM_ComM.h、</p></td>
<td><p>Bs
wM部分源码</p></td>
</tr>
<tr class="row-even"><td><p>EcuM</p></td>
<td><p>EcuM_Types.h、EcuM.h、</p></td>
<td><p>Ec
uM部分源码</p></td>
</tr>
</tbody>
</table>
<p><strong>注意：通信栈集成之前，用户须确保已经有基础工程，且本通信栈相关的其他通信栈能正常工作。</strong></p>
</section>
<section id="id10">
<h4>4.3.2集成注意事项<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<p>对于集成过程中，通信栈特殊要求和用户经常出现的问题，归类总结形成表
4‑5通信栈集成约束清单。用户需逐一排查表中的约束项，以避免集成问题出现。</p>
<table class="docutils align-default" id="id23">
<caption><span class="caption-text">4‑5 集成约束清单</span><a class="headerlink" href="#id23" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>编号</strong></p></td>
<td><p><strong>类别</strong></p></td>
<td><p><strong>约束限制</strong></p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>中断</p></td>
<td><p>通信栈
有中断、轮询或混合三种工作模式。若选取中断或混合模
式，用户需在通信栈配置对应的中断并填充中断服务API。</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>堆栈</p></td>
<td><p>用户需确保为任务堆栈和中断堆栈分配足够的堆栈空间。</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>头文件</p></td>
<td><p>添加通信栈代码之后，用户需更新集成开发工具中的头文件路径。</p>
<p>调用通信栈API的源文件，需要包含通信栈的头文件。</p>
</td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>初始化</p></td>
<td><p>以LIN通信
为例，通信栈的初始化顺序为：Lin_Init、LinIf_Init、
PduR_Init、Com_Init、LinSM_Init。</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>周期函数</p></td>
<td><p>Co
m_MainFunctionRx、Com_MainFunctionTx、LinIf_MainFun
ction、LinSM_MainFunction需要被周期性任务函数调用。</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="id11">
<h2>集成示例<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h2>
<section id="id12">
<h3>集成目标<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<p>集成后的工程为LIN主节点，集成完成后的工程可以进行两个无条件帧的发送、两个无条件帧的接收。</p>
<p>开启一个周期调度表进行循环调度发送。</p>
<p>通信报文配置如表5-1：</p>
<table class="docutils align-default" id="id24">
<caption><span class="caption-text">5‑1 通信报文配置</span><a class="headerlink" href="#id24" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>帧名称</strong></p></td>
<td><p><strong>帧类型</strong></p></td>
<td><p><strong>ID</strong></p></td>
<td><p><strong>Tx
\Rx</strong></p></td>
<td><p><strong>关联帧</strong></p></td>
</tr>
<tr class="row-even"><td><p>Li
nIfFrame_Tx1</p></td>
<td><p>无条件帧</p></td>
<td><p>0x1</p></td>
<td><p>Tx</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Li
nIfFrame_Tx2</p></td>
<td><p>无条件帧</p></td>
<td><p>0x2</p></td>
<td><p>Tx</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Li
nIfFrame_Rx1</p></td>
<td><p>无条件帧</p></td>
<td><p>0x3</p></td>
<td><p>Rx</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Li
nIfFrame_Rx2</p></td>
<td><p>无条件帧</p></td>
<td><p>0x4</p></td>
<td><p>Rx</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id13">
<span id="id14"></span><h3>模块配置<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<section id="ecuc">
<h4>5.2.1 EcuC模块配置<a class="headerlink" href="#ecuc" title="Link to this heading">¶</a></h4>
<ol class="arabic simple" start="10">
<li><p>双击EcuC模块，打开EcuC模块配置界面。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1341.png"><img alt="../../_images/image1341.png" src="../../_images/image1341.png" style="width: 5.77153in; height: 4.39722in;" />
</a>
</figure>
<p>图5‑1 EcuC配置-1</p>
<ol class="arabic simple" start="11">
<li><p>在EcucConfigSets栏目上右键，选择EcucConfigSet。再在EcucConfigSet上右键，选择New🡪EcucPduCollection。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1439.png"><img alt="../../_images/image1439.png" src="../../_images/image1439.png" style="width: 5.77153in; height: 3.23264in;" />
</a>
</figure>
<p>图5‑2 EcuC配置-2</p>
<ul class="simple">
<li><p>PduIdTypeEnum 选择UINT16.</p></li>
<li><p>PduLengthTypeEnum 选择UINT16。</p></li>
</ul>
<ol class="arabic simple" start="12">
<li><p>在EcucPduCollection上右键，选择Pdu，会生成一个Pdu的配置界面。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1536.png"><img alt="../../_images/image1536.png" src="../../_images/image1536.png" style="width: 5.77153in; height: 3.46181in;" />
</a>
</figure>
<p>图5‑3 EcuC配置-3</p>
<p>这里按照发送和接收，将Pdu名字改为报文的名字。</p>
<p>PduLength：Pdu长度，根据实际使用帧的长度设置。</p>
<ol class="arabic simple" start="13">
<li><p>根据步骤③的描述，配置其余报文的Pdu。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1633.png"><img alt="../../_images/image1633.png" src="../../_images/image1633.png" style="width: 5.77153in; height: 3.2375in;" />
</a>
</figure>
<p>图5‑4 EcuC配置-4</p>
<ol class="arabic simple" start="14">
<li><p>报文需要PDUR路由，每个方向需要配置2个Pdu。</p></li>
<li><p>ECUC模块到此配置结束。在模块上右键，然后选择校验，查看是否配置有错误。</p></li>
</ol>
</section>
<section id="lin">
<h4>5.2.2 Lin模块配置<a class="headerlink" href="#lin" title="Link to this heading">¶</a></h4>
<p>如果Lin驱动使用的是MCAL配置，那么将MCAL生成的arxml配置文件导入到BSW工具选择对应的Lin模块即可。</p>
</section>
<section id="linif">
<h4>5.2.3 LinIf模块配置<a class="headerlink" href="#linif" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>双击LinIf模块，打开LinIf模块的配置界面。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1733.png"><img alt="../../_images/image1733.png" src="../../_images/image1733.png" style="width: 4.35209in; height: 5.51429in;" />
</a>
</figure>
<p>图5‑5 LinIf配置-1</p>
<ol class="arabic simple" start="2">
<li><p>LinIfGeneral标签页保持默认值即可。</p></li>
<li><p>在LinIfGlobalConfig标签页下依次打开LinIfGlobalConfigs
-&gt;LinIfGlobalConfig -&gt;LinIfChannel_0进行如下配置。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1831.png"><img alt="../../_images/image1831.png" src="../../_images/image1831.png" style="width: 5.77153in; height: 3.28681in;" />
</a>
</figure>
<p>图5‑6 LinIf配置-2</p>
<p>LinIfChannel_0配置参数说明：</p>
<table class="docutils align-default" id="id25">
<caption><span class="caption-text">5‑2 LinIfChannel_0配置参数说明</span><a class="headerlink" href="#id25" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>Li
nIfGotoSleepConfirmationUL</p></td>
<td><p>LINSM</p></td>
<td><p>Go-to-sleep命令的确
认通知，通知的上层模块</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfSch
eduleRequestConfirmationUL</p></td>
<td><p>LINSM</p></td>
<td><p>调
度表切换成功执行后的通
知函数，通知的上层模块</p></td>
</tr>
<tr class="row-even"><td><p>LinIfStartupState</p></td>
<td><p>NORMAL</p></td>
<td><p>Li
n通道在启动后所处的状态</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfWakeupConfirmationUL</p></td>
<td><p>LINSM</p></td>
<td><p>Wakeup通
知函数，通知的上层模块</p></td>
</tr>
<tr class="row-even"><td><p>LinIfChannelRef</p></td>
<td><p>LinChannel_0</p></td>
<td><p>LinIf的
通道对应的Lin驱动的通道</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfComMNetworkHandleRef</p></td>
<td><p>C
omMChannel_0</p></td>
<td><p>LinI
f的通道对应的ComM的通道</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="4">
<li><p>然后右击LinIfChannel_0新建LinIfFrame对象。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image1928.png"><img alt="../../_images/image1928.png" src="../../_images/image1928.png" style="width: 5.77153in; height: 3.30347in;" />
</a>
</figure>
<p>图5‑7 LinIf配置-3</p>
<ol class="arabic simple" start="5">
<li><p>按照步骤创建4个对象，根据章节5.1集成目标修改名字，并将LinIfFrameId设置为对应值。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2024.png"><img alt="../../_images/image2024.png" src="../../_images/image2024.png" style="width: 5.77153in; height: 3.30417in;" />
</a>
</figure>
<p>图5‑8 LinIf配置-4</p>
<p>下面对不同名称的帧各举一例说明配置参数。</p>
<p>LinIfFrame_Tx1报文LinFrame配置说明：</p>
<table class="docutils align-default" id="id26">
<caption><span class="caption-text">5‑3 LinIfFrame_Tx1报文LinFrame配置说明</span><a class="headerlink" href="#id26" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>LinIfChecksumType</p></td>
<td><p>ENHANCED</p></td>
<td><p>报文使用的checksum类型
（此处使用增强型校验）</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfFrameType</p></td>
<td><p>UNCONDITIONAL</p></td>
<td><p>报文帧的类型
（此处设置为无条件帧）</p></td>
</tr>
<tr class="row-even"><td><p>LinIfFrameId</p></td>
<td><p>0x1</p></td>
<td><p>报文ID</p></td>
</tr>
</tbody>
</table>
<p>LinIfFrame_Rx1报文LinFrame配置说明：</p>
<table class="docutils align-default" id="id27">
<caption><span class="caption-text">5‑4 LinIfFrame_Rx1报文LinFrame配置说明</span><a class="headerlink" href="#id27" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>LinIfChecksumType</p></td>
<td><p>ENHANCED</p></td>
<td><p>报文使用的checksum类型
（此处使用增强型校验）</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfFrameType</p></td>
<td><p>UNCONDITIONAL</p></td>
<td><p>报文帧的类型
（此处设置为无条件帧）</p></td>
</tr>
<tr class="row-even"><td><p>LinIfFrameId</p></td>
<td><p>0x3</p></td>
<td><p>报文ID</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="6">
<li><p>点击LinIfFrame_Tx1左边的三角，展开子配置页面，右键新建一个LinPduDirection对象，如果前面的LinIfFrame为Tx类型，则选择LinTxPdu，如果前面的LinIfFrame为Rx类型，则选择LinRxPdu。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2134.png"><img alt="../../_images/image2134.png" src="../../_images/image2134.png" style="width: 4.88966in; height: 4.83847in;" />
</a>
</figure>
<p>图5‑9 LinIf配置-5</p>
<ol class="arabic simple" start="7">
<li><p>点击新建的LinTxPdu然后选择右边LinIfTxPduRef对象，要求和LinIfFrame名称对应，如LinIfFrame_Tx1对应LinIfFrame_Tx1。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2229.png"><img alt="../../_images/image2229.png" src="../../_images/image2229.png" style="width: 5.42022in; height: 3.12196in;" />
</a>
</figure>
<p>图5‑10 LinIf配置-6</p>
<p>以LinIfFrame_Tx1为例配置LinTxPdu配置参数：</p>
<table class="docutils align-default" id="id28">
<caption><span class="caption-text">5‑5 LinIfFrame_Tx1报文LinTxPdu配置说明</span><a class="headerlink" href="#id28" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>LinIfUserTxUL</p></td>
<td><p>PDUR</p></td>
<td><p>用于确定触发LinTxPdu发送的
上层模块，并在发送成功后通知该模块。</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfTxPduRef</p></td>
<td><p>Li
nIfFrame_Tx1</p></td>
<td><p>指向一个ECUC中
定义的PDU，将LinIfTxPdu和Pdu关联起来</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="8">
<li><p>按照上面的步骤完成剩下LinIfFrame的配置。</p></li>
</ol>
<table class="docutils align-default" id="id29">
<caption><span class="caption-text">5‑6 其他报文LinIfFrame配置说明</span><a class="headerlink" href="#id29" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>报文名</strong></p></td>
<td><p><strong>LinIfTxPdu\LinIfRxPdu</strong></p></td>
</tr>
<tr class="row-even"><td><p>LinIfFrame_Tx1</p></td>
<td><p>LinIfTxPdu</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfFrame_Tx2</p></td>
<td><p>LinIfTxPdu</p></td>
</tr>
<tr class="row-even"><td><p>LinIfFrame_Rx1</p></td>
<td><p>LinIfRxPdu</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfFrame_Rx2</p></td>
<td><p>LinIfRxPdu</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="9">
<li><p>展开LinIfScheduleTables，右击LinIfScheduleTable_0新建一个LinIfEntry对象。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2324.png"><img alt="../../_images/image2324.png" src="../../_images/image2324.png" style="width: 4.93285in; height: 2.84361in;" />
</a>
</figure>
<p>图5‑11 LinIf配置-7</p>
<p>LinIfScheduleTable_0配置说明：</p>
<table class="docutils align-default" id="id30">
<caption><span class="caption-text">5‑7 LinIfScheduleTable_0配置说明</span><a class="headerlink" href="#id30" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>LinIfR
esumePosition</p></td>
<td><p>STAR
T_FROM_BEGINNING</p></td>
<td><p>定义调度表被中断后从头开始运行
（也可以设置为从断点处接着运行）</p></td>
</tr>
<tr class="row-odd"><td><p>LinIfRunMode</p></td>
<td><p>RUN_CONTINUOUS</p></td>
<td><p>定义调度表执行的次数</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="10">
<li><p>新建完成之后进行如下重命名，并在右边配置栏中配置LinIfFrameRef选项。要求与前面名称对应。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2422.png"><img alt="../../_images/image2422.png" src="../../_images/image2422.png" style="width: 5.77153in; height: 3.28333in;" />
</a>
</figure>
<p>图5‑12 LinIf配置-8</p>
<ul class="simple">
<li><p>LinIfDelay：到调度表的下一个Entry之间的延时时间（单位：秒）</p></li>
<li><p>LinIfFrameRef：指向本Entry对应的Frame</p></li>
</ul>
<ol class="arabic simple" start="11">
<li><p>按照步骤创建剩下的LinIfEntry，并配置右边LinIfFrameRef选项。</p></li>
<li><p>校验配置，无错误信息，即配置完成。</p></li>
</ol>
</section>
<section id="com">
<h4>5.2.4 Com模块配置<a class="headerlink" href="#com" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>双击Com模块，打开Com模块的配置界面。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2521.png"><img alt="../../_images/image2521.png" src="../../_images/image2521.png" style="width: 5.71875in; height: 6.88542in;" />
</a>
</figure>
<p>图5‑13 Com配置-1</p>
<ol class="arabic simple" start="2">
<li><p>ComGeneral标签页里面只需要配置ComSupportedIPduGroups参数，其余参数保持默认即可。ComSupportedIPduGroups是指IPduGroup的个数。IPduGroups会在ComConfig标签页中配置。后面的配置中将会配置2个IPduGroup，所以将这个参数配置为2。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2620.png"><img alt="../../_images/image2620.png" src="../../_images/image2620.png" style="width: 5.76736in; height: 4.03819in;" />
</a>
</figure>
<p>图5‑14 Com配置-2</p>
<ol class="arabic simple" start="3">
<li><p>ComConfig下的两个参数不需要配置，保持默认即可。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2720.png"><img alt="../../_images/image2720.png" src="../../_images/image2720.png" style="width: 5.77153in; height: 3.30208in;" />
</a>
</figure>
<p>图5‑15 Com配置-3</p>
<ol class="arabic simple" start="4">
<li><p>ComGwMapping为信号路由的配置，本次示例不需要信号路由，不需要创建对应对象。</p></li>
<li><p>新建4个ComIPdu对象，并修改名字。</p></li>
</ol>
<p>根据前文中定义的报文，创建4个ComIPdu对象。由于ComIPdu属性配置需要关联其他的对象，ComIPdu的属性先暂时不配置，待添加了其它对象后再配置ComIPdu属性。（参照步骤）</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2818.png"><img alt="../../_images/image2818.png" src="../../_images/image2818.png" style="width: 5.77153in; height: 3.29097in;" />
</a>
</figure>
<p>图5‑16 Com配置-4</p>
<ol class="arabic simple" start="6">
<li><p>配置ComIPduGroup。</p></li>
</ol>
<p>将IPdu加入IPduGroup可以方便的控制IPdu的状态，根据需要使能和禁止IPdu的收发。</p>
<p>添加两个ComIPduGroup对象，一个用于管理发送报文，一个用于管理接收报文，参数保持默认即可。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image2917.png"><img alt="../../_images/image2917.png" src="../../_images/image2917.png" style="width: 5.77153in; height: 3.32361in;" />
</a>
</figure>
<p>图5‑17 Com配置-5</p>
<ol class="arabic simple" start="7">
<li><p>配置ComSignal。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3013.png"><img alt="../../_images/image3013.png" src="../../_images/image3013.png" style="width: 5.77153in; height: 4.12153in;" />
</a>
</figure>
<p>图5‑18 Com配置-6</p>
<p>ComSignal对象属性的配置（以信号ComSignal_Tx1为例）：</p>
<table class="docutils align-default" id="id31">
<caption><span class="caption-text">5‑8 ComSignal属性配置说明</span><a class="headerlink" href="#id31" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>ComBitPosition</p></td>
<td><p>0</p></td>
<td><p>根
据实际使用帧的Startbit参数填写</p></td>
</tr>
<tr class="row-odd"><td><p>ComBitSize</p></td>
<td><p>64</p></td>
<td><p>根据实际使用帧的Length参数填写</p></td>
</tr>
<tr class="row-even"><td><p>ComSignalEndianness</p></td>
<td><p>L
ITTLE_ENDIAN</p></td>
<td><p>Motorola格式设为BIG_ENDIAN</p>
<p>Intel格式设置为LITTLE_ENDIAN</p>
</td>
</tr>
<tr class="row-odd"><td><p>ComSignalInitValue</p></td>
<td><p>0x00</p></td>
<td><p>根据实际使用帧的Initial
Value参数填写</p></td>
</tr>
<tr class="row-even"><td><p>ComSignalType</p></td>
<td><p>UINT64</p></td>
<td><p>根据实际使用帧的Length参数填写</p></td>
</tr>
<tr class="row-odd"><td><p>Com
RxDataTimeoutAction</p></td>
<td><p>NONE</p></td>
<td><p>当信号属
于发送报文时，设置为NONE当信号
属于接收报文时，配置为NONE，超
时后不做处理，配置为REPLACE，
超时后用初始化值代替接收值，配
置为SUBSTITUTE，超时后使用Com
TimeoutSubstitutionValue值替换</p></td>
</tr>
<tr class="row-even"><td><p>ComInitialValueOnly</p></td>
<td><p>False</p></td>
<td><p>设置为True后，
初始化后不会再更新这个信号的值</p></td>
</tr>
<tr class="row-odd"><td><p>ComTransferProperty</p></td>
<td><p>PENDING</p></td>
<td><p>根据
DBC中GenSigSendType参数设置：</p>
<p>Cycle 对应 PENDING</p>
<p>OnWrite 对应 TRIGGER</p>
<p>OnChange 对TRIGGER_ON_CHANGE</p>
</td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="8">
<li><p>配置ComTimeBase，
ComGwTimeBase定义信号网关处理函数的周期，ComRxTimeBase定义接收处理的周期，ComTxTimeBase定义发送处理的周期。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3121.png"><img alt="../../_images/image3121.png" src="../../_images/image3121.png" style="width: 5.76597in; height: 3.37153in;" />
</a>
</figure>
<p>图5‑19 Com配置-7</p>
<ol class="arabic simple" start="9">
<li><p>配置ComIPdu属性。以IPDU_COM_LIN_Tx1为例说明：</p></li>
</ol>
<table class="docutils align-default" id="id32">
<caption><span class="caption-text">5‑9 ComIPdu属性配置说明</span><a class="headerlink" href="#id32" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>ComIPduDirection</p></td>
<td><p>SEND</p></td>
<td><p>报文为发送报文</p></td>
</tr>
<tr class="row-odd"><td><p>C
omIPduSignalProcessing</p></td>
<td><p>DEFERRED</p></td>
<td><p>在周期函数中处理信号</p></td>
</tr>
<tr class="row-even"><td><p>ComIPduType</p></td>
<td><p>NORMAL</p></td>
<td><p>正常报文（非TP报文）</p></td>
</tr>
<tr class="row-odd"><td><p>ComIPduGroupRef</p></td>
<td><p>Com_TxPduGro
up_LinController_0</p></td>
<td><p>属于Com_TxPdu
Group_LinController_0</p></td>
</tr>
<tr class="row-even"><td><p>ComIPduSignalGroupRef</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>没
有信号组，不需要配置</p></td>
</tr>
<tr class="row-odd"><td><p>ComIPduSignalRef</p></td>
<td><p>ComSignal_Tx1</p></td>
<td><p><a href="#id37"><span class="problematic" id="id38">将属于IPDU_COM_</span></a>
LIN_Tx1的信号关联进来</p></td>
</tr>
<tr class="row-even"><td><p>ComPduIdRef</p></td>
<td><p>Com_LinIfFrame_Tx1</p></td>
<td><p>指向EcuC中定义的Pdu</p></td>
</tr>
</tbody>
</table>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3219.png"><img alt="../../_images/image3219.png" src="../../_images/image3219.png" style="width: 4.64in; height: 3.33638in;" />
</a>
</figure>
<p>图5‑20 Com配置-8</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3317.png"><img alt="../../_images/image3317.png" src="../../_images/image3317.png" style="width: 4.67988in; height: 3.34928in;" />
</a>
</figure>
<p>图5‑21 Com配置-9</p>
<ol class="arabic simple" start="10">
<li><p>为发送报文配置ComTxIPdu（以IPDU_COM_LIN_Tx1为例）。每个发送IPdu，必须要配置一个ComTxIPdu，参数保持默认值即可。只发送报文需要配置。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3416.png"><img alt="../../_images/image3416.png" src="../../_images/image3416.png" style="width: 5.77153in; height: 3.32222in;" />
</a>
</figure>
<p>图5‑22 Com配置-10</p>
<ol class="arabic simple" start="11">
<li><p>添加ComTxModeTrue对象（以IPDU_COM_LIN_Tx1为例）。</p></li>
</ol>
<p>发送报文必须要配置ComTxModeTrue对象。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3516.png"><img alt="../../_images/image3516.png" src="../../_images/image3516.png" style="width: 5.28149in; height: 2.98549in;" />
</a>
</figure>
<p>图5‑23 Com配置-11</p>
<p>ComTxMode配置参数说明：</p>
<table class="docutils align-default" id="id33">
<caption><span class="caption-text">5‑10 ComTxMode配置说明</span><a class="headerlink" href="#id33" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>ComTxModeMode</p></td>
<td><p>NONE</p></td>
<td><p>非周期报文（由调度表管理发送）</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="12">
<li><p>校验配置，无错误信息，Com模块即配置完成。</p></li>
</ol>
</section>
<section id="pdur">
<h4>5.2.5 PduR模块配置<a class="headerlink" href="#pdur" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>双击PduR模块，打开PduR模块配置界面。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3616.png"><img alt="../../_images/image3616.png" src="../../_images/image3616.png" style="width: 3.89583in; height: 2.90625in;" />
</a>
</figure>
<p>图5‑24 PduR配置-1</p>
<ol class="arabic simple" start="2">
<li><p>PduRGeneral配置。</p></li>
</ol>
<blockquote>
<div><p>保持默认即可。</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>PduRBswModuler配置。</p></li>
</ol>
<p>PduR模块的目的是实现上层模块到下层模块的路由。PduRBswModuler对象用来描述上层模块和下层模块属性。本示例中上层模块为Com，下层模块为LinIf，PduR模块将Com中的Pdu路由到LinIf中。所以需要新建2个PduRBswModuler对象，分别对应Com和LinIf。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3715.png"><img alt="../../_images/image3715.png" src="../../_images/image3715.png" style="width: 5.77153in; height: 3.20833in;" />
</a>
</figure>
<p>图5‑25 PduR配置-2</p>
<ol class="arabic simple" start="4">
<li><p>PduRRoutingTables配置。</p></li>
</ol>
<p>该容器有4个配置选项，保持默认即可。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3813.png"><img alt="../../_images/image3813.png" src="../../_images/image3813.png" style="width: 5.77153in; height: 3.21458in;" />
</a>
</figure>
<p>图5‑26 PduR配置-3</p>
<ol class="arabic simple" start="5">
<li><p>配置路由表。</p></li>
</ol>
<p>由于有4个报文需要收发，所以需要配置4个路由路径。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image3911.png"><img alt="../../_images/image3911.png" src="../../_images/image3911.png" style="width: 5.77153in; height: 3.20139in;" />
</a>
</figure>
<p>图5‑27 PduR配置-4</p>
<ol class="arabic simple" start="6">
<li><p>配置发送路由表。</p></li>
</ol>
<p>每个路由表下有一个SrcPdu，有一个DestPdu。发送报文，是从Com到LinIf，所以SrcPdu选择Com模块中关联的Pdu，DestPdu选择LinIf中关联的Pdu。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image408.png"><img alt="../../_images/image408.png" src="../../_images/image408.png" style="width: 5.77153in; height: 3.15208in;" />
</a>
</figure>
<p>图5‑28 PduR配置-5</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4115.png"><img alt="../../_images/image4115.png" src="../../_images/image4115.png" style="width: 5.77153in; height: 3.14236in;" />
</a>
</figure>
<p>图5‑29 PduR配置-6</p>
<ol class="arabic simple" start="7">
<li><p>配置接收路由表。</p></li>
</ol>
<p>发送报文，是从LinIf到Com，所以SrcPdu选择LinIf模块中关联的Pdu，DestPdu选择Com中关联的Pdu。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4216.png"><img alt="../../_images/image4216.png" src="../../_images/image4216.png" style="width: 5.77153in; height: 3.21111in;" />
</a>
</figure>
<p>图5‑30 PduR配置-7</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4315.png"><img alt="../../_images/image4315.png" src="../../_images/image4315.png" style="width: 5.77153in; height: 3.16736in;" />
</a>
</figure>
<p>图5‑31 PduR配置-8</p>
<ol class="arabic simple" start="8">
<li><p>校验配置，无错误信息，PduR模块即配置完成。</p></li>
</ol>
</section>
<section id="comm">
<h4>5.2.6 ComM模块配置<a class="headerlink" href="#comm" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>双击ComM模块，打开ComM模块配置界面。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4415.png"><img alt="../../_images/image4415.png" src="../../_images/image4415.png" style="width: 5.75in; height: 5.61458in;" />
</a>
</figure>
<p>图5‑32 ComM配置-1</p>
<ol class="arabic simple" start="2">
<li><p>ComMGeneral标签页中的参数保持默认即可。</p></li>
<li><p>ComMConfigSet配置。</p></li>
</ol>
<p>默认已经生成了一个ComMChannel对象ComMChannel_0和一个ComMUser对象ComMUser_0，修改以下几个参数，其余参数保持默认值。</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4515.png"><img alt="../../_images/image4515.png" src="../../_images/image4515.png" style="width: 5.77153in; height: 2.65625in;" />
</a>
</figure>
<p>图5‑33 ComM配置-2</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4615.png"><img alt="../../_images/image4615.png" src="../../_images/image4615.png" style="width: 5.77153in; height: 2.67917in;" />
</a>
</figure>
<p>图5‑34 ComM配置-3</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4712.png"><img alt="../../_images/image4712.png" src="../../_images/image4712.png" style="width: 5.77153in; height: 2.69653in;" />
</a>
</figure>
<p>图5‑35 ComM配置-4</p>
<ol class="arabic simple" start="4">
<li><p>校验配置，无错误信息，ComM模块即配置完成。</p></li>
</ol>
</section>
<section id="linsm">
<h4>5.2.7 LinSM模块配置<a class="headerlink" href="#linsm" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>双击LinSM模块，打开LinSM模块配置界面。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4810.png"><img alt="../../_images/image4810.png" src="../../_images/image4810.png" style="width: 5.77153in; height: 1.96667in;" />
</a>
</figure>
<p>图5‑36 LinSM配置-1</p>
<ol class="arabic simple" start="2">
<li><p>LinSMGeneral标签页内各参数保持默认值。</p></li>
<li><p>LinSMConfigSet标签页参数说明如表5-11。其余参数保持默认值。</p></li>
</ol>
<table class="docutils align-default" id="id34">
<caption><span class="caption-text">5‑11 LINSM配置参数说明</span><a class="headerlink" href="#id34" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>参数名</strong></p></td>
<td><p><strong>设置值</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>ComMNetwork Handle Ref</p></td>
<td><p>ComMChannel_0</p></td>
<td><p>指向ComM配置的通道</p></td>
</tr>
<tr class="row-odd"><td><p>Schedule Index Ref</p></td>
<td><p>LinIf
ScheduleTable_0</p></td>
<td><p>指
向LinIf中所配置的调度表</p></td>
</tr>
</tbody>
</table>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image4910.png"><img alt="../../_images/image4910.png" src="../../_images/image4910.png" style="width: 5.77153in; height: 1.75417in;" />
</a>
</figure>
<p>图5‑37 LinSM配置-2</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image508.png"><img alt="../../_images/image508.png" src="../../_images/image508.png" style="width: 5.77153in; height: 1.77431in;" />
</a>
</figure>
<p>图5‑38 LinSM配置-3</p>
<ol class="arabic simple" start="4">
<li><p>校验配置，无错误信息，LinSM模块即配置完成。</p></li>
</ol>
</section>
</section>
<section id="id15">
<h3>代码工程介绍<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<p>项目交付给用户的工程目录结构如下：</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image5116.png"><img alt="../../_images/image5116.png" src="../../_images/image5116.png" style="width: 2.5in; height: 2.60417in;" />
</a>
</figure>
<p>图5‑39 工程目录结构</p>
<ol class="arabic simple">
<li><p>Config目录，这个目录用来存放基础软件配置工具生成的配置文件。</p></li>
<li><p>模块相关的静态源代码，存放在各个模块的文件夹下。</p></li>
</ol>
</section>
<section id="id16">
<h3>应用配置文件<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>将4.2章节生成的配置文件复制到Config文件夹中。</p></li>
<li><p>添加初始化函数和周期调用函数。</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/code18.png"><img alt="../../_images/code18.png" src="../../_images/code18.png" style="width: 5.92736in; height: 8.47583in;" />
</a>
</figure>
<ol class="arabic simple" start="3">
<li><p>添加MainFunction函数</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/code28.png"><img alt="../../_images/code28.png" src="../../_images/code28.png" style="width: 5.81736in; height: 5.84583in;" />
</a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/code37.png"><img alt="../../_images/code37.png" src="../../_images/code37.png" style="width: 5.77736in; height: 3.79583in;" />
</a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/code46.png"><img alt="../../_images/code46.png" src="../../_images/code46.png" style="width: 5.84736in; height: 4.07583in;" />
</a>
</figure>
</section>
<section id="id17">
<h3>验证结果<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<p>根据集成目标，第5章一共配置了4个报文帧，其中2个周期发送报文，2个周期接收报文。</p>
<ol class="arabic simple">
<li><p>根据前文的配置，这里将PLIN进行如下设置:</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image5214.png"><img alt="../../_images/image5214.png" src="../../_images/image5214.png" style="width: 4.73958in; height: 5.13542in;" />
</a>
</figure>
<p>图5‑40 PLIN配置</p>
<ol class="arabic simple" start="2">
<li><p>接通PLIN可以在Receive窗口看到主机发送来的报文</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image5313.png"><img alt="../../_images/image5313.png" src="../../_images/image5313.png" style="width: 5.76528in; height: 3.32847in;" />
</a>
</figure>
<p>图5‑41 接收报文验证</p>
<ol class="arabic simple" start="3">
<li><p>在Publish窗口创建两个从机发送报文，并发送数据，可以在Receive
窗口看到主机收到的报文：</p></li>
</ol>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/image5413.png"><img alt="../../_images/image5413.png" src="../../_images/image5413.png" style="width: 5.77014in; height: 3.8in;" />
</a>
</figure>
<p>图5‑42发送报文验证</p>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="FlashTest.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>FlashTest_集成手册
    </a>
    <a class="float-right" href="LinSlave.html" title="Next">
        LINSlave_集成手册 <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">LinMaster_集成手册</a><ul>
<li><a class="reference internal" href="#id1">目的</a></li>
<li><a class="reference internal" href="#id2">缩写词和术语</a></li>
<li><a class="reference internal" href="#id3">参考文档</a></li>
<li><a class="reference internal" href="#id4">协议栈集成</a><ul>
<li><a class="reference internal" href="#orientais">新建ORIENTAIS工程</a></li>
<li><a class="reference internal" href="#id5">模块配置及代码生成</a><ul>
<li><a class="reference internal" href="#id6">4.2.1模块配置</a></li>
<li><a class="reference internal" href="#id7">4.2.2配置代码生成</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">功能集成</a><ul>
<li><a class="reference internal" href="#id9">4.3.1代码集成</a></li>
<li><a class="reference internal" href="#id10">4.3.2集成注意事项</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id11">集成示例</a><ul>
<li><a class="reference internal" href="#id12">集成目标</a></li>
<li><a class="reference internal" href="#id13">模块配置</a><ul>
<li><a class="reference internal" href="#ecuc">5.2.1 EcuC模块配置</a></li>
<li><a class="reference internal" href="#lin">5.2.2 Lin模块配置</a></li>
<li><a class="reference internal" href="#linif">5.2.3 LinIf模块配置</a></li>
<li><a class="reference internal" href="#com">5.2.4 Com模块配置</a></li>
<li><a class="reference internal" href="#pdur">5.2.5 PduR模块配置</a></li>
<li><a class="reference internal" href="#comm">5.2.6 ComM模块配置</a></li>
<li><a class="reference internal" href="#linsm">5.2.7 LinSM模块配置</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id15">代码工程介绍</a></li>
<li><a class="reference internal" href="#id16">应用配置文件</a></li>
<li><a class="reference internal" href="#id17">验证结果</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <!-- <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.1
                    </a>
                </small> -->
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
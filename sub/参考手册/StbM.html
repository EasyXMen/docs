<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>StbM产品参考手册 &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../genindex.html" />
            <link rel="search" title="Search" href="../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="TcpIp产品参考手册" href="TcpIp.html" />
            <link rel="prev" title="SomeIpXf产品参考手册" href="SomeIpXf.html" />
    </head>
<body>
    <script type="text/javascript" src="../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../index.html"
                        
                        class="logo navbar-brand"
                    >
                        <img src="../../_static/img/i-soft_logo.png"
                            class="logo-img"
                        />
                        
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BswM.html">BswM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanIf.html">CanIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanNm.html">CanNm产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanSM.html">CanSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTp.html">CanTp产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTrcv.html">CanTrcv产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTSyn.html">CanTSyn产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Com.html">Com产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComM.html">ComM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComXf.html">ComXf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRC.html">CRC产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CryIf.html">CryIf 产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crypto.html">Crypto驱动产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSM.html">CSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="DCM.html">DCM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dem.html">Dem产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Det.html">DET产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dlt.html">DLT产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="DoIP.html">DoIP产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EL.html">E2EL产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EXf.html">E2EXf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ea.html">EA产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuC.html">EcuC产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuM.html">EcuM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthIf.html">EthIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSM.html">EthSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSwt.html">EthSwt产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTrcv.html">EthTrcv产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTSyn.html">EthTSyn产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fee.html">Fee产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="FiM.html">FiM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="FOTA_handler.html">FOTA_handler产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="IoHwAb.html">IoHwAb产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="IpduM.html">IpduM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyM.html">KeyM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="LdCom.html">LdCom产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinIf.html">LinIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinSM.html">LinSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="MemIf.html">MemIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="NmIf.html">NmIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="NvM.html">NvM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="OS.html">OS模块参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="PduR.html">PduR产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sd.html">Sd产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SecOC.html">SecOC产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SoAd.html">SoAd产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpTp.html">SomeIpTp产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpXf.html">SomeIpXf产品参考手册</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">StbM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="TcpIp.html">TcpIp产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tm.html">Tm产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="UdpNm.html">UdpNm产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgIf.html">WdgIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgM.html">WdgM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="XCP.html">XCP产品参考手册</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OS.html">OS_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OS_%E6%B7%BB%E5%8A%A0%E8%AE%A2%E9%98%85.html">OS添加订阅</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP_集成手册</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/%E5%B0%8F%E6%BB%A1S32K148%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E.html">小满S32K148示例工程说明</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">StbM产品参考手册</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../_sources/sub/参考手册/StbM.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="stbm">
<h1>StbM产品参考手册<a class="headerlink" href="#stbm" title="Link to this heading">¶</a></h1>
<p><strong>缩写词注解</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>缩略语</strong></p></th>
<th class="head"><p><strong>英文全名</strong></p></th>
<th class="head"><p><strong>中文解释</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>StbM</p></td>
<td><p>S
ynchronizedTimeBaseManager</p></td>
<td><p>同步时基管理</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;Bus&gt;TSyn</p></td>
<td><p>A bus specific Time
Synchronization Provider
module</p></td>
<td><p>总线特
定的时间同步提供程序模块</p></td>
</tr>
<tr class="row-even"><td><p>CAN</p></td>
<td><p>Controller Area Network</p></td>
<td><p>控制器区域网络</p></td>
</tr>
<tr class="row-odd"><td><p>ETH</p></td>
<td><p>Ethernet</p></td>
<td><p>以太网</p></td>
</tr>
<tr class="row-even"><td><p>CanTSyn</p></td>
<td><p>Time Synchronization
Provider module for CAN</p></td>
<td><p>CAN提供的时间同步程序模块</p></td>
</tr>
<tr class="row-odd"><td><p>EthTSyn</p></td>
<td><p>Time Synchronization
Provider module for
Ethernet</p></td>
<td><p>Eth提供的时间同步程序模块</p></td>
</tr>
</tbody>
</table>
<section id="id1">
<h2>简介<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<p>StbM在AutoSAR中软件层级架构如下图，其属于时间同步栈。</p>
<p><a class="reference internal" href="../../_images/image1147.png"><img alt="image1" src="../../_images/image1147.png" style="width: 5.76736in; height: 3.68472in;" /></a></p>
<p>图1-1 StbM在Autosar中软件架构图</p>
<p>本文中描述StbM，StbM负责管理时基，给CanTSyn,
EthTSyn提供接口用来更新同步时间，给其他用户提供接口用来获取/通知同步时间。</p>
<section id="id2">
<h3>参考资料<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>[1] AUTOSAR_SWS_TimeSyncOverCAN.pdf，R19-11</p>
<p>[2] AUTOSAR_SWS_SynchronizedTimeBaseManager.pdf，R19-11</p>
<p>[3] AUTOSAR_EXP_LayeredSoftwareArchitecture.pdf，R19-11</p>
<p>[4] AUTOSAR_SWS_TimeSyncOverEthernet.pdf，R19-11</p>
</section>
</section>
<section id="id3">
<h2>功能描述<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>StbM功能<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<section id="id5">
<h4>StbM功能介绍<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<p>StbM的主要功能包括两个方面，一是使上层应用间的时间可以同步，二是提供绝对时间值。</p>
<p>由于不同的硬件时钟，速率可能会有偏差，这将会导致使用不同硬件时钟的应用，各自的时间会有偏差，为了消除这种偏差，StbM会将一个主节点的时间基作为全局的时间基，并将所有其他节点的时间同步到这一节点，以达成时间同步的目的。</p>
<p>另外，StbM还包括定时器功能和时间记录功能，定时器功能可以在时间到达用户配置的时间值或时间值来通知用户，时间记录为记录每一次时间的更新，供用户获取。</p>
</section>
<section id="id6">
<h4>StbM功能实现<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<p>StbM管理一个主时间组，这个主时基组用来作为其他从节点时间同步的基准，主时间组由TG和TV组成，TG是全局时间，TV是虚拟本地时间，TG的来源为总线同步模块设置的时间和当前的TV通过时间校正计算而得出的时间，TV的来源是本地的硬件时钟，包括GPT,OS和EthTSyn三种。</p>
<p>时间校正计算包括偏移校正和速率校正，偏移校正包括跳跃校正和速率适应。</p>
<p>速率校正，在单位时间不停计算时间差，以得出不同时钟间的速率偏差。</p>
<p>偏移校正是根据本地的时间，速率的偏差以及接受到的时间计算得出的时间来覆盖主时间组。表示成公式为TL
= TGSync + (TV - TVSync) * r。</p>
<p>其中的跳跃校正为当StbM接收到时间值时，主时间组的值直接更新为接收到的时间。即速率适应的偏移校正，则是在一段时间内逐渐校正调整偏移值。</p>
<p>绝对时间值即为同步时基的时间加上偏移时基的时间即为绝对时间值。</p>
</section>
</section>
</section>
<section id="id7">
<h2>源文件描述<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h2>
<p>表3-1 StbM组件文件描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>文件</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>StbM.c</p></td>
<td><p>StbM模块源文件，包含了API函数的实现。</p></td>
</tr>
<tr class="row-odd"><td><p>StbM.h</p></td>
<td><p>StbM模块头文件，包含了API函数的声明。</p></td>
</tr>
<tr class="row-even"><td><p>StbM_Types.h</p></td>
<td><p>StbM模块头文件，包含了内部数据类型定义。</p></td>
</tr>
<tr class="row-odd"><td><p>StbM_MemMap.h</p></td>
<td><p>StbM模块头文件，包含了内存布局的实现。</p></td>
</tr>
<tr class="row-even"><td><p>StbM_Cfg.h</p></td>
<td><p>定义StbM模块预编译时用到的配置参数。</p></td>
</tr>
<tr class="row-odd"><td><p>StbM_Cfg.c</p></td>
<td><p>StbM模块配置生成文件。</p></td>
</tr>
<tr class="row-even"><td><p>SchM_StbM.h</p></td>
<td><p>StbM模块头文件，包含了Main函数的声明。</p></td>
</tr>
<tr class="row-odd"><td><p>Rte_StbM_Type.h</p></td>
<td><p>时间同步模块的头文件。</p></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image290.png"><img alt="image2" src="../../_images/image290.png" style="width: 5.76736in; height: 4.29028in;" /></a></p>
<p>图3-1 StbM组件文件交互关系图</p>
</section>
<section id="api">
<h2>API接口<a class="headerlink" href="#api" title="Link to this heading">¶</a></h2>
<section id="id8">
<h3>类型定义<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<section id="stbm-configtype">
<h4>StbM_ConfigType类型定义<a class="headerlink" href="#stbm-configtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_ConfigType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>模块配置类型</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-synchronizedtimebasetype">
<h4>StbM_SynchronizedTimeBaseType类型定义<a class="headerlink" href="#stbm-synchronizedtimebasetype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_SynchronizedTimeBaseType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint16</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>0-15 为同步时基，16-31为偏移时基，32-127为纯本地时基</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>表示时基的Id号</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-timebasestatustype">
<h4>StbM_TimeBaseStatusType类型定义<a class="headerlink" href="#stbm-timebasestatustype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_TimeBaseStatusType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint8</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>TIMEOUT 0x01</p>
<p>SYNC_TO_GATEWAY 0x04</p>
<p>GLOBAL_TIME_BASE 0x08</p>
<p>TIMELEAP_FUTURE 0x10</p>
<p>TIMELEAP_PAST 0x20</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>表示时基状态</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-timestamptype">
<h4>StbM_TimeStampType类型定义<a class="headerlink" href="#stbm-timestamptype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_TimeStampType</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>成员</p></td>
<td><p>StbM_TimeBaseStatusType::
timeBaseStatus</p></td>
<td><p>时间基状态</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32::nanoseconds</p></td>
<td><p>纳秒部分</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>uint32::seconds</p></td>
<td><p>秒部分低32bit部分</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint16::secondsHi</p></td>
<td><p>秒部分高16bit部分</p></td>
</tr>
<tr class="row-odd"><td><p>描述</p></td>
<td><p>时间基时间戳数据结构</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-timestampextendedtype">
<h4>StbM_TimeStampExtendedType类型定义<a class="headerlink" href="#stbm-timestampextendedtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_TimeStampExtendedType</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>成员</p></td>
<td><p>StbM_TimeBaseStatusType::
timeBaseStatus</p></td>
<td><p>时间基状态</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32::nanoseconds</p></td>
<td><p>纳秒部分</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>uint64::seconds</p></td>
<td><p>秒部分</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>扩展型时间基时间戳数据结构</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-timedifftype">
<h4>StbM_TimeDiffType类型定义<a class="headerlink" href="#stbm-timedifftype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_TimeDiffType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>sint32</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>-2147483647..2147483647</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>时间差值</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-ratedeviationtype">
<h4>StbM_RateDeviationType类型定义<a class="headerlink" href="#stbm-ratedeviationtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_RateDeviationType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>sint16</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>-32000..32000</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>时间比例差异（单位ppm）</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-userdatatype">
<h4>StbM_UserDataType类型定义<a class="headerlink" href="#stbm-userdatatype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_UserDataType</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>成员</p></td>
<td><p>uint8::userDataLength</p></td>
<td><p>用户数据长度，范围 0..3</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint8::userByte0</p></td>
<td><p>用户数据 byte 0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>uint8::userByte1</p></td>
<td><p>用户数据 byte 1</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint8::userByte2</p></td>
<td><p>用户数据 byte 2</p></td>
</tr>
<tr class="row-odd"><td><p>描述</p></td>
<td><p>时基对应的用户数据</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-customeridtype">
<h4>StbM_CustomerIdType类型定义<a class="headerlink" href="#stbm-customeridtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_CustomerIdType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint16</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>0-65535</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>需要通知的用户ID</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-timebasenotificationtype">
<h4>StbM_TimeBaseNotificationType类型定义<a class="headerlink" href="#stbm-timebasenotificationtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_TimeBaseNotificationType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint16</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>EV_GLOBAL_TIME 0x01</p>
<p>EV_TIMEOUT_OCCURRED 0x02</p>
<p>EV_TIMEOUT_REMOVED 0x04</p>
<p>EV_TIMELEAP_FUTURE 0x08</p>
<p>EV_TIMELEAP_FUTURE_REMOVED 0x10</p>
<p>EV_TIMELEAP_PAST 0x20</p>
<p>EV_TIMELEAP_PAST_REMOVED 0x40</p>
<p>EV_SYNC_TO_SUBDOMAIN 0x80</p>
<p>EV_SYNC_TO_GLOBAL_MASTER 0x100</p>
<p>EV_RESYNC 0x0200</p>
<p>EV_RATECORRECTION 0x0400</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>表示需要通知用户的状态变化</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-syncrecordtableheadtype">
<h4>StbM_SyncRecordTableHeadType类型定义<a class="headerlink" href="#stbm-syncrecordtableheadtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>St
bM_SyncRecordTableHeadType</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>成员</p></td>
<td><p>uin
t8::SynchronizedTimeDomain</p></td>
<td><p>时间域 0..15</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32::HWfrequency</p></td>
<td><p>硬件频率（Hz）</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>uint32::HWprescaler</p></td>
<td><p>预分频值</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>同步时间记录的表头</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-syncrecordtableblocktype">
<h4>StbM_SyncRecordTableBlockType类型定义<a class="headerlink" href="#stbm-syncrecordtableblocktype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名
称</p></td>
<td><p>StbM_SyncRecordTableBlockType</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>类
型</p></td>
<td><p>Structure</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>成
员</p></td>
<td><p>uint32::GlbSeconds</p></td>
<td><p>与全局
时间基同步后的本地时间基秒</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32::GlbNanoSeconds</p></td>
<td><p>与全局时间基同步
后直接生成本地时间基的纳秒</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>StbM_Ti
meBaseStatusType::TimeBaseStatus</p></td>
<td><p>与全局时间基同步后
的本地时间基的时间基础状态</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32::VirtualLocalTimeLow</p></td>
<td><p>与全局时间基同步后，最
不显著的虚拟本地时间的32位</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><a href="#id17"><span class="problematic" id="id18">StbM_</span></a>
RateDeviationType::RateDeviation</p></td>
<td><p>速率
偏差测量后直接计算速率偏差</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32::LocSeconds</p></td>
<td><p>在与全局时
间基同步之前的本地时间基秒</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>uint32::LocNanoSeconds</p></td>
<td><p>在与全局时间基
同步之前，本地时间基的纳秒</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32::PathDelay</p></td>
<td><p>当前传播延迟，单位为纳秒</p></td>
</tr>
<tr class="row-odd"><td><p>描
述</p></td>
<td><p>同步时间记录的块结构</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-offsetrecordtableheadtype">
<h4>StbM_OffsetRecordTableHeadType类型定义<a class="headerlink" href="#stbm-offsetrecordtableheadtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM
_OffsetRecordTableHeadType</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>成员</p></td>
<td><p>uint8::OffsetTimeDomain</p></td>
<td><p>时间域16..31</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>偏移时间记录的表头</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-offsetrecordtableblocktype">
<h4>StbM_OffsetRecordTableBlockType类型定义<a class="headerlink" href="#stbm-offsetrecordtableblocktype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_Of
fsetRecordTableBlockType</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>成员</p></td>
<td><p>uint32 GlbSeconds</p></td>
<td><p>偏移时间基数的秒数</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>uint32 GlbNanoSeconds</p></td>
<td><p>偏移时间基的纳秒</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>StbM_TimeBaseStatusType
TimeBaseStatus</p></td>
<td><p>与全局时间基同步
后的本地时间基的时间基础状态</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>偏移时间记录的块结构</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-masterconfigtype">
<h4>StbM_MasterConfigType类型定义<a class="headerlink" href="#stbm-masterconfigtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>StbM_MasterConfigType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint8</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>STBM_SYSTEM_WIDE_MASTER_DISABLED 0x00</p>
<p>STBM_SYSTEM_WIDE_MASTER_ENABLED 0x01</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>是否配置为系统主</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id9">
<h3>输入函数描述<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>输入模块</strong></p></td>
<td><p><strong>API</strong></p></td>
</tr>
<tr class="row-even"><td><p>EthIf</p></td>
<td><p>EthIf_GetCurrentTime</p></td>
</tr>
<tr class="row-odd"><td><p>OS</p></td>
<td><p>GetScheduleTableStatus</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>SyncScheduleTable</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>GetCounterValue</p></td>
</tr>
<tr class="row-even"><td><p>Det</p></td>
<td><p>Det_ReportError</p></td>
</tr>
<tr class="row-odd"><td><p>Gpt</p></td>
<td><p>Gpt_StartTimer</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Gpt_GetTimeElapsed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id10">
<h3>静态接口函数定义<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<section id="stbm-init">
<h4>StbM_Init函数定义<a class="headerlink" href="#stbm-init" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_Init</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
STBM_CODE)</p>
<p>StbM_Init(P2CONST
(StbM_ConfigType,
AUTOMATIC,
STBM_APP
L_DATA)ConfigPtr)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>ConfigPtr</p></td>
<td><p>值域：</p></td>
<td><p>指向选定配置集的指针</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>void</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>初始化此模块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getversioninfo">
<h4>StbM_GetVersionInfo函数定义<a class="headerlink" href="#stbm-getversioninfo" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_Ge
tVersionInfo</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
STBM_CODE)</p>
<p>StbM_GetVe
rsionInfo(P2
VAR(Std_Vers
ionInfoType,
AUTOMATIC,
STB
M_APPL_DATA)
versioninfo)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x05</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>versioninfo</p></td>
<td><p>指向
保存该模块的版本信息的内存位置的指针。</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>void</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取版本号</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getcurrenttime">
<h4>StbM_GetCurrentTime函数定义<a class="headerlink" href="#stbm-getcurrenttime" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>S
tbM_GetCurrentTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FU
NC(Std_ReturnType,
STBM_CODE)</p>
<p>St
bM_GetCurrentTime(</p>
<p>StbM_Synchr
onizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(S
tbM_TimeStampType,
AUTOMATIC,
STBM_APPL_DATA)
timeStamp,</p>
<p>P2VAR(
StbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA)
userData</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x07</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同
步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td></td>
<td><p>参考的时间基ID</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>timeStamp</p></td>
<td colspan="2"><p>当 |
前 |
有 |
效 |
的 |
时 |
间 |
戳 |</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>userData</p></td>
<td colspan="2"><p>时 |
间 |
基 |
的 |
用 |
户 |
数 |
据 |</p></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>以
标准格式返回时间值</p>
<p>注：此接口
需在独占区域/中断
保护环境下执行，以
免获取的时间过期。</p>
</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getcurrenttimeextended">
<h4>StbM_GetCurrentTimeExtended函数定义<a class="headerlink" href="#stbm-getcurrenttimeextended" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>St
bM_GetCurrentTimeExtended</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)</p>
<p>Stb
M_GetCurrentTimeExtended(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(St
bM_TimeStampExtendedType,
AUTOMATIC,
STBM_APPL_DATA)
timeStamp,</p>
<p>P2VAR(StbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA) userData</p>
<p>)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x08</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>时间基 ID</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>timeStamp</p></td>
<td><p>此时有效的当前时间戳</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>userData</p></td>
<td><p>时间基的用户数据</p></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>以扩展格式返回时间值。</p>
<p>注：此接口需在
独占区域/中断保护环境下执
行，以免获取的时间过期。</p>
</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getcurrentvirtuallocaltime">
<h4>StbM_GetCurrentVirtualLocalTime函数定义<a class="headerlink" href="#stbm-getcurrentvirtuallocaltime" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_G
etCurrentVirtualLocalTime</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)</p>
<p>StbM_Ge
tCurrentVirtualLocalTime(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(S
tbM_VirtualLocalTimeType,
AUTOMATIC,
STBM_APPL_DATA)
localTimePtr</p>
<p>)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x1E</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>localTimePtr</p></td>
<td><p>当前虚拟本地时间值</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>返回虚拟本地时间</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-setglobaltime">
<h4>StbM_SetGlobalTime函数定义<a class="headerlink" href="#stbm-setglobaltime" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>S
tbM_SetGlobalTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
STBM_CODE)</p>
<p>St
bM_SetGlobalTime(</p>
<p>StbM_Synchro
nizedTimeBaseType
timeBaseId,</p>
<p>P2CONST(St
bM_TimeStampType,
AUTOMATIC,
STBM_APPL_DATA)
timeStamp,</p>
<p>P2CONST(S
tbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA)
userData</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0B</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值域：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>timeStamp</p></td>
<td></td>
<td><p>新的时间戳</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>userData</p></td>
<td></td>
<td><p>新
的用户数据（如果非空）</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>客户设置新的全
局时间总线需更新</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-updateglobaltime">
<h4>StbM_UpdateGlobalTime函数定义<a class="headerlink" href="#stbm-updateglobaltime" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM
_UpdateGlobalTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
STBM_CODE)</p>
<p><a href="#id19"><span class="problematic" id="id20">StbM_</span></a>
UpdateGlobalTime(</p>
<p>StbM_Synchro
nizedTimeBaseType
timeBaseId,</p>
<p>P2CONST(St
bM_TimeStampType,
AUTOMATIC,
STBM_APPL_DATA)
timeStamp,</p>
<p>P2CONST(S
tbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA)
userData</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x10</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值域：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>timeStamp</p></td>
<td></td>
<td><p>新的时间戳</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>userData</p></td>
<td></td>
<td><p>新
的用户数据（如果非空）</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>客户
设置新的全局时间</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-setuserdata">
<h4>StbM_SetUserData函数定义<a class="headerlink" href="#stbm-setuserdata" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_SetUserData</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
STBM_CODE)</p>
<p>StbM_SetUserData(</p>
<p>StbM_Synchro
nizedTimeBaseType
timeBaseId,</p>
<p>P2CONST(S
tbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA)
userData</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0C</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值域：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>userData</p></td>
<td></td>
<td><p>新的用户数据</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>设置用户数据</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-setoffset">
<h4>StbM_SetOffset函数定义<a class="headerlink" href="#stbm-setoffset" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_SetOffset</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>StbM_SetOffset(</p>
<p>StbM_Synchro
nizedTimeBaseType
timeBaseId,</p>
<p>P2CONST(St
bM_TimeStampType,
AUTOMATIC,
STBM_APPL_DATA)
timeStamp,</p>
<p>P2CONST(S
tbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA)
userData</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0D</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值域：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>timeStamp</p></td>
<td></td>
<td><p>新的时间戳</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>userData</p></td>
<td></td>
<td><p>新
的用户数据（如果非空）</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>设置偏移时间</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getoffset">
<h4>StbM_GetOffset函数定义<a class="headerlink" href="#stbm-getoffset" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_GetOffset</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)</p>
<p>StbM_GetOffset(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(StbM_TimeStampType,
AUTOMATIC,
STBM_APPL_DATA)
timeStamp,</p>
<p>P2VAR(StbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA) userData</p>
<p>)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0E</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>timeStamp</p></td>
<td><p>当前偏移的时间值</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>userData</p></td>
<td><p>当前用户数据</p></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>获得当前偏移时间</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-busgetcurrenttime">
<h4>StbM_BusGetCurrentTime函数定义<a class="headerlink" href="#stbm-busgetcurrenttime" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_BusGetCurrentTime</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)</p>
<p>StbM_BusGetCurrentTime(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(StbM_TimeStampType,
AUTOMATIC,
STBM_APPL_DATA)
globalTimePtr,</p>
<p>P2VAR(S
tbM_VirtualLocalTimeType,
AUTOMATIC,
STBM_APPL_DATA)
localTimePtr,</p>
<p>P2VAR(StbM_UserDataType,
AUTOMATIC,
STBM_APPL_DATA)
userDataPtr</p>
<p>)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x1F</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>globalTimePtr</p></td>
<td><p>全局时间的本地实例的值</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>localTimePtr</p></td>
<td><p>虚拟本地时间的值</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>userDataPtr</p></td>
<td><p>时间基的用户数据</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>返回当前时基的时间元组</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-bussetglobaltime">
<h4>StbM_BusSetGlobalTime函数定义<a class="headerlink" href="#stbm-bussetglobaltime" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>S
tbM_BusSet
GlobalTime</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_R
eturnType,
STBM_CODE)</p>
<p>St
bM_BusSetG
lobalTime(</p>
<p>StbM_Sync
hronizedTi
meBaseType
t
imeBaseId,</p>
<p>P2CONST
(StbM_Time
StampType,
AUTOMATIC,
<a href="#id21"><span class="problematic" id="id22">STBM_</span></a>
APPL_DATA)
glob
alTimePtr,</p>
<p>P2CONS
T(StbM_Use
rDataType,
AUTOMATIC,
<a href="#id23"><span class="problematic" id="id24">STBM_</span></a>
APPL_DATA)
us
erDataPtr,</p>
<p>P2CONST(S
tbM_Measur
ementType,
AUTOMATIC,
<a href="#id25"><span class="problematic" id="id26">STBM_</span></a>
APPL_DATA)
measu
reDataPtr,</p>
<p>P2CO
NST(StbM_V
irtualLoca
lTimeType,
AUTOMATIC,
<a href="#id27"><span class="problematic" id="id28">STBM_</span></a>
APPL_DATA)
lo
calTimePtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0F</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值
域：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>glo
balTimePtr</p></td>
<td></td>
<td><p>新的全局时间值</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>u
serDataPtr</p></td>
<td></td>
<td><p>新的用户数据（如果非空）</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>meas
ureDataPtr</p></td>
<td></td>
<td><p>新的测量数据</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>lo
calTimePtr</p></td>
<td></td>
<td><p>与新
的全局时间相关联的本地虚拟时间值</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK
失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>接收时间组</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getratedeviation">
<h4>StbM_GetRateDeviation函数定义<a class="headerlink" href="#stbm-getratedeviation" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_GetRateDeviation</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CO
DE)StbM_GetRateDeviation(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VA
R(StbM_RateDeviationType,
AUTOMATIC,
STBM_APPL_DATA)
rateDeviation)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x11</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>rateDeviation</p></td>
<td><p>时间基准的当前速率偏差值</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>返回一
个时基的当前速率偏差的值</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-setratecorrection">
<h4>StbM_SetRateCorrection函数定义<a class="headerlink" href="#stbm-setratecorrection" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p><a href="#id29"><span class="problematic" id="id30">StbM_</span></a>
SetRateCorrection</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
STBM_CODE)StbM_S
etRateCorrection(</p>
<p>StbM_Synchro
nizedTimeBaseType
timeBaseId,</p>
<p><a href="#id31"><span class="problematic" id="id32">StbM_</span></a>
RateDeviationType
rateDeviation)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x12</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>rateDeviation</p></td>
<td></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>设
置同步时基的速率</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-gettimeleap">
<h4>StbM_GetTimeLeap函数定义<a class="headerlink" href="#stbm-gettimeleap" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_GetTimeLeap</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
ST
BM_CODE)StbM_GetTimeLeap(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(StbM_TimeDiffType,
AUTOMATIC,
STBM_APPL_DATA) timeJump)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x13</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>timeJump</p></td>
<td><p>时间跳跃值</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>返回时间跳跃值</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-gettimebasestatus">
<h4>StbM_GetTimeBaseStatus函数定义<a class="headerlink" href="#stbm-gettimebasestatus" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>St
bM_GetTimeBaseStatus</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)Stb
M_GetTimeBaseStatus(</p>
<p>StbM_Sync
hronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(StbM
_TimeBaseStatusType,
AUTOMATIC,
STBM_APPL_DATA)
syncTimeBaseStatus,</p>
<p>P2VAR(StbM
_TimeBaseStatusType,
AUTOMATIC,
STBM_APPL_DATA)
o
ffsetTimeBaseStatus)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x14</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>syncTimeBaseStatus</p></td>
<td><p>已
同步（或纯本地）时间基准的状态</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>offsetTimeBaseStatus</p></td>
<td><p>偏移时间基的状态</p></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>获取时基状态</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-starttimer">
<h4>StbM_StartTimer函数定义<a class="headerlink" href="#stbm-starttimer" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_St
artTimer</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC
(Std_Ret
urnType,
ST
BM_CODE)
StbM_Sta
rtTimer(</p>
<p><a href="#id33"><span class="problematic" id="id34">StbM_</span></a>
Synchron
izedTime
BaseType
tim
eBaseId,</p>
<p>Stb
M_Custom
erIdType
cus
tomerId,</p>
<p>P2C
ONST(Stb
M_TimeSt
ampType,
AU
TOMATIC,
STBM_AP
PL_DATA)
exp
ireTime)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x15</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>ti
meBaseId</p></td>
<td><p>值
域
：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>cu
stomerId</p></td>
<td></td>
<td><p>已同步的时间基的状态</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>ex
pireTime</p></td>
<td></td>
<td><p>当计时器到期时，
相对于通知客户的当前时间基值的时间值</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK
成功</p>
<p>E_NOT_OK
失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>设置一
个时间段</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getsynctimerecordhead">
<h4>StbM_GetSyncTimeRecordHead函数定义<a class="headerlink" href="#stbm-getsynctimerecordhead" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>S
tbM_GetSyncTimeRecordHead</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)St
bM_GetSyncTimeRecordHead(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(StbM
_SyncRecordTableHeadType,
AUTOMATIC,
STBM_APPL_DATA)
syncRecordTableHead)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x16</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>syncRecordTableHead</p></td>
<td><p>表头</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>返回同步时基记录表的表头</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getoffsettimerecordhead">
<h4>StbM_GetOffsetTimeRecordHead函数定义<a class="headerlink" href="#stbm-getoffsettimerecordhead" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Stb
M_GetOffsetTimeRecordHead</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)StbM
_GetOffsetTimeRecordHead(</p>
<p>StbM
_SynchronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(StbM_O
ffsetRecordTableHeadType,
AUTOMATIC,
STBM_APPL_DATA)
offsetRecordTableHead)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x17</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>offsetRecordTableHead</p></td>
<td><p>表头</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>返回偏移时基记录表的表头</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-triggertimetransmission">
<h4>StbM_TriggerTimeTransmission函数定义<a class="headerlink" href="#stbm-triggertimetransmission" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_Trigge
rTimeTransmission</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
<a href="#id35"><span class="problematic" id="id36">STBM_</span></a>
CODE)StbM_Trigger
TimeTransmission(</p>
<p>StbM_Synchro
nizedTimeBaseType
timeBaseId)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x1C</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值域：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 操作成功</p>
<p>E_NOT_OK 操作失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>使timeBa
seUpdateCounter+1</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-gettimebaseupdatecounter">
<h4>StbM_GetTimeBaseUpdateCounter函数定义<a class="headerlink" href="#stbm-gettimebaseupdatecounter" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_GetTime
BaseUpdateCounter</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(uint8,
STBM_C
ODE)StbM_GetTimeB
aseUpdateCounter(</p>
<p>StbM_Synchro
nizedTimeBaseType
timeBaseId)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x1B</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>值域：</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>属于
时间基的计数器值
，表示对时间同步
模块的时间基更新</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>允许Tim
esync模块获取time
BaseUpdateCounter</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-getmasterconfig">
<h4>StbM_GetMasterConfig函数定义<a class="headerlink" href="#stbm-getmasterconfig" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_GetMasterConfig</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
STBM_CODE)
StbM_GetMasterConfig(</p>
<p>StbM_Syn
chronizedTimeBaseType
timeBaseId,</p>
<p>P2VAR(S
tbM_MasterConfigType,
AUTOMATIC,
STBM_APPL_DATA)
masterConfig)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x1D</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>timeBaseId</p></td>
<td><p>参考的时间基</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>masterConfig</p></td>
<td><p>指
示是否支持系统范围内的主功能</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取是否可用为主节点</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-mainfunction">
<h4>StbM_MainFunction函数定义<a class="headerlink" href="#stbm-mainfunction" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_MainFunction</p></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void, STBM_CODE)StbM_MainFunction(void)</p></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x04</p></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>循环调用函数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbm-timercallback">
<h4>StbM_TimerCallback函数定义<a class="headerlink" href="#stbm-timercallback" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>StbM_TimerCallback</p></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void, STBM_CODE)StbM_ TimerCallback(void)</p></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0xE0</p></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id11">
<h3>可配置函数定义<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<section id="statusnotificationcallback">
<h4>StatusNotificationCallback函数定义<a class="headerlink" href="#statusnotificationcallback" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Stat
usNotificationCa
llback&lt;TimeBase&gt;</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
Stat
usNotificationCa
llback&lt;TimeBase&gt;</p>
<p>(
StbM_TimeBase
NotificationType
e
ventNotification
)</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输入参数：</p></td>
<td><p>e
ventNotification</p></td>
<td><p>保存
与不同的时间基础相关的事件的通知位</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>基于时间基的事
件发生时通知用户</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="customer-timenotificationcallback">
<h4>&lt;Customer&gt;_TimeNotificationCallback函数定义<a class="headerlink" href="#customer-timenotificationcallback" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>&lt;Customer&gt;_
TimeNotificationC
allback&lt;TimeBase&gt;</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
&lt;Customer&gt;_
TimeNotificationC
allback&lt;TimeBase&gt;
(
StbM_TimeDiffType
deviationTime )</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输入参数：</p></td>
<td><p>deviationTime</p></td>
<td><p>值域：</p></td>
<td><p>-2147483647..2147483647</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK 失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>计
时结束时通知用户</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="offsettimerecordblockcallback">
<h4>OffsetTimeRecordBlockCallback函数定义<a class="headerlink" href="#offsettimerecordblockcallback" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Offse
tTimeRecordBlockC
allback&lt;TimeBase&gt;</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
Offse
tTimeRecordBlockC
allback&lt;TimeBase&gt;
( const
StbM_OffsetRecor
dTableBlockType*
offse
tRecordTableBlock
)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输入参数：</p></td>
<td><p>offse
tRecordTableBlock</p></td>
<td><p>值
域：</p></td>
<td><p>表中的块ID</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK表访问成功</p>
<p>E_NOT_OK
表中不包含任何数
据或访问权限无效</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>提供偏移
时基记录的测量数
据表的快照数据头</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="synctimerecordblockcallback">
<h4>SyncTimeRecordBlockCallback函数定义<a class="headerlink" href="#synctimerecordblockcallback" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Syn
cTimeRecordBlockC
allback&lt;TimeBase&gt;</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
Syn
cTimeRecordBlockC
allback&lt;TimeBase&gt;
( const
StbM_SyncRecor
dTableBlockType*
syn
cRecordTableBlock
)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输入参数：</p></td>
<td><p>syn
cRecordTableBlock</p></td>
<td><p>值
域：</p></td>
<td><p>表中的块ID</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK表访问成功</p>
<p>E_NOT_OK
表中不包含任何数
据或访问权限无效</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>提供同步
时基记录的测量数
据表的快照数据头</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="swc">
<h3>SWC服务组件封装<a class="headerlink" href="#swc" title="Link to this heading">¶</a></h3>
<p>以下类型和接口可以封装至SWC生成完整的服务组件，可以与应用通过端口连接，没有列出的部分StbM底层暂时不支持。</p>
<section id="cs">
<h4>CS接口封装<a class="headerlink" href="#cs" title="Link to this heading">¶</a></h4>
<p>注：下面提到的&lt;UserModule&gt;和&lt;UserPort&gt;分别为用户SWC的名字和对应端口名，在与StbM服务组件端口连接后适用。</p>
<section id="rte-call-usermodule-userport-getmasterconfig">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetMasterConfig<a class="headerlink" href="#rte-call-usermodule-userport-getmasterconfig" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte
_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_GetMasterConfig</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.22</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1. StbMSy
nchronizedTimeBase/StbMIsSystemWideGlobalTimeMaster</p>
<blockquote>
<div><p>== TRUE</p>
</div></blockquote>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Master_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-setglobaltime">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetGlobalTime<a class="headerlink" href="#rte-call-usermodule-userport-setglobaltime" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>R
te_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_SetGlobalTime</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.6</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1.
StbMSynchronizedTimeBase/StbMIsSystemWideGlobalTime</p>
<p>Master == TRUE</p>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Master_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-setoffset">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetOffset<a class="headerlink" href="#rte-call-usermodule-userport-setoffset" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_SetOffset</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.9</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1.
StbMSynchronizedTimeBase/StbMIsSystemWideGlobalTime</p>
<p>Master == TRUE</p>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>15 &lt; StbMSynchronizedTimeBaseIdentifier &lt; 32</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Master_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-setratecorrection">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetRateCorrection<a class="headerlink" href="#rte-call-usermodule-userport-setratecorrection" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_C
all_&lt;UserModule&gt;_&lt;UserPortName&gt;_SetRateCorrection</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.14</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1.
StbMSynchronizedTimeBase/StbMIsSystemWideGlobalTime</p>
<p>Master == TRUE</p>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Master_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-setuserdata">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetUserData<a class="headerlink" href="#rte-call-usermodule-userport-setuserdata" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_SetUserData</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.8</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1.
StbMSynchronizedTimeBase/StbMIsSystemWideGlobalTime</p>
<p>Master == TRUE</p>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Master_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-triggertimetransmission">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_TriggerTimeTransmission<a class="headerlink" href="#rte-call-usermodule-userport-triggertimetransmission" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_&lt;
UserModule&gt;_&lt;UserPortName&gt;_TriggerTimeTransmission</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.20</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1.
StbMSynchronizedTimeBase/StbMIsSystemWideGlobalTime</p>
<p>Master == TRUE</p>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 32</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Master_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-updateglobaltime">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_UpdateGlobalTime<a class="headerlink" href="#rte-call-usermodule-userport-updateglobaltime" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p><a href="#id37"><span class="problematic" id="id38">Rte_</span></a>
Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_UpdateGlobalTime</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.7</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1.
StbMSynchronizedTimeBase/StbMIsSystemWideGlobalTime</p>
<p>Master == TRUE</p>
<p>And</p>
<p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Master_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-getcurrenttime">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetCurrentTime<a class="headerlink" href="#rte-call-usermodule-userport-getcurrenttime" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rt
e_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_GetCurrentTime</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.3</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-getcurrenttimeextended">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetCurrentTimeExtended<a class="headerlink" href="#rte-call-usermodule-userport-getcurrenttimeextended" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_
&lt;UserModule&gt;_&lt;UserPortName&gt;_GetCurrentTimeExtended</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.4</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><ol class="arabic simple">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></li>
</ol>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>StbMGeneral/StbMGetCurrentTimeExtendedAvailable
== true</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-getcurrenttimeextended-1">
<span id="id12"></span><h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetCurrentTimeExtended<a class="headerlink" href="#rte-call-usermodule-userport-getcurrenttimeextended-1" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_
&lt;UserModule&gt;_&lt;UserPortName&gt;_GetCurrentTimeExtended</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.4</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><ol class="arabic simple">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></li>
</ol>
<p>And</p>
<ol class="arabic simple" start="2">
<li><p>StbMGeneral/StbMGetCurrentTimeExtendedAvailable
== true</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-getoffsettimerecordhead">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetOffsetTimeRecordHead<a class="headerlink" href="#rte-call-usermodule-userport-getoffsettimerecordhead" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_&lt;
UserModule&gt;_&lt;UserPortName&gt;_GetOffsetTimeRecordHead</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.19</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><ol class="arabic simple">
<li><p>15 &lt;StbMSynchronizedTimeBaseIdentifier &lt; 32</p></li>
</ol>
<p>And</p>
<p>2. StbMSy
nchronizedTimeBase/StbMIsSystemWideGlobalTimeMaster</p>
<blockquote>
<div><p>== FALSE</p>
</div></blockquote>
<p>And</p>
<ol class="arabic simple" start="3">
<li><p>StbMGeneral/StbMTimeRecordingSupport == True</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-getratedeviation">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetRateDeviation<a class="headerlink" href="#rte-call-usermodule-userport-getratedeviation" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p><a href="#id39"><span class="problematic" id="id40">Rte_</span></a>
Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_GetRateDeviation</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.13</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-getsynctimerecordhead">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetSyncTimeRecordHead<a class="headerlink" href="#rte-call-usermodule-userport-getsynctimerecordhead" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_GetSyncTimeRecordHead</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.18</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><ol class="arabic simple">
<li><p>StbMSynchronizedTimeBaseIdentifier &lt; 16</p></li>
</ol>
<p>And</p>
<p>2. StbMSy
nchronizedTimeBase/StbMIsSystemWideGlobalTimeMaster</p>
<blockquote>
<div><p>== FALSE</p>
</div></blockquote>
<p>And</p>
<ol class="arabic simple" start="3">
<li><p>StbMGeneral/StbMTimeRecordingSupport == True</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-gettimebasestatus">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetTimeBaseStatus<a class="headerlink" href="#rte-call-usermodule-userport-gettimebasestatus" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_C
all_&lt;UserModule&gt;_&lt;UserPortName&gt;_GetTimeBaseStatus</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.16</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-gettimeleap">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetTimeLeap<a class="headerlink" href="#rte-call-usermodule-userport-gettimeleap" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_GetTimeLeap</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.15</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Name=StbMSynchronizedTimeBase.SHORT-NAME</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>StbMSynchronizedTimeBaseIdentifier &lt; 32</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>GlobalTime_Slave_{Name}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-usermodule-userport-starttimer">
<h5>Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_StartTimer<a class="headerlink" href="#rte-call-usermodule-userport-starttimer" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_&lt;UserModule&gt;_&lt;UserPortName&gt;_StartTimer</p></td>
</tr>
<tr class="row-even"><td><p>运行
实体函数定义：</p></td>
<td><p>详见4.3.17</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>TimeBase = StbMSynchronizedTimeBase.SHORT-NAME</p>
<p>Customer =</p>
<p>StbMSynch
ronizedTimeBase/StbMNotificationCustomer.SHORT-NAME</p>
</td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>StbMSynchronizedTimeBaseIdentifier &lt; 128</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>StartTimer_{TimeBase}_{Customer}</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
<section id="id13">
<h2>配置<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h2>
<section id="id14">
<h3>配置列表<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<p>表5-1属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>UI名称</p></td>
<td><p>该配置项在配置工具界面显示的名称</p></td>
</tr>
<tr class="row-even"><td><p>取值范围</p></td>
<td><p>该配置项允许的取值区间</p></td>
</tr>
<tr class="row-odd"><td><p>默认取值</p></td>
<td><p>该配置项默认的配置值</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td><p>该配置项在标准的AUTOSAR_EcucParamDef.arxml文件中的描述</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td><p>该配置项与其他模块或配置项的关系</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stbmgeneral">
<h3>StbMGeneral<a class="headerlink" href="#stbmgeneral" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image368.png"><img alt="image3" src="../../_images/image368.png" style="width: 5.6243in; height: 3.79119in;" /></a></p>
<p>图5-1 StbMGeneral工具配置</p>
<p>表5-2 StbMGeneral配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMDevErrorDetect</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td></td>
<td><p>默认
取值</p></td>
<td></td>
<td><p>F
alse</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>开关开
发错误的检
测和通知。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMGetCurrentTi
meExtendedAvailable</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td></td>
<td><p>默认
取值</p></td>
<td></td>
<td><p>F
alse</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否支持
获取64位的
扩展形式的
时间。（API
GetCu
rrentTime的
延伸版本）</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Stb
MMainFunctionPeriod</p></td>
<td><p>取值范围</p></td>
<td><p>0-INF</p></td>
<td></td>
<td><p>默认
取值</p></td>
<td></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>S
tbM_MainFun
ction主函数
调用周期。
单位：秒。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMT
imeRecordingSupport</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td></td>
<td><p>默认
取值</p></td>
<td></td>
<td><p>F
alse</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>开关时间
记录功能，
用于Global
Time
precision
me
asurement。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbM
TimerStartThreshold</p></td>
<td><p>取值范围</p></td>
<td><p>0-INF</p></td>
<td></td>
<td><p>默认
取值</p></td>
<td></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>给通知用户
使用，在截
止时间到达
之前多久开
启GPT计时。
单位：秒。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMVersionInfoApi</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td></td>
<td><p>默认
取值</p></td>
<td></td>
<td><p>F
alse</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>开关
获取版本信
息的接口。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMGptTimerRef</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默
认
取
值</p></td>
<td></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>用于通
知用户的Gp
t通道引用。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果任意一
个StbMSynch
ronizedTime
Base配置了S
tbMNotifica
tionCustome
r，其可配且
必须配置。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbmsynchronizedtimebase">
<h3>StbMSynchronizedTimeBase<a class="headerlink" href="#stbmsynchronizedtimebase" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image458.png"><img alt="image4" src="../../_images/image458.png" style="width: 5.76736in; height: 1.73958in;" /></a></p>
<p>图5-2 StbMSynchronizedTimeBase工具配置</p>
<p>表5-3 StbMSynchronizedTimeBase配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbM
ClearTimeleapCount</p></td>
<td><p>取值范围</p></td>
<td><p>1 .. 65535</p></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>在TIMELEA
P_PAST/TIMELEAP_F
UTURE状态位置位之
后，需要多少次时
基的更新（且时间
差不能高于界限值
）才能清除置位。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMIsSystemWi
deGlobalTimeMaster</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否为系统
范围内的全局时间
来源。有可能有多
个ECU勾选此项，作
为全局时间主控，
这是因为一个ECU可
能拥有几个在不同
总线上的时间域。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMNot
ificationInterface</p></td>
<td><p>取值范围</p></td>
<td><p>CALLBACK/</p>
<p><a href="#id41"><span class="problematic" id="id42">CALLBACK_</span></a>
AND_SR_INTERFACE/</p>
<p>NO_NOTIFICATION/</p>
<p>SR_INTERFACE</p>
</td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>状态位变化
事件的通知形式。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMStatusNo
tificationCallback</p></td>
<td><p>取值范围</p></td>
<td><p>Function</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>未被掩码的状态
切换事件触发时，
通知用户所调用的
回调函数接口名。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当StbMNotificat
ionInterface为CAL
LBACK或CALLBACK_A
ND_SR_INTERFACE时
可配且必须配置。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMStat
usNotificationMask</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 4294967295</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>通知掩码
（NotificationMas
k）的初始值，定义
什么样的事件会触
发通知回调函数。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMStoreT
imebaseNonVolatile</p></td>
<td><p>取值范围</p></td>
<td><p>Enum</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否存储时基信息
在非易失性存储。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMSynchronized
TimeBaseIdentifier</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 65535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>时间基ID。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>S
tbMSyncLossTimeout</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>时间同步
超时时间，表示多
久未收到来自总线
/上层的时间更新。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMTimeL
eapFutureThreshold</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>两次时
间更新的最大正间
隔（后一次时间大
于前一次时间）。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMTim
eLeapPastThreshold</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>两次时
间更新的最大负间
隔（后一次时间小
于前一次时间）。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMOffsetTimeBase</p></td>
<td><p>取值范围</p></td>
<td><p>Reference</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>偏移时间基所基
于的同步时间基。
如果引用，则该St
bMSynchronizedTim
eBase为偏移时基。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>StbMSyn
chronizedTimeBase</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="stbmtimecorrection">
<h4>StbMTimeCorrection<a class="headerlink" href="#stbmtimecorrection" title="Link to this heading">¶</a></h4>
<p><a href="#id15"><span class="problematic" id="id16">:mark:`\*注：如果打开TimeCorrection相关功能，则需要硬件支持double/float的数据类型，因为相关计算会使用。`</span></a></p>
<p><a class="reference internal" href="../../_images/image549.png"><img alt="image5" src="../../_images/image549.png" style="width: 5.65625in; height: 2.57292in;" /></a></p>
<p>图5-3 StbMTimeCorrection工具配置</p>
<p>表5-4 StbMTimeCorrection配置描述</p>
</section>
<section id="stbmlocaltimeclock">
<h4>StbMLocalTimeClock<a class="headerlink" href="#stbmlocaltimeclock" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image648.png"><img alt="image6" src="../../_images/image648.png" style="width: 5.76736in; height: 1.87153in;" /></a></p>
<p>图5-4 StbMLocalTimeClock工具配置</p>
<p>表5-5 StbMLocalTimeClock配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>S
tbMClockFrequency</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 4294967295</p></td>
<td colspan="2"><p>默 |
认 |
取 |
值 |</p></td>
<td></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>StbM使用的
硬件时钟的频率。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>S
tbMClockPrescaler</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 4294967295</p></td>
<td></td>
<td><p>默认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>StbM使用的
硬件时钟的分频。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbM
LocalTimeHardware</p></td>
<td><p>取值范围</p></td>
<td><p>Reference</p></td>
<td></td>
<td><p>默认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>对
硬件时钟的引用。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>EthTSyn
GlobalTimeDomain
,</p>
<p>GptChan
nelConfiguration
, OsCounter</p>
</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbmtimerecording">
<h4>StbMTimeRecording<a class="headerlink" href="#stbmtimerecording" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image742.png"><img alt="image7" src="../../_images/image742.png" style="width: 5.58333in; height: 1.91667in;" /></a></p>
<p>图5-5 StbMTimeRecording工具配置</p>
<p>表5-6 StbMTimeRecording配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMOffsetTimeRe
cordBlockCallback</p></td>
<td><p>取值范围</p></td>
<td><p>Function</p></td>
<td></td>
<td><p>默认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>偏移时基
测量数据可用时的
回调函数接口名。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>S
tbMOffsetTimeReco
rdTableBlockCount</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 65535</p></td>
<td></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>偏移时基记录
表的列队的时间测
量事件的块数量。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMSyncTimeRe
cordBlockCallback</p></td>
<td><p>取值范围</p></td>
<td><p>Function</p></td>
<td colspan="2"><p>默 |
认 |
取 |
值 |</p></td>
<td></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>同步时基
测量数据可用时的
回调函数接口名。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMSyncTimeReco
rdTableBlockCount</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 65535</p></td>
<td></td>
<td><p>默认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>同步时基记录
表的列队的时间测
量事件的块数量。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="stbmnotificationcustomer">
<h4>StbMNotificationCustomer<a class="headerlink" href="#stbmnotificationcustomer" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image837.png"><img alt="image8" src="../../_images/image837.png" style="width: 5.625in; height: 1.22917in;" /></a></p>
<p>图5-6 StbMNotificationCustomer工具配置</p>
<p>表5-7 StbMNotificationCustomer配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMNotif
icationCustomerId</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 65535</p></td>
<td colspan="2"><p>默 |
认 |
取 |
值 |</p></td>
<td></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>时间通知用户ID。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbMTimeNot
ificationCallback</p></td>
<td><p>取值范围</p></td>
<td><p>Function</p></td>
<td></td>
<td><p>默认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>指定通知用户的
回调函数接口名。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>StbMTriggeredCustomer</p>
</div></blockquote>
<hr class="docutils" />
<p><a class="reference internal" href="../../_images/image936.png"><img alt="image9" src="../../_images/image936.png" style="width: 5.76736in; height: 1.0875in;" /></a></p>
<p>图5-7 StbMTriggeredCustomer工具配置</p>
<p>表5-8 StbMTriggeredCustomer配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMTrigg
eredCustomerPeriod</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 4294967295</p></td>
<td colspan="2"><p>默 |
认 |
取 |
值 |</p></td>
<td></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>触发用户的触发
周期，以主函数调
用。单位：微秒。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>StbM
OSScheduleTableRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference</p></td>
<td></td>
<td><p>默认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>必要的对同步的
OS调度表的引用。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>OsScheduleTable</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>StbMSynch
ronizedTimeBaseRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference</p></td>
<td></td>
<td><p>默认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>必要的
对时间基的引用。</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>StbMSync
hronizedTimeBase</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="SomeIpXf.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>SomeIpXf产品参考手册
    </a>
    <a class="float-right" href="TcpIp.html" title="Next">
        TcpIp产品参考手册 <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">StbM产品参考手册</a><ul>
<li><a class="reference internal" href="#id1">简介</a><ul>
<li><a class="reference internal" href="#id2">参考资料</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">功能描述</a><ul>
<li><a class="reference internal" href="#id4">StbM功能</a><ul>
<li><a class="reference internal" href="#id5">StbM功能介绍</a></li>
<li><a class="reference internal" href="#id6">StbM功能实现</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id7">源文件描述</a></li>
<li><a class="reference internal" href="#api">API接口</a><ul>
<li><a class="reference internal" href="#id8">类型定义</a><ul>
<li><a class="reference internal" href="#stbm-configtype">StbM_ConfigType类型定义</a></li>
<li><a class="reference internal" href="#stbm-synchronizedtimebasetype">StbM_SynchronizedTimeBaseType类型定义</a></li>
<li><a class="reference internal" href="#stbm-timebasestatustype">StbM_TimeBaseStatusType类型定义</a></li>
<li><a class="reference internal" href="#stbm-timestamptype">StbM_TimeStampType类型定义</a></li>
<li><a class="reference internal" href="#stbm-timestampextendedtype">StbM_TimeStampExtendedType类型定义</a></li>
<li><a class="reference internal" href="#stbm-timedifftype">StbM_TimeDiffType类型定义</a></li>
<li><a class="reference internal" href="#stbm-ratedeviationtype">StbM_RateDeviationType类型定义</a></li>
<li><a class="reference internal" href="#stbm-userdatatype">StbM_UserDataType类型定义</a></li>
<li><a class="reference internal" href="#stbm-customeridtype">StbM_CustomerIdType类型定义</a></li>
<li><a class="reference internal" href="#stbm-timebasenotificationtype">StbM_TimeBaseNotificationType类型定义</a></li>
<li><a class="reference internal" href="#stbm-syncrecordtableheadtype">StbM_SyncRecordTableHeadType类型定义</a></li>
<li><a class="reference internal" href="#stbm-syncrecordtableblocktype">StbM_SyncRecordTableBlockType类型定义</a></li>
<li><a class="reference internal" href="#stbm-offsetrecordtableheadtype">StbM_OffsetRecordTableHeadType类型定义</a></li>
<li><a class="reference internal" href="#stbm-offsetrecordtableblocktype">StbM_OffsetRecordTableBlockType类型定义</a></li>
<li><a class="reference internal" href="#stbm-masterconfigtype">StbM_MasterConfigType类型定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9">输入函数描述</a></li>
<li><a class="reference internal" href="#id10">静态接口函数定义</a><ul>
<li><a class="reference internal" href="#stbm-init">StbM_Init函数定义</a></li>
<li><a class="reference internal" href="#stbm-getversioninfo">StbM_GetVersionInfo函数定义</a></li>
<li><a class="reference internal" href="#stbm-getcurrenttime">StbM_GetCurrentTime函数定义</a></li>
<li><a class="reference internal" href="#stbm-getcurrenttimeextended">StbM_GetCurrentTimeExtended函数定义</a></li>
<li><a class="reference internal" href="#stbm-getcurrentvirtuallocaltime">StbM_GetCurrentVirtualLocalTime函数定义</a></li>
<li><a class="reference internal" href="#stbm-setglobaltime">StbM_SetGlobalTime函数定义</a></li>
<li><a class="reference internal" href="#stbm-updateglobaltime">StbM_UpdateGlobalTime函数定义</a></li>
<li><a class="reference internal" href="#stbm-setuserdata">StbM_SetUserData函数定义</a></li>
<li><a class="reference internal" href="#stbm-setoffset">StbM_SetOffset函数定义</a></li>
<li><a class="reference internal" href="#stbm-getoffset">StbM_GetOffset函数定义</a></li>
<li><a class="reference internal" href="#stbm-busgetcurrenttime">StbM_BusGetCurrentTime函数定义</a></li>
<li><a class="reference internal" href="#stbm-bussetglobaltime">StbM_BusSetGlobalTime函数定义</a></li>
<li><a class="reference internal" href="#stbm-getratedeviation">StbM_GetRateDeviation函数定义</a></li>
<li><a class="reference internal" href="#stbm-setratecorrection">StbM_SetRateCorrection函数定义</a></li>
<li><a class="reference internal" href="#stbm-gettimeleap">StbM_GetTimeLeap函数定义</a></li>
<li><a class="reference internal" href="#stbm-gettimebasestatus">StbM_GetTimeBaseStatus函数定义</a></li>
<li><a class="reference internal" href="#stbm-starttimer">StbM_StartTimer函数定义</a></li>
<li><a class="reference internal" href="#stbm-getsynctimerecordhead">StbM_GetSyncTimeRecordHead函数定义</a></li>
<li><a class="reference internal" href="#stbm-getoffsettimerecordhead">StbM_GetOffsetTimeRecordHead函数定义</a></li>
<li><a class="reference internal" href="#stbm-triggertimetransmission">StbM_TriggerTimeTransmission函数定义</a></li>
<li><a class="reference internal" href="#stbm-gettimebaseupdatecounter">StbM_GetTimeBaseUpdateCounter函数定义</a></li>
<li><a class="reference internal" href="#stbm-getmasterconfig">StbM_GetMasterConfig函数定义</a></li>
<li><a class="reference internal" href="#stbm-mainfunction">StbM_MainFunction函数定义</a></li>
<li><a class="reference internal" href="#stbm-timercallback">StbM_TimerCallback函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id11">可配置函数定义</a><ul>
<li><a class="reference internal" href="#statusnotificationcallback">StatusNotificationCallback函数定义</a></li>
<li><a class="reference internal" href="#customer-timenotificationcallback">&lt;Customer&gt;_TimeNotificationCallback函数定义</a></li>
<li><a class="reference internal" href="#offsettimerecordblockcallback">OffsetTimeRecordBlockCallback函数定义</a></li>
<li><a class="reference internal" href="#synctimerecordblockcallback">SyncTimeRecordBlockCallback函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#swc">SWC服务组件封装</a><ul>
<li><a class="reference internal" href="#cs">CS接口封装</a><ul>
<li><a class="reference internal" href="#rte-call-usermodule-userport-getmasterconfig">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetMasterConfig</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-setglobaltime">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetGlobalTime</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-setoffset">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetOffset</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-setratecorrection">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetRateCorrection</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-setuserdata">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_SetUserData</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-triggertimetransmission">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_TriggerTimeTransmission</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-updateglobaltime">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_UpdateGlobalTime</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-getcurrenttime">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetCurrentTime</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-getcurrenttimeextended">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetCurrentTimeExtended</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-getcurrenttimeextended-1">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetCurrentTimeExtended</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-getoffsettimerecordhead">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetOffsetTimeRecordHead</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-getratedeviation">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetRateDeviation</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-getsynctimerecordhead">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetSyncTimeRecordHead</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-gettimebasestatus">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetTimeBaseStatus</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-gettimeleap">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_GetTimeLeap</a></li>
<li><a class="reference internal" href="#rte-call-usermodule-userport-starttimer">Rte_Call_&lt;UserModule&gt;_&lt;UserPort&gt;_StartTimer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id13">配置</a><ul>
<li><a class="reference internal" href="#id14">配置列表</a></li>
<li><a class="reference internal" href="#stbmgeneral">StbMGeneral</a></li>
<li><a class="reference internal" href="#stbmsynchronizedtimebase">StbMSynchronizedTimeBase</a><ul>
<li><a class="reference internal" href="#stbmtimecorrection">StbMTimeCorrection</a></li>
<li><a class="reference internal" href="#stbmlocaltimeclock">StbMLocalTimeClock</a></li>
<li><a class="reference internal" href="#stbmtimerecording">StbMTimeRecording</a></li>
<li><a class="reference internal" href="#stbmnotificationcustomer">StbMNotificationCustomer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2024, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <!-- <small>
                    Created using
                    <a href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.4.0
                    </a>
                    and
                    <a href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.1.3
                    </a>
                </small> -->
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
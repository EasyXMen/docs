<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>EthTSyn &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../genindex.html" />
            <link rel="search" title="Search" href="../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="Fee" href="Fee.html" />
            <link rel="prev" title="EthTrcv" href="EthTrcv.html" />
    </head>
<body>
    <script type="text/javascript" src="../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTrcv.html">CanTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComXf.html">ComXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRC.html">CRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crypto.html">Crypto</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSM.html">CSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="DCM.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="Det.html">DET</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dlt.html">DLT</a></li>
<li class="toctree-l1"><a class="reference internal" href="DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EL.html">E2EL</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EXf.html">E2EXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ea.html">EA</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuC.html">EcuC</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="Eep.html">EEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="FiM.html">FiM</a></li>
<li class="toctree-l1"><a class="reference internal" href="FOTA%20handler.html">FOTA Handler</a></li>
<li class="toctree-l1"><a class="reference internal" href="IoHwAb.html">IoHwAb</a></li>
<li class="toctree-l1"><a class="reference internal" href="IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="NmIf.html">NmIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="OS.html">OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpXf.html">SomeIpXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="XCP.html">XCP</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16 Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397 Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148 Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">EthTSyn</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="https://github.com/wagtail/sphinx_wagtail_theme/blob/main/docs/sub/参考手册/EthTSyn.rst" rel="nofollow">
        <span class="btn-icon"><span class="fab fa-github"></span></span>
        <span class="btn-text">Edit on GitHub</span>
    </a>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../_sources/sub/参考手册/EthTSyn.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="ethtsyn">
<h1>EthTSyn<a class="headerlink" href="#ethtsyn" title="Link to this heading">¶</a></h1>
<p><strong>缩写词注解</strong></p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>缩写词</strong></p></td>
<td><p><strong>英文全称</strong></p></td>
<td><p><strong>中文解释</strong></p></td>
</tr>
<tr class="row-even"><td><p>StbM</p></td>
<td><p>SynchronizedTimeBaseManager</p></td>
<td><p>同步时基管理</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;Bus&gt;TSyn</p></td>
<td><p>A bus specific Time
Synchronization Provider
module</p></td>
<td><p>总线特
定的时间同步提供程序模块</p></td>
</tr>
<tr class="row-even"><td><p>CAN</p></td>
<td><p>Controller Area Network</p></td>
<td><p>控制器区域网络</p></td>
</tr>
<tr class="row-odd"><td><p>ETH</p></td>
<td><p>Ethernet</p></td>
<td><p>以太网</p></td>
</tr>
<tr class="row-even"><td><p>CanTSyn</p></td>
<td><p>Time Synchronization
Provider module for CAN</p></td>
<td><p>C
AN提供的时间同步程序模块</p></td>
</tr>
<tr class="row-odd"><td><p>EthTSyn</p></td>
<td><p>Time Synchronization
Provider module for Ethernet</p></td>
<td><p>E
th提供的时间同步程序模块</p></td>
</tr>
</tbody>
</table>
<section id="id1">
<h2>简介<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<p>EthTSyn在AutoSAR中软件层级架构如下图，其属于时间同步栈。</p>
<p><a class="reference internal" href="../../_images/image1100.png"><img alt="image1" src="../../_images/image1100.png" style="width: 5.76736in; height: 3.68472in;" /></a></p>
<p>图 EthTSyn在AutoSar中软件架构图</p>
<p>本文中描述EthTSyn，StbM负责管理时间域，给CanTSyn,
EthTSyn提供接口用来更新同步时间，给其他用户提供接口用来获取/通知同步时间。</p>
<p>EthTSyn负责以太网总线的时间同步相关报文发送/算法。</p>
<section id="id2">
<h3>参考资料<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>[1] AUTOSAR_SWS_SynchronizedTimeBaseManager.pdf，R19-11</p>
<p>[2] AUTOSAR_EXP_LayeredSoftwareArchitecture.pdf，R19-11</p>
<p>[3] AUTOSAR_SWS_TimeSyncOverEthernet.pdf，R19-11</p>
<p>[4] AUTOSAR_PRS_TimeSyncProtocol.pdf, R19-11</p>
</section>
</section>
<section id="id3">
<h2>功能描述<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>EthTSyn功能<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<section id="id5">
<h4>EthTSyn功能介绍<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<p>EthTSyn模块负责确保以太网同步时间信息的采集和分发。它与StbM交互，并为StbM提供所有特定于以太网的功能。</p>
<p>EthTSyn主要功能包括测量以太网消息之间的延迟和不同时基之前的时间同步。</p>
</section>
<section id="id6">
<h4>EthTSyn功能实现<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<p>关于延迟的测量，EthTSyn使用的是GPTP的延迟测量方法，即</p>
<p><a class="reference internal" href="../../_images/image250.png"><img alt="image16" src="../../_images/image250.png" style="width: 5.76736in; height: 2.47917in;" /></a></p>
<p>图 GPTP延迟测量</p>
<p>最终延迟值为(t4-t1-(t3-t2))/2。</p>
<p><a class="reference internal" href="../../_images/image337.png"><img alt="image2" src="../../_images/image337.png" style="width: 5.76736in; height: 3.63194in;" /></a></p>
<p>图 时间同步报文时序</p>
<p>而时间同步功能则是EthTSyn应该以配置的频率发送SYNC消息，再根据配置的时间间隔发送带有sync发送时间的Follow_Up消息，最后再根据时间值和延迟测量计算出的结果得出正确的时间传给StbM。其中SYNC和Follow_Up的消息有IEEE
802.1和AUTOSAR专用的两种格式，需要根据配置来决定消息的格式。</p>
</section>
<section id="id7">
<h4>EthTSyn功能限制<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<p>根据[3]以及结合自身实现情况，EthTSyn以下功能存在限制：</p>
<ol class="arabic simple">
<li><p>不支持BMCA协议</p></li>
<li><p>不支持Announce和Signaling报文。</p></li>
<li><p>Pdelay_Req报文的接收不作为开始发送Sync报文的前提条件。</p></li>
<li><p>Rate
Correction在IEEE中原先由Pdelay机制负责计算，Autosar中规定该值的计算发生在StbM中（当从节点接收到时间同步报文并向StbM设置多次时间后），因此EthTSyn自身没有获取该值的能力。当填写cumulativeScaledRateOffset字段时，EthTSyn提供了EthTSynCumulativeScaledRateOffset配置项，从而其作为主节点发送时能够使用配置值进行发送，作为主节点接收时则不予处理。</p></li>
<li><p>Rate Correction在StbM中属于纯软件算法，不涉及修正硬件。</p></li>
<li><p>不支持Time Validation或Time Measurement相关功能</p></li>
<li><p>不支持Switch相关功能</p></li>
<li><p>EthTSyn自身不维护硬件时钟，均由StbM进行维护。</p></li>
</ol>
</section>
</section>
</section>
<section id="id8">
<h2>源文件描述<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h2>
<p>表 EthTSyn组件文件描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>文件</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>EthTSyn.c</p></td>
<td><p>EthTSyn模块源文件，包含了API函数的实现。</p></td>
</tr>
<tr class="row-odd"><td><p>EthTSyn.h</p></td>
<td><p>EthTSyn模块头文件，包含了API函数的声明。</p></td>
</tr>
<tr class="row-even"><td><p>EthTSyn_Cfg.h</p></td>
<td><p>定义EthTSyn模块预编译时用到的配置参数。</p></td>
</tr>
<tr class="row-odd"><td><p>EthTSyn_Cfg.c</p></td>
<td><p>EthTSyn模块配置生成文件。</p></td>
</tr>
<tr class="row-even"><td><p>EthTSyn_Types.h</p></td>
<td><p>用
于定义配置类型、内部类型和外部类型的数据结构。</p></td>
</tr>
<tr class="row-odd"><td><p>EthTSyn_MemMap.h</p></td>
<td><p>EthTSyn
模块头文件，包含了存储器地址映射关系的实现。</p></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image430.png"><img alt="image3" src="../../_images/image430.png" style="width: 5.76736in; height: 2.13472in;" /></a></p>
<p>图 EthTSyn组件文件交互关系图</p>
</section>
<section id="api">
<h2>API接口<a class="headerlink" href="#api" title="Link to this heading">¶</a></h2>
<section id="id9">
<h3>类型定义<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<section id="ethtsyn-configtype">
<h4>EthTSyn_ConfigType类型定义<a class="headerlink" href="#ethtsyn-configtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>EthTSyn_ConfigType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>模块的配置类型</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyn-transmissionmodetype">
<h4>EthTSyn_TransmissionModeType类型定义<a class="headerlink" href="#ethtsyn-transmissionmodetype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>EthTSyn_TransmissionModeType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Enumeration</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>ETHTSYN_TX_OFF</p>
<p>ETHTSYN_TX_ON</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>传输类型</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id10">
<h3>输入函数描述<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>输入模块</strong></p></td>
<td><p><strong>API</strong></p></td>
</tr>
<tr class="row-even"><td><p>EthIf</p></td>
<td><p>EthIf_EnableEgressTimeStamp</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>EthIf_GetCurrentTime</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>EthIf_GetEgressTimeStamp</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>EthIf_GetIngressTimeStamp</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>EthIf_ProvideTxBuffer</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>EthIf_Transmit</p></td>
</tr>
<tr class="row-even"><td><p>StbM</p></td>
<td><p>StbM_BusGetCurrentTime</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>StbM_BusSetGlobalTime</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>StbM_GetCurrentVirtualLocalTime</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>StbM_GetTimeBaseUpdateCounter</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>StbM_GetTimeBaseStatus</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>StbM_GetOffset</p></td>
</tr>
<tr class="row-even"><td><p>Det</p></td>
<td><p>Det_ReportError</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Det_ReportRuntimeError</p></td>
</tr>
<tr class="row-even"><td><p>Crc</p></td>
<td><p>Crc_CalculateCRC8H2F</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id11">
<h3>静态接口函数定义<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<section id="ethtsyn-init">
<h4>EthTSyn_Init函数定义<a class="headerlink" href="#ethtsyn-init" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>EthTSyn_Init</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
EthTSyn_Init(</p>
<p>const
Eth
TSyn_ConfigType*
configPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x01</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>configPtr</p></td>
<td><p>值域：</p></td>
<td><p>配置结构体指针</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>void</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>初始化EthTSyn模块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyn-getversioninfo">
<h4>EthTSyn_GetVersionInfo函数定义<a class="headerlink" href="#ethtsyn-getversioninfo" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>EthTS
yn_GetVersionInfo</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
EthTSy
n_GetVersionInfo(</p>
<p>Std
_VersionInfoType*
versioninfo</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x02</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>versioninfo</p></td>
<td><p>值域：</p></td>
<td><p>接收版本信息的指针</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>void</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>返回
该模块的版本信息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyn-settransmissionmode">
<h4>EthTSyn_SetTransmissionMode函数定义<a class="headerlink" href="#ethtsyn-settransmissionmode" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>EthTSyn_Se
tTransmissionMode</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
EthTSyn_Se
tTransmissionMode
(</p>
<p>uint8 CtrlIdx,</p>
<p>EthTSyn_Tra
nsmissionModeType
Mode</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x05</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>CtrlIdx</p></td>
<td><p>值域：</p></td>
<td><p>以太网控制器索引</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Mode</p></td>
<td><p>值域：</p></td>
<td><p>ETHTSYN_TX_OFF
ETHTSYN_TX_ON</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>void</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>打开和关
闭EthTSyn的TX功能</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyn-rxindication">
<h4>EthTSyn_RxIndication函数定义<a class="headerlink" href="#ethtsyn-rxindication" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Eth
TSyn_RxIndication</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
EthT
Syn_RxIndication(</p>
<p>uint8 CtrlIdx,</p>
<p>Eth_FrameType
FrameType,</p>
<p>boolean
IsBroadcast,</p>
<p>const uint8*
PhysAddrPtr,</p>
<p>const uint8*
DataPtr,</p>
<p>uint16 LenByte</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x06</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>CtrlIdx</p></td>
<td><p>值
域：</p></td>
<td><p>以太网控制器索引</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>FrameType</p></td>
<td><p>值
域：</p></td>
<td><p>接收到的以太网帧类型</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>IsBroadcast</p></td>
<td><p>值
域：</p></td>
<td><p>是否是广播帧</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PhysAddrPtr</p></td>
<td><p>值
域：</p></td>
<td><p>以太网帧的源MAC地址的指针</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>DataPtr</p></td>
<td><p>值
域：</p></td>
<td><p>数据域的指针</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>LenByte</p></td>
<td><p>值
域：</p></td>
<td><p>数据域的长度</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>void</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>接收消息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyn-txconfirmation">
<h4>EthTSyn_TxConfirmation函数定义<a class="headerlink" href="#ethtsyn-txconfirmation" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>EthTS
yn_TxConfirmation</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
EthTSy
n_TxConfirmation(</p>
<p>uint8 CtrlIdx,</p>
<p>Eth_BufIdxType
BufIdx,</p>
<p>Std_ReturnType
Result</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x07</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>CtrlIdx</p></td>
<td><p>值域：</p></td>
<td><p>以太网控制器索引</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>BufIdx</p></td>
<td><p>值域：</p></td>
<td><p>以太网缓冲区的索引</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Result</p></td>
<td><p>值域：</p></td>
<td><p>E_OK 发送成功</p>
<p>E_NOT_OK 发送失败</p>
</td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>void</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>确认消息传输</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyn-trcvlinkstatechg">
<h4>EthTSyn_TrcvLinkStateChg函数定义<a class="headerlink" href="#ethtsyn-trcvlinkstatechg" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>EthTSy
n_TrcvLin
kStateChg</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_R
eturnType
EthTSyn
_TrcvLink
StateChg(</p>
<p>uint8
CtrlIdx,</p>
<p>Eth
Trcv_Link
StateType
Trcv
LinkState</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x08</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>CtrlIdx</p></td>
<td><p>值
域：</p></td>
<td><p>以太网控制器索引</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Trcv
LinkState</p></td>
<td><p>值
域：</p></td>
<td><p>ETHTRCV_LINK_STATE_DOWN
ETHTRCV_LINK_STATE_ACTIVE</p></td>
</tr>
<tr class="row-even"><td><p>输
入输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK 成功</p>
<p>E_NOT_OK
失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>重新设
置状态机</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyn-mainfunction">
<h4>EthTSyn_MainFunction函数定义<a class="headerlink" href="#ethtsyn-mainfunction" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>EthTSyn_MainFunction</p></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void EthTSyn_MainFunction(</p>
<p>void</p>
<p>)</p>
</td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x09</p></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>循环调用函数</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id12">
<h3>可配置函数定义<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<p>无。</p>
</section>
</section>
<section id="id13">
<h2>配置<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h2>
<section id="id14">
<h3>配置列表<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<p>表5-1属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>UI名称</p></td>
<td><p>该配置项在配置工具界面显示的名称</p></td>
</tr>
<tr class="row-even"><td><p>取值范围</p></td>
<td><p>该配置项允许的取值区间</p></td>
</tr>
<tr class="row-odd"><td><p>默认取值</p></td>
<td><p>该配置项默认的配置值</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td><p>该配置项在标准的AUTOSAR_EcucParamDef.arxml文件中的描述</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td><p>该配置项与其他模块或配置项的关系</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsyngeneral">
<h3>EthTSynGeneral<a class="headerlink" href="#ethtsyngeneral" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image528.png"><img alt="image4" src="../../_images/image528.png" style="width: 5.68679in; height: 3.36416in;" /></a></p>
<p>图 EthTSynGeneral工具配置</p>
<p>表 EthTSynGeneral配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynDestPhyAddr</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默
认取值</p></td>
<td><p>0
1:80
:C2:
00:0
0:0E</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>EthTSyn
GPTP帧的
目标物理硬件地址
(MAC地址).
输入格式必须
匹配十六进制xx:
xx:xx:xx:xx:xx。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Eth
TSynDevErrorDetect</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>F
alse</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>开关开发错
误的检测和通知。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynHardwa
reTimestampSupport</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>开关以太网硬件的
硬件时间戳功能。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSyn
MainFunctionPeriod</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>EthTSyn_MainFu
nction主函数调用
周期。单位：秒。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynMasterSlav
eConflictDetection</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>f
alse</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>开关主从冲
突的检测和通知。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSy
nMessageCompliance</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>True: 使用IEEE
802
.1AS的信息格式。</p>
<p>False: 使用IEEE
802.1AS
的信息
格式加上AUTOSAR
的扩展。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Eth
TSynVersionInfoApi</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>f
alse</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>开关获取
版本信息的接口。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Eth
TSynTxConfirmation</p></td>
<td><p>取值范围</p></td>
<td><p>0..INF</p></td>
<td><p>默
认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>等
待发送确认的超时
时间。单位：秒。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsynglobaltimedomain">
<h3>EthTSynGlobalTimeDomain<a class="headerlink" href="#ethtsynglobaltimedomain" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image628.png"><img alt="image5" src="../../_images/image628.png" style="width: 5.75694in; height: 0.81528in;" /></a></p>
<p>图 EthTSynGlobalTimeDomain工具配置</p>
<p>表 EthTSynGlobalTimeDomain配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynG
lobalTimeDomainId</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 31</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>全局时间域ID。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynSynchr
onizedTimeBaseRef</p></td>
<td><p>取值范围</p></td>
<td><p>reference</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>必要的
对时间基的引用。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>StbMSync
hronizedTimeBase</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynSynchr
onizedTimeBaseRef</p></td>
<td><p>取值范围</p></td>
<td><p>reference</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>指定本时间域使用
的硬件时钟所属的
EthTSynPort。注
：只有当StbM的S
tbMLocalTimeHard
ware关联了EthTSy
nGlobalTimeDomai
n,此项才可配置。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>E
thTSynPortConfig</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="ethtsynglobaltimefollowupdataidlist">
<h4>EthTSynGlobalTimeFollowUpDataIDList<a class="headerlink" href="#ethtsynglobaltimefollowupdataidlist" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image723.png"><img alt="image6" src="../../_images/image723.png" style="width: 4.64583in; height: 1.97917in;" /></a></p>
<p>图 EthTSynGlobalTimeFollowUpDataIDList工具配置</p>
<section id="ethtsynglobaltimefollowupdataidlistelement">
<h5>EthTSynGlobalTimeFollowUpDataIDListElement<a class="headerlink" href="#ethtsynglobaltimefollowupdataidlistelement" title="Link to this heading">¶</a></h5>
<p><a class="reference internal" href="../../_images/image821.png"><img alt="image7" src="../../_images/image821.png" style="width: 5.70833in; height: 1.55208in;" /></a></p>
<p>图 EthTSynGlobalTimeFollowUpDataIDListElement工具配置</p>
<p>表 EthTSynGlobalTimeFollowUpDataIDListElement配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynG
lobalTimeFollowU
pDataIDListIndex</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 15</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>用于CRC
计算和信息校验Fo
llow_Up报文的Dat
aIDList的Index。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>不可配，自
动根据顺序生成。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynG
lobalTimeFollowU
pDataIDListValue</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 255</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>用于C
RC计算和信息校验
Follow_Up报文的
DataIDList的值。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ethtsynportconfig">
<h4>EthTSynPortConfig<a class="headerlink" href="#ethtsynportconfig" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image921.png"><img alt="image8" src="../../_images/image921.png" style="width: 5.76736in; height: 1.18056in;" /></a></p>
<p>图 EthTSynPortConfig工具配置</p>
<p>表 EthTSynPortConfig配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynFramePrio</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 7</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>该可选项若
存在，则代表通过
VLAN（用作3-bit
PCP
field）发出的
EthTSyn报文的优
先级。如该可选项
不存在，则帧不存
在优先级以及VLAN
Field。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynGlobal
TimeDebounceTime</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 4</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>同一组S
ync报文和Follow
_Up报文的发送间隔
时间。单位：秒。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynGl
obalTimeEthIfRef</p></td>
<td><p>取值范围</p></td>
<td><p>reference</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>对Eth
If的引用，用于获
取全局时间信息。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>EthIfController</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="ethtsynpdelayconfig">
<h5>EthTSynPdelayConfig<a class="headerlink" href="#ethtsynpdelayconfig" title="Link to this heading">¶</a></h5>
<p><a class="reference internal" href="../../_images/image1020.png"><img alt="image9" src="../../_images/image1020.png" style="width: 5.76736in; height: 1.46111in;" /></a></p>
<p>图 EthTSynPdelayConfig工具配置</p>
<p>表 EthTSynPdelayConfig配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>E
thTSynGlobalTime
PdelayRespEnable</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>开关 Pdelay_Resp
/
Pdela
y_Resp_Follow_Up
报文的发送。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>E
thTSynGlobalTime
PropagationDelay</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 4</p></td>
<td><p>默
认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>如果开启cyclic
propagation
delay
mea
surement，该参数
代表propagation
delay的默认值
直到第一个实际测
量的propagation
delay可用。</p>
<p>如果关闭cyclic
propagation
delay
m
easurement，这个
值将代替实际测量
的值，变成一个固
定值。单位：秒。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Et
hTSynGlobalTimeT
xPdelayReqPeriod</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>发送Pdelay
_Req报文的周期时
间，取值0代表不
发送。单位：秒。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynPdelay
LatencyThreshold</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默
认取值</p></td>
<td><p>1E-5</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>计算出的
Pdelay的界限。如
果超出该配置值，
则该Pdelay应该被
舍弃。单位：秒。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSyn
PdelayRespAndRes
pFollowUpTimeout</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 4</p></td>
<td><p>默
认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>发出Pde
lay_Req后等待Pde
lay_Resp的超时时
间，或者收到Pdel
ay_Resp之后等待P
delay_Resp_Follo
w_Up的超时时间。
取值0代表不检测
超时。单位：秒。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="ethtsynportrole">
<h5>EthTSynPortRole<a class="headerlink" href="#ethtsynportrole" title="Link to this heading">¶</a></h5>
<p><a class="reference internal" href="../../_images/image1124.png"><img alt="image10" src="../../_images/image1124.png" style="width: 4.14583in; height: 2.27083in;" /></a></p>
<p>图 EthTSynPortRole工具配置</p>
<section id="ethtsynglobaltimemaster">
<h6>EthTSynGlobalTimeMaster<a class="headerlink" href="#ethtsynglobaltimemaster" title="Link to this heading">¶</a></h6>
<p><a class="reference internal" href="../../_images/image1221.png"><img alt="image11" src="../../_images/image1221.png" style="width: 5.76389in; height: 3.02222in;" /></a></p>
<p>图 EthTSynGlobalTimeMaster工具配置</p>
<p>表 EthTSynGlobalTimeMaster配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSy
nCyclicMsg
ResumeTime</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默
认取值</p></td>
<td><p>0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>在立即传
输之后，间隔多久
发送第一帧常规循
环时间同步报文。
单位：秒。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynGl
obalTimeTx
CrcSecured</p></td>
<td><p>取值范围</p></td>
<td><p>CRC_SUPPORTED/</p>
<p>C
RC_NOT_SUPPORTED</p>
</td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>发送报文的CRC
校验的支持形式。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>当
其为CRC_SUPPORTE
D时，则需配置Eth
TSynGlobalTimeFo
llowUpDataIDList
和EthTSynCrcTime
FlagsTxSecured。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTS
ynGlobalTi
meTxPeriod</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>时间
同步报文循环发送
周期。单位：秒。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthT
SynImmedia
teTimeSync</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>开
关在EthTSyn_Main
Function()主函数
中对StbM_GetTim
eBaseUpdateCount
er()的周期调用。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSyn
TLVFollowU
pOFSSubTLV</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否使用AUTOSAR
Follow_Up TLV
OFS Sub-TLV。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynTLV
FollowUpSt
atusSubTLV</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否使用AUTOSAR
Follow_Up TLV
Status Sub-TLV。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynT
LVFollowUp
TimeSubTLV</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否使用AUTOSAR
Follow_Up TLV
Time Sub-TLV。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Et
hTSynTLVFo
llowUpUser
DataSubTLV</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否使用AUTOSAR
Follow_Up TLV
UserData
Sub-TLV。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Et
hTSynCorre
ctionField</p></td>
<td><p>取值范围</p></td>
<td><p>0.
.281474976710655</p></td>
<td><p>默
认取值</p></td>
<td></td>
<td><p>0x0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>This represents
the
correctionField
that is used
when
transmitting
Messages by
Master. Unit:
nanoseconds.</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Eth
TSynCumula
tiveScaled
RateOffset</p></td>
<td><p>取值范围</p></td>
<td><p>0..0xFFFFFFFF</p></td>
<td><p>默
认取值</p></td>
<td></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>This represents
the
Cumulative
ScaledRateOffset
that is used
when
transmitting
Messages by
Master</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="ethtsyncrctimeflagstxsecured">
<h6 aria-level="7">EthTSynCrcTimeFlagsTxSecured<a class="headerlink" href="#ethtsyncrctimeflagstxsecured" title="Link to this heading">¶</a></h6>
<p><a class="reference internal" href="../../_images/image1319.png"><img alt="image12" src="../../_images/image1319.png" style="width: 3.54167in; height: 1.89583in;" /></a></p>
<p>图 EthTSynCrcTimeFlagsTxSecured工具配置</p>
<p>表 EthTSynCrcTimeFlagsTxSecured配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynCrcC
orrectionField</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否在
CRC计算中包括Fo
llow_Up报文中的C
orrectionField。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynC
rcDomainNumber</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否
在CRC计算中包括
Follow_Up报文中
的domainNumber。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynCr
cMessageLength</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否
在CRC计算中包括F
ollow_Up报文中的
messageLength。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthT
SynCrcPreciseO
riginTimestamp</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否在CRC计算
中包括Follow_Up
报文中的preciseO
riginTimestamp。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSy
nCrcSequenceId</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是
否在CRC计算中包
括Follow_Up报文
中的sequenceId。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynCrcSour
cePortIdentity</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否在CR
C计算中包括Follo
w_Up报文中的sour
cePortIdentity。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="ethtsynglobaltimeslave">
<h6>EthTSynGlobalTimeSlave<a class="headerlink" href="#ethtsynglobaltimeslave" title="Link to this heading">¶</a></h6>
<p><a class="reference internal" href="../../_images/image1417.png"><img alt="image13" src="../../_images/image1417.png" style="width: 5.46807in; height: 1.74978in;" /></a></p>
<p>图 EthTSynGlobalTimeSlave工具配置</p>
<p>表 EthTSynGlobalTimeSlave配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Et
hTSynGloba
lTimeFollo
wUpTimeout</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. INF</p></td>
<td><p>默
认取值</p></td>
<td><p>0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>Follow_Up报
文的超时时间（收
到对应Sync报文之
后）。单位：秒。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>E
thTSynRxCr
cValidated</p></td>
<td><p>取值范围</p></td>
<td><p>CRC_IGNORED/</p>
<p>CR
C_NOT_VALIDATED/</p>
<p>CRC_OPTIONAL/</p>
<p>CRC_VALIDATED</p>
</td>
<td><p>默
认取值</p></td>
<td colspan="2"><dl>
<dt>无 |</dt><dd><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>接收报文
的CRC校验形式。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>当其为CRC_OPTI
ONAL或CRC_VALIDA
TED时，则需配置E
thTSynGlobalTime
FollowUpDataIDLi
st和EthTSynCrcFl
agsRxValidated。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>E
thTSynGlob
alTimeSequ
enceCounte
rJumpWidth</p></td>
<td><p>取值范围</p></td>
<td><p>1 .. 65535</p></td>
<td><p>默
认取值</p></td>
<td></td>
<td><p>65535</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>指定
序列计数器在两个
连续同步消息之间
允许的最大跳转。</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Et
hTSynGloba
lTimeSeque
nceCounter
Hysteresis</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 15</p></td>
<td><p>默
认取值</p></td>
<td></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>指定Time
Slave
在超时状态下所需
的连续有效消息对
的数量，直到Time
Tup
le转发到StbM为止</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="ethtsyncrcflagsrxvalidated">
<h6 aria-level="7">EthTSynCrcFlagsRxValidated<a class="headerlink" href="#ethtsyncrcflagsrxvalidated" title="Link to this heading">¶</a></h6>
<p><a class="reference internal" href="../../_images/image1516.png"><img alt="image14" src="../../_images/image1516.png" style="width: 3.36458in; height: 1.97917in;" /></a></p>
<p>图 EthTSynCrcFlagsRxValidated工具配置</p>
<p>表 EthTSynCrcFlagsRxValidated配置描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSynCr
cCorrectionField</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否在
CRC计算中包括Fo
llow_Up报文中的C
orrectionField。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSy
nCrcDomainNumber</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否
在CRC计算中包括
Follow_Up报文中
的domainNumber。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthTSyn
CrcMessageLength</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否
在CRC计算中包括F
ollow_Up报文中的
messageLength。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynCrcPrecis
eOriginTimestamp</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否在CRC计算
中包括Follow_Up
报文中的preciseO
riginTimestamp。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EthT
SynCrcSequenceId</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是
否在CRC计算中包
括Follow_Up报文
中的sequenceId。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>EthTSynCrcSo
urcePortIdentity</p></td>
<td><p>取值范围</p></td>
<td><p>True、False</p></td>
<td><p>默
认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否在CR
C计算中包括Follo
w_Up报文中的sour
cePortIdentity。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="EthTrcv.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>EthTrcv
    </a>
    <a class="float-right" href="Fee.html" title="Next">
        Fee <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">EthTSyn</a><ul>
<li><a class="reference internal" href="#id1">简介</a><ul>
<li><a class="reference internal" href="#id2">参考资料</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">功能描述</a><ul>
<li><a class="reference internal" href="#id4">EthTSyn功能</a><ul>
<li><a class="reference internal" href="#id5">EthTSyn功能介绍</a></li>
<li><a class="reference internal" href="#id6">EthTSyn功能实现</a></li>
<li><a class="reference internal" href="#id7">EthTSyn功能限制</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id8">源文件描述</a></li>
<li><a class="reference internal" href="#api">API接口</a><ul>
<li><a class="reference internal" href="#id9">类型定义</a><ul>
<li><a class="reference internal" href="#ethtsyn-configtype">EthTSyn_ConfigType类型定义</a></li>
<li><a class="reference internal" href="#ethtsyn-transmissionmodetype">EthTSyn_TransmissionModeType类型定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">输入函数描述</a></li>
<li><a class="reference internal" href="#id11">静态接口函数定义</a><ul>
<li><a class="reference internal" href="#ethtsyn-init">EthTSyn_Init函数定义</a></li>
<li><a class="reference internal" href="#ethtsyn-getversioninfo">EthTSyn_GetVersionInfo函数定义</a></li>
<li><a class="reference internal" href="#ethtsyn-settransmissionmode">EthTSyn_SetTransmissionMode函数定义</a></li>
<li><a class="reference internal" href="#ethtsyn-rxindication">EthTSyn_RxIndication函数定义</a></li>
<li><a class="reference internal" href="#ethtsyn-txconfirmation">EthTSyn_TxConfirmation函数定义</a></li>
<li><a class="reference internal" href="#ethtsyn-trcvlinkstatechg">EthTSyn_TrcvLinkStateChg函数定义</a></li>
<li><a class="reference internal" href="#ethtsyn-mainfunction">EthTSyn_MainFunction函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id12">可配置函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id13">配置</a><ul>
<li><a class="reference internal" href="#id14">配置列表</a></li>
<li><a class="reference internal" href="#ethtsyngeneral">EthTSynGeneral</a></li>
<li><a class="reference internal" href="#ethtsynglobaltimedomain">EthTSynGlobalTimeDomain</a><ul>
<li><a class="reference internal" href="#ethtsynglobaltimefollowupdataidlist">EthTSynGlobalTimeFollowUpDataIDList</a><ul>
<li><a class="reference internal" href="#ethtsynglobaltimefollowupdataidlistelement">EthTSynGlobalTimeFollowUpDataIDListElement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ethtsynportconfig">EthTSynPortConfig</a><ul>
<li><a class="reference internal" href="#ethtsynpdelayconfig">EthTSynPdelayConfig</a></li>
<li><a class="reference internal" href="#ethtsynportrole">EthTSynPortRole</a><ul>
<li><a class="reference internal" href="#ethtsynglobaltimemaster">EthTSynGlobalTimeMaster</a><ul>
<li><a class="reference internal" href="#ethtsyncrctimeflagstxsecured">EthTSynCrcTimeFlagsTxSecured</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ethtsynglobaltimeslave">EthTSynGlobalTimeSlave</a><ul>
<li><a class="reference internal" href="#ethtsyncrcflagsrxvalidated">EthTSynCrcFlagsRxValidated</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
                <nav aria-label="Footer">
                    <ul class="nav justify-content-center mb-2">
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/features/">Features</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/about-wagtail/"> About Wagtail</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/services/"> Services</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/blog/"> Blog</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/packages/"> Packages</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/developers/"> Developers</a></li>
                        
                    </ul>
                </nav>
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <!-- <small>
                    Created using
                    <a href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.4.0
                    </a>
                    and
                    <a href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.1.3
                    </a>
                </small> -->
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
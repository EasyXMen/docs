<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>TcpIp &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="UdpNm" href="../UdpNm/UdpNm.html" />
            <link rel="prev" title="StbM" href="../StbM/StbM.html" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Os/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">TcpIp</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
        <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/TcpIp/TcpIp.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="tcpip">
<h1>TcpIp<a class="headerlink" href="#tcpip" title="Link to this heading">¶</a></h1>
<section id="document-information">
<h2>文档信息 Document Information<a class="headerlink" href="#document-information" title="Link to this heading">¶</a></h2>
<section id="version-history">
<h3>版本历史 Version History<a class="headerlink" href="#version-history" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>日期(Date)</p></th>
<th class="head"><p>作者(Author)</p></th>
<th class="head"><p>版本(Version)</p></th>
<th class="head"><p>状态(Status)</p></th>
<th class="head"><p>说明(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2024/3/3</p></td>
<td><p>miao.wang</p></td>
<td><p>V0.1</p></td>
<td><p>发布(Release)</p></td>
<td><p>首次发布(First release)</p></td>
</tr>
<tr class="row-odd"><td><p>2025/04/04</p></td>
<td><p>miao.wang</p></td>
<td><p>V1.0</p></td>
<td><p>发布(Release)</p></td>
<td><p>正式发布(Official release)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="references">
<h3>参考文档 References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号(Number)</p></th>
<th class="head"><p>分类(Classification)</p></th>
<th class="head"><p>标题(Title)</p></th>
<th class="head"><p>版本(Version)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SRS_Ethernet.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_SWS_TCPIP.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terms-and-abbreviations">
<h2>术语与简写 Terms and Abbreviations<a class="headerlink" href="#terms-and-abbreviations" title="Link to this heading">¶</a></h2>
<section id="abbreviations">
<h3>简写 Abbreviations<a class="headerlink" href="#abbreviations" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 33.3%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>简写(Abbreviation)</p></th>
<th class="head"><p>全称(Full name)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ARP</p></td>
<td><p>Address Resolution Protocol</p></td>
<td><p>地址解析协议</p></td>
</tr>
<tr class="row-odd"><td><p>DHCP</p></td>
<td><p>Dynamic Host Configuration Protocol</p></td>
<td><p>动态主机配置协议</p></td>
</tr>
<tr class="row-even"><td><p>ICMP</p></td>
<td><p>Internet Control Message Protocol</p></td>
<td><p>以太网控制消息协议</p></td>
</tr>
<tr class="row-odd"><td><p>IP</p></td>
<td><p>Internet Protocol</p></td>
<td><p>以太网协议</p></td>
</tr>
<tr class="row-even"><td><p>MTU</p></td>
<td><p>Maximum Transmission Unit</p></td>
<td><p>最大传输单元</p></td>
</tr>
<tr class="row-odd"><td><p>TCP</p></td>
<td><p>Transmission Control Protocol</p></td>
<td><p>传输控制协议</p></td>
</tr>
<tr class="row-even"><td><p>UDP</p></td>
<td><p>User Datagram Protocol</p></td>
<td><p>用户数据报协议</p></td>
</tr>
<tr class="row-odd"><td><p>TCP/IP</p></td>
<td><p>A family of communication protocols used in computer networks</p></td>
<td><p>TCP/IP协议簇</p></td>
</tr>
<tr class="row-even"><td><p>LwIP</p></td>
<td><p>A Lightweight TCP/IP stack</p></td>
<td><p>一种轻量级TCP/IP协议栈</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="introduction">
<h2>简介 Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>在AUTOSAR架构中，TcpIp模块介于SoAd模块和EthIf模块之间，TcpIp模块软件的设计是在遵循AUTOSAR R23-11规范的情况下，基于lwip代码开发而来。</p>
<p>In the AUTOSAR architecture, the TcpIp module is located between the SoAd module and the EthIf module.The software design of the TcpIp module is developed based on the lwip code while complying with the AUTOSAR R23-11 specification.</p>
<p>由于开发需求(暂时只实现IPv4)，AUTOSAR规范本身存在的一些问题，以及lwip实现的功能情况，TcpIp模块代码并未完全实现AUTOSAR规范所有功能。</p>
<p>Due to development requirements (only IPv4 is implemented temporarily), certain issues existing in the AUTOSAR specification itself, and the functional implementation status of lwip,the TcpIp module code does not fully implement all functions specified in the AUTOSAR specification.</p>
<p>TcpIp模块的主要功能为：</p>
<p>The main functions of the TcpIp module are as follows:</p>
<p>1.为上层模块提供TCP、UDP数据报的收发接口(TCP涉及链接)；</p>
<p>1.Provide upper-layer modules with interfaces for sending and receiving TCP and UDP datagrams (TCP involves connections);</p>
<p>2.基于IP数据报实现TCP/UDP数据报的封装、解析；</p>
<p>2.Implement encapsulation and parsing of TCP/UDP datagrams based on IP datagrams;</p>
<p>3.实现IP数据报收发所需要的DHCP、ICMP、ARP、AUTO-IP协议功能；</p>
<p>3.Implement the functions of DHCP, ICMP, ARP, and AUTO-IP protocols required for sending and receiving IP datagrams;</p>
<p>4.基于以太网数据报实现IP/ARP数据报的封装、解析。</p>
<p>4.Implement encapsulation and parsing of IP/ARP datagrams based on Ethernet datagrams.</p>
<figure class="align-center" id="tcpip-arch">
<img alt="../../../_images/image13.png" src="../../../_images/image13.png" />
<figcaption>
<p><span class="caption-text">TcpIp模块层次图 (TcpIp Module Layer Diagram)</span><a class="headerlink" href="#tcpip-arch" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="functional-description">
<h2>功能描述 Functional Description<a class="headerlink" href="#functional-description" title="Link to this heading">¶</a></h2>
<section id="system-scalability-introduction-to-system-scalability-function">
<h3>System Scalability功能介绍 Introduction to System Scalability Function<a class="headerlink" href="#system-scalability-introduction-to-system-scalability-function" title="Link to this heading">¶</a></h3>
<p>根据不同的应用情况，TcpIp模块的功能(对IP协议的支持情况)分为三个等级。因开发需求，目前只支持IPv4，因此只支持SC1功能。</p>
<p>According to different application scenarios, the functions of the TcpIp module (support for IP protocols) are divided into three levels. Due to development requirements, only IPv4 is supported currently, so only the SC1 function is supported.</p>
<figure class="align-center" id="scalability">
<img alt="../../../_images/image23.png" src="../../../_images/image23.png" />
<figcaption>
<p><span class="caption-text">TcpIp模块功能等级 (TcpIp Module Function Levels)</span><a class="headerlink" href="#scalability" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="internet-protocol-version-4-introduction-to-internet-protocol-version-4-function">
<h3>Internet Protocol Version 4功能介绍 Introduction to Internet Protocol Version 4 Function<a class="headerlink" href="#internet-protocol-version-4-introduction-to-internet-protocol-version-4-function" title="Link to this heading">¶</a></h3>
<p>IP协议是整个TCP/IP协议的核心，UDP、TCP、ICMP等协议都是基于IP来传送协议数据。IP协议是一种不可靠，尽最大努力，无连接的网络层协议。除了实现最基本的IP数据报的收发外，还需要完成IP数据报(长度较大)的分片和重组功能。</p>
<p>The IP protocol is the core of the entire TCP/IP protocol suite. Protocols such as UDP, TCP, and ICMP all transmit protocol data based on IP. The IP protocol is an unreliable, best-effort, connectionless network-layer protocol. In addition to implementing the basic sending and receiving of IP datagrams, it is also necessary to complete the fragmentation and reassembly functions for IP datagrams (with large lengths).</p>
<p>ARP协议，译作地址解析协议，ARP只适用于IPv4，在以太网中ARP数据报封装在以太网帧中进行发送。ARP协议的基本功能是使用目标主机的IP地址，查询其对应的MAC地址，以保证底层链路上数据报通信的进行。为了实现在网络接口中物理地址与IP地址间的转换，ARP协议中引入了缓存表的概念(记录了一条一条的&lt;IP地址，MAC地址&gt;对)。</p>
<p>The ARP protocol, translated as Address Resolution Protocol, is only applicable to IPv4. In Ethernet, ARP datagrams are encapsulated in Ethernet frames for transmission.The basic function of the ARP protocol is to use the IP address of the target host to query its corresponding MAC address, so as to ensure the transmission of datagrams on the underlying link.To realize the conversion between physical addresses and IP addresses in network interfaces, the ARP protocol introduces the concept of a cache table (which records &lt;IP address, MAC address&gt; pairs one by one).</p>
<p>AUTOIP协议是一个不用服务器来获取IP地址方法的协议，而DHCP需要一个服务器。一个配置了AUTOIP的主机将会得到一个高16 位为0xa9fe的IP地址(即169.254.xxx.xxx)。</p>
<p>The AUTOIP protocol is a protocol that obtains an IP address without a server, whereas DHCP requires a server.A host configured with AUTOIP will obtain an IP address whose upper 16 bits are 0xa9fe (i.e., 169.254.xxx.xxx).</p>
<p>IP协议完成了数据报在各个主机之间的递交，但是它并不完美，正如前面所说，它提供的是一种无连接的不可靠的数据报交付，协议本身不提供任何错误检验与恢复机制。</p>
<p>The IP protocol completes the delivery of datagrams between various hosts, but it is not perfect. As mentioned earlier,it provides a connectionless and unreliable datagram delivery service, and the protocol itself does not provide any error checking and recovery mechanisms.</p>
<p>为了弥补IP协议的缺陷，出现了ICMP协议。ICMP协议用于在主机、路由器之间传递控制消息(如数据报错误信息、网络状况信息、主机状况信息等)。ICMP协议配合IP协议完成数据报的递交，提高数据报递交的有效性，但是ICMP协议报文有着自己的组织结构，且ICMP报文是被封装在IP数据报中发送的。此外，ping命令，其本质上就是发送一个ICMP回送请求报文。</p>
<p>To make up for the shortcomings of the IP protocol, the ICMP protocol was introduced. The ICMP protocol is used to transmit control messages (such as datagram error information, network status information, host status information, etc.) between hosts and routers. The ICMP protocol cooperates with the IP protocol to complete the delivery of datagrams and improve the effectiveness of datagram delivery. However, ICMP protocol messages have their own organizational structure, and ICMP messages are encapsulated in IP datagrams for transmission. In addition, the ping command essentially sends an ICMP echo request message.</p>
</section>
<section id="ip-based-protocols-introduction-to-ip-based-protocols-function">
<h3>IP Based Protocols功能介绍 Introduction to IP Based Protocols Function<a class="headerlink" href="#ip-based-protocols-introduction-to-ip-based-protocols-function" title="Link to this heading">¶</a></h3>
<p>TcpIp模块维护一个本端IP地址表，每个本端IP地址的配置参见配置TcpIpLocalAddr，主要实现IP地址由何种方式分配，每个TcpIpLocalAddr有唯一的ID号(TcpIpAddrId)表示。</p>
<p>The TcpIp module maintains a local IP address table. The configuration of each local IP address refers to the configuration of TcpIpLocalAddr,which mainly specifies how the IP address is assigned. Each TcpIpLocalAddr is represented by a unique ID (TcpIpAddrId).</p>
<p>虽然按AUTOSAR标准，可支持N个本端IP地址关联到同一个硬件Controller，但限于LwIP功能实现，我们目前只支持每个TcpIpCtrl只能被一个单播(TCPIP_UNICAST)TcpIpLocalAddr关联。</p>
<p>Although according to the AUTOSAR standard, N local IP addresses can be associated with the same hardware Controller, limited by the functional implementation of LwIP,currently we only support that each TcpIpCtrl can be associated with only one unicast (TCPIP_UNICAST) TcpIpLocalAddr.</p>
<p>UDP称为用户数据报协议，是一种无连接的、不可靠的传输协议。</p>
<p>UDP, known as User Datagram Protocol, is a connectionless and unreliable transport protocol.</p>
<p>UDP只是简单地完成数据从一个进程到另一个进程的交付，它没有提供任何流量控制机制，收到的报文也没有确认；</p>
<p>UDP simply completes the delivery of data from one process to another. It does not provide any flow control mechanism, and there is no acknowledgment for received messages;</p>
<p>在差错控制上，只提供了一种简单的差错控制方法，即校验和计算，当UDP收到的报文校验和计算不成功时，它将丢弃掉这个报文。</p>
<p>In terms of error control, it only provides a simple error control method, namely checksum calculation. When the checksum calculation of a received UDP message fails, the message will be discarded.</p>
<p>UDP使用网络层的IP协议来发送报文。</p>
<p>UDP uses the IP protocol at the network layer to send messages.</p>
<p>TCP称为传输控制协议，是一种面向连接的、可靠的、基于字节流的传输层协议。为了保证传输的可靠性、高效性，TCP提供了一系列的机制，例如握手机制、正面确认、超时重传、以及各种定时机制等。</p>
<p>TCP, known as Transmission Control Protocol, is a connection-oriented, reliable, byte-stream-based transport layer protocol.
To ensure the reliability and efficiency of transmission, TCP provides a series of mechanisms,such as a handshake mechanism, positive acknowledgment, timeout retransmission, and various timing mechanisms.</p>
<p>AUTOSAR标准中涉及的机制(TCP配置 )有：超时重传；慢启动与拥塞避免；快速重传与快速恢复；NAGLE算法；保活机制；收发窗口机制；定时机制。</p>
<p>The mechanisms involved in the AUTOSAR standard (TCP configuration) include: timeout retransmission; slow start and congestion avoidance; fast retransmission and fast recovery; NAGLE algorithm; keep-alive mechanism; send and receive window mechanisms; timing mechanisms.</p>
<p>DHCP使用UDP进行报文的传输。通过同DHCP服务器的交互，设备可以获得一个有效的IP地址，使得它可以在特定网络环境下运行。目前不支持DHCPv4和DHCPv6功能。</p>
<p>DHCP uses UDP for message transmission. Through interaction with a DHCP server, a device can obtain a valid IP address, enabling it to operate in a specific network environment. Currently, DHCPv4 and DHCPv6 functions are not supported.</p>
</section>
<section id="tcp-ip-stack-state-handling-introduction-to-tcp-ip-stack-state-handling-function">
<h3>TCP/IP Stack state handling功能介绍 Introduction to TCP/IP Stack State Handling Function<a class="headerlink" href="#tcp-ip-stack-state-handling-introduction-to-tcp-ip-stack-state-handling-function" title="Link to this heading">¶</a></h3>
<p>TcpIp的状态指的是每个Controller的状态，分为
TCPIP_STATE_OFFLINE、
TCPIP_STATE_STARTUP、
TCPIP_STATE_OFFLINE、
TCPIP_STATE_ONHOLD、
TCPIP_STATE_SHUTDOWN五种状态，
其中TCPIP_STATE_STARTUP和TCPIP_STATE_SHUTDOWN为中间过渡状态。</p>
<p>The state of TcpIp refers to the state of each Controller, which is divided into five states:
TCPIP_STATE_OFFLINE，
TCPIP_STATE_STARTUP，
TCPIP_STATE_OFFLINE，
TCPIP_STATE_ONHOLD，
and TCPIP_STATE_SHUTDOWN.
Among them, TCPIP_STATE_STARTUP and TCPIP_STATE_SHUTDOWN are intermediate transition states.</p>
</section>
<section id="features">
<h3>特性 Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h3>
<section id="support-variant-function">
<h4>支持变体功能 Support variant function<a class="headerlink" href="#support-variant-function" title="Link to this heading">¶</a></h4>
<p>支持TcpIpLocalAddr中Type、Domain等配置变体，以及子容器TcpIpAddrAssignment和TcpIpStaticIpAddressConfig。</p>
<p>Support configuration variants such as Type and Domain in TcpIpLocalAddr, as well as the sub-containers TcpIpAddrAssignment and TcpIpStaticIpAddressConfig.</p>
</section>
</section>
<section id="deviation">
<h3>偏差 Deviation<a class="headerlink" href="#deviation" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
<section id="extension">
<h3>扩展 Extension<a class="headerlink" href="#extension" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
</section>
<section id="integration">
<h2>集成 Integration<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
<section id="file-list">
<h3>文件列表 File List<a class="headerlink" href="#file-list" title="Link to this heading">¶</a></h3>
<section id="static-files">
<h4>静态文件 Static Files<a class="headerlink" href="#static-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TcpIp.h</p></td>
<td><p>声明TcpIp模块的全部外部接口(除了回调函数)，以及配置文件中的全局变量。(Declares all external interfaces of the TcpIp module (except callback functions) and global variables in the configuration file.)</p></td>
</tr>
<tr class="row-odd"><td><p>TcpIp.c</p></td>
<td><p>作为TcpIp模块的核心文件，实现TcpIp模块全部对外接口， 以及实现TcpIp模块功能所必须的local函数，local宏定义，local变量定义。(Serves as the core file of the TcpIp module, implementing all external interfaces of the TcpIp module, as well as local functions, local macros, and local variable definitions necessary for implementing the functions of the TcpIp module.)</p></td>
</tr>
<tr class="row-even"><td><p>TcpIp_Types.h</p></td>
<td><p>定义TcpIp模块外部/内部类型，包括AUTOSAR标准定义的类型。(Defines external/internal types of the TcpIp module, including types defined by the AUTOSAR standard.)</p></td>
</tr>
<tr class="row-odd"><td><p>TcpIp_Internal.h</p></td>
<td><p>声明TcpIp模块内部功能所必须的local函数，local宏定义，local变量。(Declares local functions, local macros, and local variables necessary for the internal functions of the TcpIp module.)</p></td>
</tr>
<tr class="row-even"><td><p>TcpIp_Internal.c</p></td>
<td><p>实现TcpIp模块内部功能所必须的local函数，local宏定义，local变量。(Implements local functions, local macros, and local variables necessary for the internal functions of the TcpIp module.)</p></td>
</tr>
<tr class="row-odd"><td><p>TcpIp_DetError.h</p></td>
<td><p>声明TcpIp模块DET错误检测功能的函数接口。(Declares the function interfaces for the DET error detection function of the TcpIp module.)</p></td>
</tr>
<tr class="row-even"><td><p>TcpIp_DetError.c</p></td>
<td><p>实现TcpIp模块DET错误检测功能的函数接口。(Implements the function interfaces for the DET error detection function of the TcpIp module.)</p></td>
</tr>
<tr class="row-odd"><td><p>TcpIp_MemMap.h</p></td>
<td><p>声明TcpIp模块内存布局。(Declares the memory mapping of the TcpIp module.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="dynamic-files">
<h4>动态文件 Dynamic Files<a class="headerlink" href="#dynamic-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TcpIp_CfgTypes.h</p></td>
<td><p>定义PB/PC配置参数结构体类型，以及内部运行时结构体类型。(Defines the structure types of PB/PC configuration parameters and internal runtime structure types.)</p></td>
</tr>
<tr class="row-odd"><td><p>TcpIp_Cfg.h</p></td>
<td><p>定义TcpIp模块PC配置的宏定义。(Defines macros for the PC configuration of the TcpIp module.)</p></td>
</tr>
<tr class="row-even"><td><p>TcpIp_Cfg.c</p></td>
<td><p>定义TcpIp模块PC配置的结构体参数。(Defines the structure parameters for the PC configuration of the TcpIp module)</p></td>
</tr>
<tr class="row-odd"><td><p>TcpIp_PBcfg.h</p></td>
<td><p>定义TcpIp模块PB配置的宏定义。(Defines macros for the PB configuration of the TcpIp module.)</p></td>
</tr>
<tr class="row-even"><td><p>TcpIp_PBcfg.c</p></td>
<td><p>定义TcpIp模块PB配置的结构体参数。(Defines the structure parameters for the PB configuration of the TcpIp module)</p></td>
</tr>
<tr class="row-odd"><td><p>TcpIp_SocketOwner.h</p></td>
<td><p>定义为上层SocketOwner提供的接口函数。(Defines interface functions provided for the upper-layer SocketOwner.)</p></td>
</tr>
<tr class="row-even"><td><p>lwipopts.h</p></td>
<td><p>lwIp协议栈配置文件。(Configuration file for the lwIP protocol stack.)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="error-handling">
<h3>错误处理 Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<section id="development-errors">
<h4>开发错误 Development Errors<a class="headerlink" href="#development-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TCPIP_E_UNINIT</p></td>
<td><p>0x01</p></td>
<td><p>API service called before initializing the module</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_PARAM_POINTER</p></td>
<td><p>0x02</p></td>
<td><p>API service called with NULL pointer</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_INV_ARG</p></td>
<td><p>0x03</p></td>
<td><p>Invalid argument</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_NOBUFS</p></td>
<td><p>0x04</p></td>
<td><p>No buffer space available</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_MSGSIZE</p></td>
<td><p>0x07</p></td>
<td><p>Message too long</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_PROTOTYPE</p></td>
<td><p>0x08</p></td>
<td><p>Protocol wrong type for socket</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_ADDRINUSE</p></td>
<td><p>0x09</p></td>
<td><p>Address already in use</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_ADDRNOTAVAIL</p></td>
<td><p>0x0A</p></td>
<td><p>Can’t assign requested address</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_ISCONN</p></td>
<td><p>0x0B</p></td>
<td><p>Socket is already connected</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_NOTCONN</p></td>
<td><p>0x0C</p></td>
<td><p>Socket is not connected</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_NOPROTOOPT</p></td>
<td><p>0x0D</p></td>
<td><p>Protocol not available</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_AFNOSUPPORT</p></td>
<td><p>0x0E</p></td>
<td><p>Address family not supported by protocol family</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_INIT_FAILED</p></td>
<td><p>0x0F</p></td>
<td><p>Invalid configuration set selection</p></td>
</tr>
</tbody>
</table>
</section>
<section id="product-errors">
<h4>产品错误 Product Errors<a class="headerlink" href="#product-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
<section id="runtime-errors">
<h4>运行时错误 Runtime Errors<a class="headerlink" href="#runtime-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TCPIP_E_TIMEDOUT</p></td>
<td><p>0x01</p></td>
<td><p>Operation timed out</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_CONNREFUSED</p></td>
<td><p>0x02</p></td>
<td><p>Connection refused</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_HOSTUNREACH</p></td>
<td><p>0x03</p></td>
<td><p>No route to host</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_PACKETTOBIG</p></td>
<td><p>0x04</p></td>
<td><p>Path does not support frame size</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_DADCONFLICT</p></td>
<td><p>0x05</p></td>
<td><p>Duplicate IP Address detected</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="interface-description">
<h2>接口描述 Interface Description<a class="headerlink" href="#interface-description" title="Link to this heading">¶</a></h2>
<section id="type-definitions">
<h3>类型定义 Type Definitions<a class="headerlink" href="#type-definitions" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
<section id="services">
<h3>提供的服务 Services<a class="headerlink" href="#services" title="Link to this heading">¶</a></h3>
<section id="tcpip-init">
<h4>TcpIp_Init<a class="headerlink" href="#tcpip-init" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">TcpIp_Init</span><span class="p">(</span><span class="n">const</span> <span class="n">TcpIp_ConfigType</span> <span class="o">*</span><span class="n">ConfigPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>This service initializes the TCP/IP Stack.TcpIp_Init may not block the start-up process for an indefinite amount of time.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ConfigPtr</p></td>
<td><p>Pointer to the configuration data of the TcpIp module</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="tcpip-getversioninfo">
<h4>TcpIp_GetVersionInfo<a class="headerlink" href="#tcpip-getversioninfo" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">TcpIp_GetVersionInfo</span><span class="p">(</span><span class="n">Std_VersionInfoType</span> <span class="o">*</span><span class="n">versioninfo</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the version information.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>versioninfo</p></td>
<td><p>Pointer to where to store the version information of this module.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="tcpip-close">
<h4>TcpIp_Close<a class="headerlink" href="#tcpip-close" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_Close</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">Abort</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack is requested to close the socket and release all related resources.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket handle identifying the local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Abort</p></td>
<td><p>TRUE: connection will immediately be terminated by sending a RST-Segment and releasing all related resources. FALSE: connection will be terminated after performing a regular connection termination handshake and releasing all related resources.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-bind">
<h4>TcpIp_Bind<a class="headerlink" href="#tcpip-bind" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_Bind</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalAddrId</span><span class="p">,</span> <span class="n">uint16</span> <span class="o">*</span><span class="n">PortPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack is requested to bind a UDP or TCP socket to a local resource.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket identifier of the related local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>LocalAddrId</p></td>
<td><p>IP address identifier representing the local IP address and EthIf controller to bind the socket to.</p></td>
</tr>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>PortPtr</p></td>
<td><p>Pointer to memory where the local port to which the socket shall be bound is specified. In case the parameter is specified as TCPIP_PORT_ANY, the TCP/IP stack shall choose the local port automatically from the range 49152 to 65535 and shall update the parameter to the chosen value.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted (e.g. address in use).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-tcpconnect">
<h4>TcpIp_TcpConnect<a class="headerlink" href="#tcpip-tcpconnect" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_TcpConnect</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">RemoteAddrPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack is requested to establish a TCP connection to the configured peer.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket identifier of the related local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RemoteAddrPtr</p></td>
<td><p>IP address and port of the remote host to connect to.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted, e.g. connection is already established or no route to destination specified by remoteAddrPtr found.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-tcplisten">
<h4>TcpIp_TcpListen<a class="headerlink" href="#tcpip-tcplisten" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_TcpListen</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">MaxChannels</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack is requested to listen on the TCP socket specified by the socket identifier.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket identifier of the related local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>MaxChannels</p></td>
<td><p>Maximum number of new parallel connections established on this listen connection.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted, the socket is not configured to be a server socket.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-tcpreceived">
<h4>TcpIp_TcpReceived<a class="headerlink" href="#tcpip-tcpreceived" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_TcpReceived</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">Length</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the reception of socket data is confirmed to the TCP/IP stack.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket identifier of the related local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Length</p></td>
<td><p>Number of bytes finally consumed by the upper layer.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-requestcommode">
<h4>TcpIp_RequestComMode<a class="headerlink" href="#tcpip-requestcommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_RequestComMode</span><span class="p">(</span><span class="n">uint8</span> <span class="n">CtrlIdx</span><span class="p">,</span> <span class="n">TcpIp_StateType</span> <span class="n">State</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack is requested to change the TcpIp state of the communication network identified by EthIf controller index.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CtrlIdx</p></td>
<td><p>EthIf controller index to identify the communication network where the TcpIp state is requested.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>State</p></td>
<td><p>Requested TcpIp state.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Service accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Service denied.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-requestipaddrassignment">
<h4>TcpIp_RequestIpAddrAssignment<a class="headerlink" href="#tcpip-requestipaddrassignment" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_RequestIpAddrAssignment</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalAddrId</span><span class="p">,</span> <span class="n">TcpIp_IpAddrAssignmentType</span> <span class="n">Type</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">LocalIpAddrPtr</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Netmask</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">DefaultRouterPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the local IP address assignment for the IP address specified by LocalAddrId shall be initiated.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalAddrId</p></td>
<td><p>IP address index specifying the IP address for which an assignment shall be initiated.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Type</p></td>
<td><p>Type of IP address assignment which shall be initiated.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalIpAddrPtr</p></td>
<td><p>Pointer to structure containing the IP address which shall be assigned to the EthIf controller indirectly specified via LocalAddr Id.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Netmask</p></td>
<td><p>Network mask of IPv4 address or address prefix of IPv6 address in CIDR Notation.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>DefaultRouterPtr</p></td>
<td><p>Pointer to structure containing the IP address of the default router (gateway) which shall be assigned.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-releaseipaddrassignment">
<h4>TcpIp_ReleaseIpAddrAssignment<a class="headerlink" href="#tcpip-releaseipaddrassignment" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_ReleaseIpAddrAssignment</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalAddrId</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the local IP address assignment for the IP address specified by LocalAddrId shall be released.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalAddrId</p></td>
<td><p>IP address index specifying the IP address for which an assignment shall be released.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-resetipassignment">
<h4>TcpIp_ResetIpAssignment<a class="headerlink" href="#tcpip-resetipassignment" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_ResetIpAssignment</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Resets all learned IP-addresses to invalid values.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>success.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>switch port could not be initialized.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-icmptransmit">
<h4>TcpIp_IcmpTransmit<a class="headerlink" href="#tcpip-icmptransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_IcmpTransmit</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalIpAddrId</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">RemoteAddrPtr</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Ttl</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Type</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Code</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">DataLength</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack sends an ICMP message according to the specified parameters.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalIpAddrId</p></td>
<td><p>IP address identifier representing the local IP address and EthIf controller which shall be used for transmission of the ICMP message.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RemoteAddrPtr</p></td>
<td><p>pointer to struct representing the remote address.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Ttl</p></td>
<td><p>Time to live value to be used for the ICMP message. If 0 is specified the default value shall be used.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Type</p></td>
<td><p>type field value to be used in the ICMP message.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Code</p></td>
<td><p>code field value to be used in the ICMP message.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>DataLength</p></td>
<td><p>length of ICMP message.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to data which shall be sent as ICMP message data</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The ICMP message has been sent successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The ICMP message was not sent.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-icmpv6transmit">
<h4>TcpIp_IcmpV6Transmit<a class="headerlink" href="#tcpip-icmpv6transmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_IcmpV6Transmit</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalIpAddrId</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">RemoteAddrPtr</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">HopLimit</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Type</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Code</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">DataLength</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack sends an ICMPv6 message according to the specified parameters.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalIpAddrId</p></td>
<td><p>IP address identifier representing the local IP address and EthIf controller which shall be used for transmission of the ICMPv6 message.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RemoteAddrPtr</p></td>
<td><p>pointer to struct representing the remote address.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>HopLimit</p></td>
<td><p>Hop Limit value to be used for the ICMPv6 message. If 0 is specified the default value shall be used.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Type</p></td>
<td><p>type field value to be used in the ICMPv6 message.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Code</p></td>
<td><p>code field value to be used in the ICMPv6 message.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>DataLength</p></td>
<td><p>length of ICMPv6 message.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to data which shall be sent as ICMPv6 message data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The ICMPv6 message has been sent successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The ICMPv6 message was not sent.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-dhcpreadoption">
<h4>TcpIp_DhcpReadOption<a class="headerlink" href="#tcpip-dhcpreadoption" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_DhcpReadOption</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalIpAddrId</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Option</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack retrieves DHCP option data identified by parameter option for already received DHCP options.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalIpAddrId</p></td>
<td><p>IP address identifier representing the local IP address and EthIf controller for which the DHCP option shall be read.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Option</p></td>
<td><p>DHCP option (note: according to IANA DHCP Options).</p></td>
</tr>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>DataLength</p></td>
<td><p>As input parameter, contains the length of the provided data buffer. Will be overwritten with the length of the actual data.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to memory containing DHCP option data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>requested data retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>requested data could not be retrieved.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-dhcpv6readoption">
<h4>TcpIp_DhcpV6ReadOption<a class="headerlink" href="#tcpip-dhcpv6readoption" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_DhcpV6ReadOption</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalIpAddrId</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">Option</span><span class="p">,</span> <span class="n">uint16</span> <span class="o">*</span><span class="n">DataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack retrieves DHCPv6 option data identified by parameter option for already received DHCPv6 options.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalIpAddrId</p></td>
<td><p>IP address identifier representing the local IP address and EthIf controller for which the DHCPv6 option shall be read.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Option</p></td>
<td><p>DHCP option (note: according to IANA DHCP[v6] Options).</p></td>
</tr>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>DataLength</p></td>
<td><p>As input parameter, contains the length of the provided data buffer. Will be overwritten with the length of the actual data.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to memory containing DHCPv6 option data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>requested data retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>requested data could not be retrieved.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-dhcpwriteoption">
<h4>TcpIp_DhcpWriteOption<a class="headerlink" href="#tcpip-dhcpwriteoption" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_DhcpWriteOption</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalIpAddrId</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">Option</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">DataLength</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack writes the DHCP option data identified by parameter option.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalIpAddrId</p></td>
<td><p>IP address identifier representing the local IP address and EthIf controller for which the DHCP option shall be written.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Option</p></td>
<td><p>DHCP option (note: according to IANA DHCP Options).</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>DataLength</p></td>
<td><p>length of DHCP option data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to memory containing DHCP option data</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>no error occured.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>DHCP option data could not be written.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-dhcpv6writeoption">
<h4>TcpIp_DhcpV6WriteOption<a class="headerlink" href="#tcpip-dhcpv6writeoption" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_DhcpV6WriteOption</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalIpAddrId</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">Option</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">DataLength</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack writes the DHCPv6 option data identified by parameter option.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalIpAddrId</p></td>
<td><p>IP address identifier representing the local IP address and EthIf controller for which the DHCPv6 option shall be written.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Option</p></td>
<td><p>DHCP option (note: according to IANA DHCP[v6] Options).</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>DataLength</p></td>
<td><p>length of DHCPv6 option data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to memory containing DHCPv6 option data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>no error occured.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>DHCPv6 option data could not be written.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-changeparameter">
<h4>TcpIp_ChangeParameter<a class="headerlink" href="#tcpip-changeparameter" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_ChangeParameter</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">TcpIp_ParamIdType</span> <span class="n">ParameterId</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ParameterValue</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack is requested to change a parameter of a socket. E.g. the Nagle algorithm may be controlled by this API.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket identifier of the related local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ParameterId</p></td>
<td><p>Identifier of the parameter to be changed.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ParameterValue</p></td>
<td><p>Pointer to memory containing the new parameter value.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The parameter has been changed successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The parameter could not be changed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-getipaddr">
<h4>TcpIp_GetIpAddr<a class="headerlink" href="#tcpip-getipaddr" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_GetIpAddr</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalAddrId</span><span class="p">,</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">IpAddrPtr</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">NetmaskPtr</span><span class="p">,</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">DefaultRouterPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Obtains the local IP address actually used by LocalAddrId, the netmask and default router.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalAddrId</p></td>
<td><p>Local address identifier referring to the local IP address which shall be obtained.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>IpAddrPtr</p></td>
<td><p>Pointer to a struct where the IP address shall be stored. The struct member domain shall be set to the desired TcpIp_Domain Type and it shall be ensured that the struct is large enough to store an address of the selected type (INET or INET6). Struct members not related to the IP address are of arbitrary value and shall not be used.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>NetmaskPtr</p></td>
<td><p>Pointer to memory where Network mask of IPv4 address or address prefix of IPv6 address in CIDR Notation is stored.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>DefaultRouterPtr</p></td>
<td><p>Pointer to struct where the IP address of the default router (gateway) is stored (struct member “port” is not used and of arbitrary value). The struct must be of the same type and size as IpAddrPtr.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request was not successful, e.g. domain in Ip AddrPtr and the local domain type do not match.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-getphysaddr">
<h4>TcpIp_GetPhysAddr<a class="headerlink" href="#tcpip-getphysaddr" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_GetPhysAddr</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalAddrId</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">PhysAddrPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Obtains the physical source address used by the EthIf controller implicitly specified via Local AddrId.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalAddrId</p></td>
<td><p>Local address identifier implicitely specifing the EthIf controller for which the physical address shall be obtained.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>PhysAddrPtr</p></td>
<td><p>Pointer to the memory where the physical source address (MAC address) in network byte order is stored.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request was not successful, e.g. no unique Ctrl specified via IpAddrId.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-getremotephysaddr">
<h4>TcpIp_GetRemotePhysAddr<a class="headerlink" href="#tcpip-getremotephysaddr" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TcpIp_ReturnType</span> <span class="n">TcpIp_GetRemotePhysAddr</span><span class="p">(</span><span class="n">uint8</span> <span class="n">CtrlIdx</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">IpAddrPtr</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">PhysAddrPtr</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">initRes</span><span class="p">)</span>
</pre></div>
</div>
<p>TcpIp_GetRemotePhysAddr queries the IP/physical address translation table specified by Ctrl Idx and returns the physical address related to the IP address specified by IpAddrPtr. In case no physical address can be retrieved and parameter initRes is TRUE, address resolution for the specified IP address is initiated on the local network.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CtrlIdx</p></td>
<td><p>EthIf controller index to identify the related ARP/NDP table.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>IpAddrPtr</p></td>
<td><p>specifies the IP address for which the physical address shall be retrieved.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>PhysAddrPtr</p></td>
<td><p>Pointer to the memory where the physical address (MAC address) related to the specified IP address is stored in network byte order.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>initRes</p></td>
<td><p>specifies if the address resolution shall be initiated (TRUE) or not (FALSE) in case the physical address related to the specified IP address is currently unknown.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>TcpIp_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TCPIP_E_OK</p></td>
<td><p>specified IP address resolved, physical address provided via PhysAddrPtr.</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_PHYS_ADDR_MISS</p></td>
<td><p>physical address currently unknown (address resolution initiated if initRes set to TRUE).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-getctrlidx">
<h4>TcpIp_GetCtrlIdx<a class="headerlink" href="#tcpip-getctrlidx" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_GetCtrlIdx</span><span class="p">(</span><span class="n">TcpIp_LocalAddrIdType</span> <span class="n">LocalAddrId</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">CtrlIdxPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>TcpIp_GetCtrlIdx returns the index of the controller related to LocalAddrId.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>LocalAddrId</p></td>
<td><p>Local address identifier implicitely specifing the EthIf controller that shall be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>CtrlIdxPtr</p></td>
<td><p>Pointer to the memory where the index of the controller related to LocalAddrId is stored.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>the request was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>the request was not successful.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-getarpcacheentries">
<h4>TcpIp_GetArpCacheEntries<a class="headerlink" href="#tcpip-getarpcacheentries" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_GetArpCacheEntries</span><span class="p">(</span><span class="n">uint8</span> <span class="n">ctrlIdx</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">numberOfElements</span><span class="p">,</span> <span class="n">TcpIp_ArpCacheEntryType</span> <span class="o">*</span><span class="n">entryListPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies entries from the physical address cache of the IPv4 instance that is active on the EthIf controller specified by ctrlIdx into a user provided buffer. The function will copy all or numberOf Elements into the output list. If input value of numberOfElements is 0 the function will not copy any data but only return the number of valid entries in the cache. EntryListPtr may be NULL_PTR in this case.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ctrlIdx</p></td>
<td><p>EthIf controller index to identify the related ARP table.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>numberOfElements</p></td>
<td><p>In: Maximum number of entries that can be stored in output entry ListPtr. Out: Number of entries written to output entryListPtr (Number of all entries in the cache if input value is 0).</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>entryListPtr</p></td>
<td><p>Pointer to memory where the list of cache entries shall be stored.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>physical address cache could be read.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>physical address cache could not be read (i.e. no IPv4 instance active on this controller).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-getndpcacheentries">
<h4>TcpIp_GetNdpCacheEntries<a class="headerlink" href="#tcpip-getndpcacheentries" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_GetNdpCacheEntries</span><span class="p">(</span><span class="n">uint8</span> <span class="n">ctrlIdx</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">numberOfElements</span><span class="p">,</span> <span class="n">TcpIp_NdpCacheEntryType</span> <span class="o">*</span><span class="n">entryListPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies entries from the physical address cache of the IPv6 instance that is active on the EthIf controller specified by ctrlIdx into a user provided buffer. The function will copy all or numberOf Elements into the output list. If input value of numberOfElements is 0 the function will not copy any data but only return the number of valid entries in the cache. EntryListPtr may be NULL_PTR in this case.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ctrlIdx</p></td>
<td><p>EthIf controller index to identify the related NDP table.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>numberOfElements</p></td>
<td><p>In: Maximum number of entries that can be stored in output entry ListPtr. Out: Number of entries written to output entryListPtr (Number of all entries in the cache if input value is 0).</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>entryListPtr</p></td>
<td><p>Pointer to memory where the list of cache entries shall be stored.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>physical address cache could be read.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>physical address cache could not be read (i.e. no IPv6 instance active on this controller).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-getandresetmeasurementdata">
<h4>TcpIp_GetAndResetMeasurementData<a class="headerlink" href="#tcpip-getandresetmeasurementdata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_GetAndResetMeasurementData</span><span class="p">(</span><span class="n">TcpIp_MeasurementIdxType</span> <span class="n">MeasurementIdx</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">MeasurementResetNeeded</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">MeasurementDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Allows to read and reset detailed measurement data for diagnostic purposes. Get all MeasurementIdx’s at once is not supported. TCPIP_MEAS_ALL shall only be used to reset all MeasurementIdx’s at once. A NULL_PTR shall be provided for MeasurementDataPtr in this case.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>MeasurementIdx</p></td>
<td><p>Data index of measurement data</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>MeasurementResetNeeded</p></td>
<td><p>Flag to trigger a reset of the measurement data</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>MeasurementDataPtr</p></td>
<td><p>Reference to data buffer, where to copy measurement data</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-isconnectionready">
<h4>TcpIp_IsConnectionReady<a class="headerlink" href="#tcpip-isconnectionready" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TcpIp_ReturnType</span> <span class="n">TcpIp_IsConnectionReady</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">RemoteAddrPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>API allows to check if a communication over this socket is possible for a dedicated remote address. It includes that the socket is bound, a physical address is available for the requested remote address and if a security association is configured that a secured connection is already established.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket handle identifying the local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RemoteAddrPtr</p></td>
<td><p>Pointer to the structure containing the requested remote IP address and port.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>TcpIp_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TCPIP_E_OK</p></td>
<td><p>SocketId is ready for communication.</p></td>
</tr>
<tr class="row-odd"><td><p>TCPIP_E_NOT_OK</p></td>
<td><p>Request was rejected.</p></td>
</tr>
<tr class="row-even"><td><p>TCPIP_E_PENDING</p></td>
<td><p>Connection establishment in progress.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-udptransmit">
<h4>TcpIp_UdpTransmit<a class="headerlink" href="#tcpip-udptransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_UdpTransmit</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">,</span> <span class="n">const</span> <span class="n">TcpIp_SockAddrType</span> <span class="o">*</span><span class="n">RemoteAddrPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">TotalLength</span><span class="p">)</span>
</pre></div>
</div>
<p>This service transmits data via UDP to a remote node. The transmission of the data is immediately performed with this function call by forwarding it to EthIf.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket identifier of the related local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to a linear buffer of TotalLength bytes containing the data to be transmitted. In case DataPtr is a NULL_PTR, TcpIp shall retrieve data from upper layer via callback &lt;Up&gt;_CopyTxData().</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RemoteAddrPtr</p></td>
<td><p>IP address and port of the remote host to transmit to.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>TotalLength</p></td>
<td><p>indicates the payload size of the UDP datagram.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Request to transmit the UDP message has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>UDP message could not be sent because of a permanent error, e.g. message is too long.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-tcptransmit">
<h4>TcpIp_TcpTransmit<a class="headerlink" href="#tcpip-tcptransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_TcpTransmit</span><span class="p">(</span><span class="n">TcpIp_SocketIdType</span> <span class="n">SocketId</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">AvailableLength</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">ForceRetrieve</span><span class="p">)</span>
</pre></div>
</div>
<p>This service requests transmission of data via TCP to a remote node.The transmission of the data is decoupled.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different SocketIds. Non reentrant for the same SocketId.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>SocketId</p></td>
<td><p>Socket identifier of the related local socket resource.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to a linear buffer of AvailableLength bytes containing the data to be transmitted. In case DataPtr is a NULL_PTR, TcpIp shall retrieve data from upper layer via callback &lt;Up&gt;_CopyTx Data().</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>AvailableLength</p></td>
<td><p>Available data for transmission in bytes.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ForceRetrieve</p></td>
<td><p>This parameter is only valid if DataPtr is a NULL_PTR. Indicates how the TCP/IP stack retrieves data from upper layer if DataPtr is a NULL_PTR. TRUE: the whole data indicated by availableLength shall be retrieved from the upper layer via one or multiple &lt;Up&gt;_ CopyTxData() calls within the context of this transmit function. FALSE: The TCP/IP stack may retrieve up to availableLength data from the upper layer. It is allowed to retrieve less than availableLength bytes.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted, e.g. due to a lack of buffer space or the socket is not connected.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tcpip-rxindication">
<h4>TcpIp_RxIndication<a class="headerlink" href="#tcpip-rxindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">TcpIp_RxIndication</span><span class="p">(</span><span class="n">uint8</span> <span class="n">CtrlIdx</span><span class="p">,</span> <span class="n">Eth_FrameType</span> <span class="n">FrameType</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">IsBroadcast</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">PhysAddrPtr</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">LenByte</span><span class="p">)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack gets an indication and the data of a received frame.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CtrlIdx</p></td>
<td><p>Index of the EthIf controller.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>FrameType</p></td>
<td><p>frame type of received Ethernet frame.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>IsBroadcast</p></td>
<td><p>parameter to indicate a broadcast frame.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PhysAddrPtr</p></td>
<td><p>pointer to Physical source address (MAC address in network byte order) of received Ethernet frame.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>DataPtr</p></td>
<td><p>Pointer to payload of the received Ethernet frame (i.e. Ethernet header is not provided).</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>LenByte</p></td>
<td><p>Length of received data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="tcpip-mainfunction">
<h4>TcpIp_MainFunction<a class="headerlink" href="#tcpip-mainfunction" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">TcpIp_MainFunction</span><span class="p">(</span><span class="n">ApplicationType</span> <span class="n">partitionIndex</span><span class="p">)</span>
</pre></div>
</div>
<p>Schedules the TCP/IP stack.(Entry point for scheduling)</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>partitionIndex</p></td>
<td><p>Index of partition.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id1">
<h4>TcpIp_MainFunction<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">TcpIp_MainFunction</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Schedules the TCP/IP stack.(Entry point for scheduling)</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="tcpip-getsocket">
<h4>TcpIp_GetSocket<a class="headerlink" href="#tcpip-getsocket" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">TcpIp_GetSocket</span><span class="p">(</span><span class="n">TcpIp_DomainType</span> <span class="n">Domain</span><span class="p">,</span> <span class="n">TcpIp_ProtocolType</span> <span class="n">Protocol</span><span class="p">,</span> <span class="c1">#if(1u&lt; TCPIP_SOCKETOWNER_NUMBER) uint8 socketOwnerId, #endif TcpIp_SocketIdType *SocketIdPtr)</span>
</pre></div>
</div>
<p>By this API service the TCP/IP stack is requested to allocate a new socket. Note: Each accepted incoming TCP connection also allocates a socket resource.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>TRUE</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Domain</p></td>
<td><p>IP address family.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Protocol</p></td>
<td><p>Socket protocol as sub-family of parameter type.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>socketOwnerId</p></td>
<td><p>TcpIpSocketOwnerId</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>SocketIdPtr</p></td>
<td><p>Pointer to socket identifier representing the requested socket. This socket identifier must be provided for all further API calls which requires a SocketId. Note: SocketIdPtr is only valid if return value is E_OK.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The request has not been accepted: no free socket.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="configuration">
<h3>配置 Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h3>
<section id="system-scalability-system-scalability-function">
<h4>System Scalability功能 System Scalability Function<a class="headerlink" href="#system-scalability-system-scalability-function" title="Link to this heading">¶</a></h4>
<p>根据配置项TcpIpGeneral-&gt;TcpIpScalabilityClass实现TcpIp功能等级的配置，目前工具固定配置为SC1，不可改。</p>
<p>The configuration of the TcpIp function level is implemented according to the configuration item TcpIpGeneral-&gt;TcpIpScalabilityClass. Currently, the tool fixes the configuration to SC1, which cannot be modified.</p>
<p>因为SC1只支持基于IPv4协议实现的功能，所以关于IPv6的配置(配置时，忽略所有IPv6相关配置项)、API等都不支持。</p>
<p>Since SC1 only supports functions implemented based on the IPv4 protocol, configurations (all IPv6-related configuration items are ignored during configuration), APIs, etc., related to IPv6 are not supported.</p>
</section>
<section id="internet-protocol-version-4-internet-protocol-version-4-function">
<h4>Internet Protocol Version 4功能 Internet Protocol Version 4 Function<a class="headerlink" href="#internet-protocol-version-4-internet-protocol-version-4-function" title="Link to this heading">¶</a></h4>
<figure class="align-center" id="tcpip-tcpipipv4general">
<img alt="../../../_images/image33.png" src="../../../_images/image33.png" />
<figcaption>
<p><span class="caption-text">TcpIpIpV4General</span><a class="headerlink" href="#tcpip-tcpipipv4general" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>该部分的功能主要体现在TcpIpIpV4General的配置Container中，涉及的配置参数及功能如下：</p>
<p>The functions of this part are mainly reflected in the configuration Container of TcpIpIpV4General. The involved configuration parameters and their functions are as follows:</p>
<p>1.TcpIpArpEnabled：是否使能ARP功能；</p>
<p>1.TcpIpArpEnabled: Whether to enable the ARP function;</p>
<p>2.TcpIpAutoIpEnabled：是否使能AUTOIP功能(未实现)；</p>
<p>2.TcpIpAutoIpEnabled: Whether to enable the AUTOIP function (not implemented);</p>
<p>3.TcpIpDhcpClientEnabled：是否使能DHCP客户端功能(未实现)；</p>
<p>3.TcpIpDhcpClientEnabled: Whether to enable the DHCP client function (not implemented);</p>
<p>4.TcpIpIcmpEnabled：是否使能ICMP功能；</p>
<p>4.TcpIpIcmpEnabled: Whether to enable the ICMP function;</p>
<p>5.TcpIpIpV4Enabled：是否使能IPv4功能；</p>
<p>5.TcpIpIpV4Enabled: Whether to enable the IPv4 function;</p>
<p>6.TcpIpLocalAddrIpv4EntriesMax：限制TcpIpLocalAddr配置项(IPv4)的总数目；</p>
<p>6.TcpIpLocalAddrIpv4EntriesMax: Limits the total number of TcpIpLocalAddr configuration items (for IPv4);</p>
<p>7.TcpIpPathMtuDiscoveryEnabled：是否使能MTU发现机制(未实现)。</p>
<p>7.TcpIpPathMtuDiscoveryEnabled: Whether to enable the MTU discovery mechanism (not implemented).</p>
<p>我们根据AUTOSAR配置，转化成lwIP的配置(工具生成lwipopts.h文件)，进而实现功能的可配置性。</p>
<p>We convert the AUTOSAR configuration into the configuration of lwIP (the tool generates the lwipopts.h file), thereby realizing the configurability of functions.</p>
<figure class="align-center" id="tcpip-tcpipipfragmentationconfig">
<img alt="../../../_images/image41.png" src="../../../_images/image41.png" />
<figcaption>
<p><span class="caption-text">TcpIpIpFragmentationConfig</span><a class="headerlink" href="#tcpip-tcpipipfragmentationconfig" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>IPv4：该部分的功能主要体现在IPv4接收数据报的重组功能上，TcpIpIpConfig-&gt;TcpIpIpV4Config-&gt;TcpIpIpFragmentationConfig的配置Container中，涉及的配置参数及功能如下：</p>
<p>IPv4: The functions of this part are mainly reflected in the reassembly function of received IPv4 datagrams, and the configuration Container of TcpIpIpConfig-&gt;TcpIpIpV4Config-&gt;TcpIpIpFragmentationConfig. The involved configuration parameters and their functions are as follows:</p>
<p>1.TcpIpIpFragmentationRxEnabled：是否使能接收重组功能；</p>
<p>1.TcpIpIpFragmentationRxEnabled: Whether to enable the receive reassembly function;</p>
<p>2.TcpIpIpNumFragments：每个IP数据报最多的分片数目(在TcpIpIpFragmentationRxEnabled使能的情况下)；</p>
<p>2.TcpIpIpNumFragments: The maximum number of fragments for each IP datagram (when TcpIpIpFragmentationRxEnabled is enabled);</p>
<p>3.TcpIpIpFragmentationRxEnabled：并行处理多少IP数据报的接收重组(在TcpIpIpFragmentationRxEnabled使能的情况下)；</p>
<p>3.TcpIpIpFragmentationRxEnabled: The number of IP datagrams for which receive reassembly is processed in parallel (when TcpIpIpFragmentationRxEnabled is enabled);</p>
<p>4.TcpIpIpReassTimeout：重组超时时间(在TcpIpIpFragmentationRxEnabled使能的情况下)。</p>
<p>4.TcpIpIpReassTimeout: The reassembly timeout period (when TcpIpIpFragmentationRxEnabled is enabled).</p>
<figure class="align-center" id="tcpip-tcpiparpconfig">
<img alt="../../../_images/image51.png" src="../../../_images/image51.png" />
<figcaption>
<p><span class="caption-text">TcpIpArpConfig</span><a class="headerlink" href="#tcpip-tcpiparpconfig" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>ARP：该部分的功能体现在TcpIpIpConfig-&gt;TcpIpIpV4Config-&gt;TcpIpArpConfig的配置Container中，涉及的配置参数及功能如下：</p>
<p>ARP: The functions of this part are reflected in the configuration Container of TcpIpIpConfig-&gt;TcpIpIpV4Config-&gt;TcpIpArpConfig. The involved configuration parameters and their functions are as follows:</p>
<p>1.TcpIpArpNumGratuitousARPonStartup：当获取到IP地址对外广播自己的&lt;IP地址，MAC地址&gt;，该参数为广播的次数，因基于LwIP实现(固定为1次，不可改配置)；</p>
<p>1.TcpIpArpNumGratuitousARPonStartup: When an IP address is obtained, the &lt;IP address, MAC address&gt; of the host is broadcast to the outside. This parameter specifies the number of broadcasts. Due to the implementation based on LwIP (fixed to 1 time, which cannot be modified in configuration);</p>
<p>2.TcpIpArpPacketQueueEnabled：是否使能ARP在未获取目的MAC地址之前缓存请求发送的IP报；</p>
<p>2.TcpIpArpPacketQueueEnabled: Whether to enable ARP to cache IP packets that request to be sent before obtaining the destination MAC address;</p>
<p>3.TcpIpArpTableEntryTimeout：ARP缓存表(Entry)的生存时间(超时则从缓存表中移除该Entry)；</p>
<p>3.TcpIpArpTableEntryTimeout: The lifetime of an entry in the ARP cache table (the entry will be removed from the cache table when it times out);</p>
<p>4.TcpIpArpTableSizeMax：ARP缓存表的Size(即Entry的数目)。</p>
<p>4.TcpIpArpTableSizeMax: The size of the ARP cache table (i.e., the number of entries).</p>
<figure class="align-center" id="tcpip-tcpipicmpconfig">
<img alt="../../../_images/image61.png" src="../../../_images/image61.png" />
<figcaption>
<p><span class="caption-text">TcpIpIcmpConfig</span><a class="headerlink" href="#tcpip-tcpipicmpconfig" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>ICMP：该部分的功能体现在TcpIpIpConfig-&gt;TcpIpIpV4Config-&gt;TcpIpIcmpConfig的配置Container中，涉及的配置参数及功能如下：</p>
<p>ICMP: The functions of this part are reflected in the configuration Container of TcpIpIpConfig-&gt;TcpIpIpV4Config-&gt;TcpIpIcmpConfig. The involved configuration parameters and their functions are as follows:</p>
<p>1.TcpIpIcmpTtl：ICMP数据报Ttl参数(该参数封装在IP报首部)；</p>
<p>1.TcpIpIcmpTtl: The Ttl parameter of the ICMP datagram (this parameter is encapsulated in the header of the IP packet);</p>
<p>2.TcpIpIcmpMsgHandler(包含参数TcpIpIcmpMsgHandlerHeaderFileName和TcpIpIcmpMsgHandlerName)：主要是配置ICMP报文的接收函数，TcpIp接收到ICMP报文时调用该配置API传递给上层模块。该功能未实现，在工具上对该配置Container进行了限制(无法添加)。</p>
<p>2.TcpIpIcmpMsgHandler (including parameters TcpIpIcmpMsgHandlerHeaderFileName and TcpIpIcmpMsgHandlerName): It is mainly used to configure the receiving function for ICMP messages. When the TcpIp module receives an ICMP message, it calls this configured API to pass the message to the upper-layer module. This function is not implemented, and restrictions have been imposed on this configuration Container in the tool (cannot be added).</p>
<p>3.TcpIp模块除了在lwip代码中实现部分ICMP常用功能，还为上层模块提供ICMPv4数据报发送接口TcpIp_IcmpTransmit。但未实现ICMP数据报上传上层模块的功能(参见配置TcpIpIcmpMsgHandler说明)。</p>
<p>3.In addition to implementing some common ICMP functions in the lwIP code, the TcpIp module also provides the upper-layer module with the ICMPv4 datagram sending interface TcpIp_IcmpTransmit. However, the function of uploading ICMP datagrams to the upper-layer module is not implemented (see the description of configuring TcpIpIcmpMsgHandler).</p>
</section>
<section id="ip-based-protocols-ip-based-protocols-function">
<h4>IP Based Protocols功能 IP Based Protocols Function<a class="headerlink" href="#ip-based-protocols-ip-based-protocols-function" title="Link to this heading">¶</a></h4>
<figure class="align-center" id="tcpip-tcpipaddrassignment">
<img alt="../../../_images/image71.png" src="../../../_images/image71.png" />
<figcaption>
<p><span class="caption-text">TcpIpAddrAssignment</span><a class="headerlink" href="#tcpip-tcpipaddrassignment" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>每个TcpIpLocalAddr配置Container中，主要实现了IP地址的分配机制TcpIpAddrAssignment(考虑到目前标准的不完善以及代码实现的复杂性，暂只支持配置一个IP分配机制)。其中，</p>
<p>In each TcpIpLocalAddr configuration Container, the main function is to implement the IP address assignment mechanism TcpIpAddrAssignment (considering the current imperfection of the standard and the complexity of code implementation, only one IP assignment mechanism can be configured temporarily). Among them,</p>
<p>1.TcpIpAssignmentLifetime用以实现分配永久IP的功能未实现(暂无该需求)；</p>
<p>1.The function of TcpIpAssignmentLifetime for implementing permanent IP assignment is not implemented (no such requirement currently);</p>
<p>2.TcpIpAssignmentMethod项可根据需求选择何种分配方式(DHCP/AUTO-IP/STATIC等)；</p>
<p>2.The TcpIpAssignmentMethod item allows selecting the assignment method (DHCP/AUTO-IP/STATIC, etc.) according to requirements;</p>
<p>3.TcpIpAssignmentPriority分配方式优先级，用于配置了多个TcpIpAddrAssignment时(目前不支持)；</p>
<p>3.TcpIpAssignmentPriority is the priority of the assignment method, which is used when multiple TcpIpAddrAssignment configurations are set (not supported currently);</p>
<p>4.TcpIpAssignmentTrigger用于配置IP分配是自动还是手动方式，自动方式是当调用TcpIp_RequestComMode请求TCPIP_STATE_ONLINE时自动通过配置的IP分配机制请求IP分配，手动方式需要上层模块通过调用TcpIp_RequestIpAddrAssignment，TcpIp_ReleaseIpAddrAssignment来请求IP的分配和释放。</p>
<p>4.TcpIpAssignmentTrigger is used to configure whether IP assignment is automatic or manual. In the automatic mode, when TcpIp_RequestComMode is called to request TCPIP_STATE_ONLINE, IP assignment is automatically requested through the configured IP assignment mechanism. In the manual mode, the upper-layer module needs to call TcpIp_RequestIpAddrAssignment and TcpIp_ReleaseIpAddrAssignment to request IP assignment and release respectively.</p>
<p>当TcpIpAssignmentMethod配置为TCPIP_STATIC方式时，才可选择是否配置TcpIpStaticIpAddressConfig (当TcpIpAssignmentTrigger配置为TCPIP_AUTOMATIC时，必须配置；当配置为TCPIP_MANUAL时，可配可不配，当未配置时，调用TcpIp_RequestIpAddrAssignment请求IP分配时，IP地址参数不能为空)。当IP地址状态改变时，调用Up_LocalIpAddrAssignmentChg通知上层模块。</p>
<p>When TcpIpAssignmentMethod is configured as TCPIP_STATIC, you can choose whether to configure TcpIpStaticIpAddressConfig  (When TcpIpAssignmentTrigger is configured as TCPIP_AUTOMATIC, configuration is mandatory; When configured as TCPIP_MANUAL, configuration is optional. If not configured, the IP address parameter cannot be empty when TcpIp_RequestIpAddrAssignment is called to request IP assignment). When the IP address state changes, Up_LocalIpAddrAssignmentChg is called to notify the upper-layer module.</p>
<figure class="align-center" id="tcpip-tcpipudpconfig">
<img alt="../../../_images/image81.png" src="../../../_images/image81.png" />
<figcaption>
<p><span class="caption-text">TcpIpUdpConfig</span><a class="headerlink" href="#tcpip-tcpipudpconfig" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>UDP的配置参数只有TcpIpUdpTtl，该信息封装在相应IP报的首部。TcpIp为上层模块提供接口TcpIp_UdpTransmit来发送UDP报文，当收到UDP接收报文时，通过调用Up_RxIndication(一般为SoAd_RxIndication)传递给上层。</p>
<p>The only configuration parameter for UDP is TcpIpUdpTtl, and this information is encapsulated in the header of the corresponding IP packet. The TcpIp module provides the interface TcpIp_UdpTransmit for the upper-layer module to send UDP messages. When a UDP receive message is received, it is passed to the upper layer by calling Up_RxIndication (generally SoAd_RxIndication).</p>
<p>TcpIp模块除了为上层模块提供了发送接口TcpIp_TcpTransmit，收到TCP报文通过调用Up_RxIndication(一般为SoAd_RxIndication)传递给上层外，还涉及，</p>
<p>In addition to providing the upper-layer module with the sending interface TcpIp_TcpTransmit, and passing received TCP messages to the upper layer by calling Up_RxIndication (generally SoAd_RxIndication), the TcpIp module also involves the following:</p>
<p>1.作为客户端的链接接口TcpIp_TcpConnect</p>
<p>1.TcpIp_TcpConnect: The connection interface used as a client;</p>
<p>2.作为服务端进入监听模式(等待客户端发起链接请求)接口TcpIp_TcpListen</p>
<p>2.TcpIp_TcpListen: The interface for the server to enter the listening mode (waiting for connection requests initiated by the client);</p>
<p>3.增大接收窗口的接口TcpIp_TcpReceived(上层模块接收到数据需要调用该接口来释放TcpIp模块中TCP的接收窗口)</p>
<p>3.TcpIp_TcpReceived: The interface for increasing the receive window (the upper-layer module needs to call this interface to release the TCP receive window in the TcpIp module after receiving data).</p>
<figure class="align-center" id="tcpip-tcpiptcpconfig">
<img alt="../../../_images/image9.png" src="../../../_images/image9.png" />
<figcaption>
<p><span class="caption-text">TcpIpTcpConfig</span><a class="headerlink" href="#tcpip-tcpiptcpconfig" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>通过配置TcpIpTcpConfig(Container)的各个配置参数来说明TCP的功能实现：</p>
<p>The functional implementation of TCP is illustrated by configuring each configuration parameter in TcpIpTcpConfig (Container):</p>
<p>1.TcpIpTcpCongestionAvoidanceEnabled：拥塞避免功能(固定使能)；</p>
<p>1.TcpIpTcpCongestionAvoidanceEnabled: Congestion avoidance function (enabled by default);</p>
<p>2.TcpIpTcpFastRecoveryEnabled：快速恢复功能(固定使能)；</p>
<p>2.TcpIpTcpFastRecoveryEnabled: Fast recovery function (enabled by default);</p>
<p>3.TcpIpTcpFastRetransmitEnabled：快速重传功能(固定使能)；</p>
<p>3.TcpIpTcpFastRetransmitEnabled: Fast retransmission function (enabled by default);</p>
<p>4.TcpIpTcpFinWait2Timeout：客户端发送FIN并收到服务端ACK后进入FIN_WAIT_2状态，在该状态下等待服务器端发送FIN的时间；</p>
<p>4.TcpIpTcpFinWait2Timeout: After the client sends a FIN and receives an ACK from the server, it enters the FIN_WAIT_2 state. This parameter is the time to wait for the server to send a FIN in this state;</p>
<p>5.TcpIpTcpKeepAliveEnabled：是否使能TCP保活机制；</p>
<p>5.TcpIpTcpKeepAliveEnabled: Whether to enable the TCP keep-alive mechanism;</p>
<p>6.TcpIpTcpKeepAliveInterval：(在TcpIpTcpKeepAliveEnabled使能前提下才有效)保活探测报文的发送间隔时间；</p>
<p>6.TcpIpTcpKeepAliveInterval: (Effective only when TcpIpTcpKeepAliveEnabled is enabled) The interval for sending keep-alive probe messages;</p>
<p>7.TcpIpTcpKeepAliveProbesMax：(在TcpIpTcpKeepAliveEnabled使能前提下才有效)保活探测报文的发送最大次数；</p>
<p>7.TcpIpTcpKeepAliveProbesMax: (Effective only when TcpIpTcpKeepAliveEnabled is enabled) The maximum number of keep-alive probe messages to be sent;</p>
<p>8.TcpIpTcpKeepAliveTime：(在TcpIpTcpKeepAliveEnabled使能前提下才有效)TCP最后一次通信，与第一次保活探测报文发送的时间间隔；</p>
<p>8.TcpIpTcpKeepAliveTime: (Effective only when TcpIpTcpKeepAliveEnabled is enabled) The time interval between the last TCP communication and the first keep-alive probe message;</p>
<p>9.TcpIpTcpMaxRtx：TCP报文最大重传次数(LwIP最大支持13次)；</p>
<p>9.TcpIpTcpMaxRtx: The maximum number of retransmissions for TCP messages (lwIP supports a maximum of 13 times);</p>
<p>10.TcpIpTcpMsl：TCP客户端在TIME_WAIT状态下需要等待2×MSL时间才能切换到CLOSED状态；</p>
<p>10.TcpIpTcpMsl: The TCP client needs to wait for 2×MSL time in the TIME_WAIT state before switching to the CLOSED state;</p>
<p>11.TcpIpTcpNagleEnabled：糊涂窗口避免功能(固定使能)；</p>
<p>11.TcpIpTcpNagleEnabled: Silly window avoidance function (enabled by default);</p>
<p>12.TcpIpTcpReceiveWindowMax：接收窗口最大值；</p>
<p>12.TcpIpTcpReceiveWindowMax: The maximum value of the receive window;</p>
<p>13.TcpIpTcpRetransmissionTimeout：超时重传的超时时间，不支持(LWIP中重传超时RTT是根据网络状况动态计算的，不是固定配置值)；</p>
<p>13.TcpIpTcpRetransmissionTimeout: The timeout period for timeout retransmission (not supported; the retransmission timeout RTT in LWIP is dynamically calculated based on network conditions, not a fixed configuration value);</p>
<p>14.TcpIpTcpSlowStartEnabled：慢启动功能(固定使能)；</p>
<p>14.TcpIpTcpSlowStartEnabled: Slow start function (enabled by default);</p>
<p>15.TcpIpTcpSynMaxRtx：链接请求重传最大次数(LwIP最大支持13次)；</p>
<p>15.TcpIpTcpSynMaxRtx: The maximum number of retransmissions for connection requests (lwIP supports a maximum of 13 times);</p>
<p>16.TcpIpTcpSynReceivedTimeout：服务端收到SYN后，回复SYN/ACK，进入到SYN_RCVD状态，在该状态等待客户端回复ACK的时间；</p>
<p>16.TcpIpTcpSynReceivedTimeout: After the server receives a SYN, it replies with a SYN/ACK and enters the SYN_RCVD state. This parameter is the time to wait for the client to reply with an ACK in this state;</p>
<p>17.TcpIpTcpTtl：该信息封装在相应IP报首部。</p>
<p>17.TcpIpTcpTtl: This information is encapsulated in the header of the corresponding IP packet.</p>
</section>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../StbM/StbM.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>StbM
    </a>
    <a class="float-right" href="../UdpNm/UdpNm.html" title="Next">
        UdpNm <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">TcpIp</a><ul>
<li><a class="reference internal" href="#document-information">文档信息 Document Information</a><ul>
<li><a class="reference internal" href="#version-history">版本历史 Version History</a></li>
<li><a class="reference internal" href="#references">参考文档 References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terms-and-abbreviations">术语与简写 Terms and Abbreviations</a><ul>
<li><a class="reference internal" href="#abbreviations">简写 Abbreviations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">简介 Introduction</a></li>
<li><a class="reference internal" href="#functional-description">功能描述 Functional Description</a><ul>
<li><a class="reference internal" href="#system-scalability-introduction-to-system-scalability-function">System Scalability功能介绍 Introduction to System Scalability Function</a></li>
<li><a class="reference internal" href="#internet-protocol-version-4-introduction-to-internet-protocol-version-4-function">Internet Protocol Version 4功能介绍 Introduction to Internet Protocol Version 4 Function</a></li>
<li><a class="reference internal" href="#ip-based-protocols-introduction-to-ip-based-protocols-function">IP Based Protocols功能介绍 Introduction to IP Based Protocols Function</a></li>
<li><a class="reference internal" href="#tcp-ip-stack-state-handling-introduction-to-tcp-ip-stack-state-handling-function">TCP/IP Stack state handling功能介绍 Introduction to TCP/IP Stack State Handling Function</a></li>
<li><a class="reference internal" href="#features">特性 Features</a><ul>
<li><a class="reference internal" href="#support-variant-function">支持变体功能 Support variant function</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deviation">偏差 Deviation</a></li>
<li><a class="reference internal" href="#extension">扩展 Extension</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration">集成 Integration</a><ul>
<li><a class="reference internal" href="#file-list">文件列表 File List</a><ul>
<li><a class="reference internal" href="#static-files">静态文件 Static Files</a></li>
<li><a class="reference internal" href="#dynamic-files">动态文件 Dynamic Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">错误处理 Error Handling</a><ul>
<li><a class="reference internal" href="#development-errors">开发错误 Development Errors</a></li>
<li><a class="reference internal" href="#product-errors">产品错误 Product Errors</a></li>
<li><a class="reference internal" href="#runtime-errors">运行时错误 Runtime Errors</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interface-description">接口描述 Interface Description</a><ul>
<li><a class="reference internal" href="#type-definitions">类型定义 Type Definitions</a></li>
<li><a class="reference internal" href="#services">提供的服务 Services</a><ul>
<li><a class="reference internal" href="#tcpip-init">TcpIp_Init</a></li>
<li><a class="reference internal" href="#tcpip-getversioninfo">TcpIp_GetVersionInfo</a></li>
<li><a class="reference internal" href="#tcpip-close">TcpIp_Close</a></li>
<li><a class="reference internal" href="#tcpip-bind">TcpIp_Bind</a></li>
<li><a class="reference internal" href="#tcpip-tcpconnect">TcpIp_TcpConnect</a></li>
<li><a class="reference internal" href="#tcpip-tcplisten">TcpIp_TcpListen</a></li>
<li><a class="reference internal" href="#tcpip-tcpreceived">TcpIp_TcpReceived</a></li>
<li><a class="reference internal" href="#tcpip-requestcommode">TcpIp_RequestComMode</a></li>
<li><a class="reference internal" href="#tcpip-requestipaddrassignment">TcpIp_RequestIpAddrAssignment</a></li>
<li><a class="reference internal" href="#tcpip-releaseipaddrassignment">TcpIp_ReleaseIpAddrAssignment</a></li>
<li><a class="reference internal" href="#tcpip-resetipassignment">TcpIp_ResetIpAssignment</a></li>
<li><a class="reference internal" href="#tcpip-icmptransmit">TcpIp_IcmpTransmit</a></li>
<li><a class="reference internal" href="#tcpip-icmpv6transmit">TcpIp_IcmpV6Transmit</a></li>
<li><a class="reference internal" href="#tcpip-dhcpreadoption">TcpIp_DhcpReadOption</a></li>
<li><a class="reference internal" href="#tcpip-dhcpv6readoption">TcpIp_DhcpV6ReadOption</a></li>
<li><a class="reference internal" href="#tcpip-dhcpwriteoption">TcpIp_DhcpWriteOption</a></li>
<li><a class="reference internal" href="#tcpip-dhcpv6writeoption">TcpIp_DhcpV6WriteOption</a></li>
<li><a class="reference internal" href="#tcpip-changeparameter">TcpIp_ChangeParameter</a></li>
<li><a class="reference internal" href="#tcpip-getipaddr">TcpIp_GetIpAddr</a></li>
<li><a class="reference internal" href="#tcpip-getphysaddr">TcpIp_GetPhysAddr</a></li>
<li><a class="reference internal" href="#tcpip-getremotephysaddr">TcpIp_GetRemotePhysAddr</a></li>
<li><a class="reference internal" href="#tcpip-getctrlidx">TcpIp_GetCtrlIdx</a></li>
<li><a class="reference internal" href="#tcpip-getarpcacheentries">TcpIp_GetArpCacheEntries</a></li>
<li><a class="reference internal" href="#tcpip-getndpcacheentries">TcpIp_GetNdpCacheEntries</a></li>
<li><a class="reference internal" href="#tcpip-getandresetmeasurementdata">TcpIp_GetAndResetMeasurementData</a></li>
<li><a class="reference internal" href="#tcpip-isconnectionready">TcpIp_IsConnectionReady</a></li>
<li><a class="reference internal" href="#tcpip-udptransmit">TcpIp_UdpTransmit</a></li>
<li><a class="reference internal" href="#tcpip-tcptransmit">TcpIp_TcpTransmit</a></li>
<li><a class="reference internal" href="#tcpip-rxindication">TcpIp_RxIndication</a></li>
<li><a class="reference internal" href="#tcpip-mainfunction">TcpIp_MainFunction</a></li>
<li><a class="reference internal" href="#id1">TcpIp_MainFunction</a></li>
<li><a class="reference internal" href="#tcpip-getsocket">TcpIp_GetSocket</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">配置 Configuration</a><ul>
<li><a class="reference internal" href="#system-scalability-system-scalability-function">System Scalability功能 System Scalability Function</a></li>
<li><a class="reference internal" href="#internet-protocol-version-4-internet-protocol-version-4-function">Internet Protocol Version 4功能 Internet Protocol Version 4 Function</a></li>
<li><a class="reference internal" href="#ip-based-protocols-ip-based-protocols-function">IP Based Protocols功能 IP Based Protocols Function</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>UdpNm &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="WdgIf" href="../WdgIf/WdgIf.html" />
            <link rel="prev" title="TcpIp" href="../TcpIp/TcpIp.html" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Os/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">UdpNm</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
        <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/UdpNm/UdpNm.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="udpnm">
<h1>UdpNm<a class="headerlink" href="#udpnm" title="Link to this heading">¶</a></h1>
<section id="document-information">
<h2>文档信息 Document Information<a class="headerlink" href="#document-information" title="Link to this heading">¶</a></h2>
<section id="version-history">
<h3>版本历史 Version History<a class="headerlink" href="#version-history" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>日期(Date)</p></th>
<th class="head"><p>作者(Author)</p></th>
<th class="head"><p>版本(Version)</p></th>
<th class="head"><p>状态(Status)</p></th>
<th class="head"><p>说明(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2025/2/22</p></td>
<td><p>caihong.liu</p></td>
<td><p>V0.1</p></td>
<td><p>发布(Release)</p></td>
<td><p>首次发布(First release)</p></td>
</tr>
<tr class="row-odd"><td><p>2025/04/04</p></td>
<td><p>caihong.liu</p></td>
<td><p>V1.0</p></td>
<td><p>发布(Release)</p></td>
<td><p>正式发布(Official release)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="references">
<h3>参考文档 References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号(Number)</p></th>
<th class="head"><p>分类(Classification)</p></th>
<th class="head"><p>标题(Title)</p></th>
<th class="head"><p>版本(Version)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_FO_PRS_NetworkManagementProtocol.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SWS_NetworkManagementInterface.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_FO_RS_NetworkManagement.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_TPS_ECUConfiguration.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terms-and-abbreviations">
<h2>术语与简写 Terms and Abbreviations<a class="headerlink" href="#terms-and-abbreviations" title="Link to this heading">¶</a></h2>
<section id="terms">
<h3>术语 Terms<a class="headerlink" href="#terms" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>术语(Terms)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NM PDU</p></td>
<td><p>指数据包中传输的有效载荷，包括NM用户数据以及控制位向量和源节点标识符。(The payload transmitted within a data packet, which includes NM user data, the Control Bit Vector, and the Source Node Identifier.)</p></td>
</tr>
<tr class="row-odd"><td><p>NM Packet</p></td>
<td><p>指一个以太网帧：除了有效载荷部分的网管传输数据( PDU )外，还包含一个IP和一个UDP报头。(An Ethernet frame that, in addition to the network management transmission data (PDU) of the payload section, also contains an IP and a UDP header.)</p></td>
</tr>
<tr class="row-even"><td><p>NM Message</p></td>
<td><p>在NM算法的方法论内转移的任何单一信息项。(Any single item of information transferred within the methodology of the NM algorithm.)</p></td>
</tr>
<tr class="row-odd"><td><p>Bus-Off state</p></td>
<td><p>指没有电缆连接到以太网HW的情况。(The state where no cable is connected to the Ethernet HW.)</p></td>
</tr>
<tr class="row-even"><td><p>PDU transmission ability is disabled</p></td>
<td><p>这意味着NM-PDU传输已经被UdpNm_DisableCommunication服务禁用。(This means that NM-PDU transmission has been disabled by the UdpNm_DisableCommunication service.)</p></td>
</tr>
<tr class="row-odd"><td><p>Repeat Message Request Bit Indication</p></td>
<td><p>UdpNm_SoAdIfRxIndication在接收到的NM-PDU的CBV字节中找到Repeat Message Request比特位为TRUE。(UdpNm_SoAdIfRxIndication finds the Repeat Message Request bit to be TRUE in the CBV byte of a received NM-PDU.)</p></td>
</tr>
<tr class="row-even"><td><p>Top-level PNC coordinator</p></td>
<td><p>ECU作为顶层的PNC协调器，负责在所有分配的通道上进行主动协调的PNC。该ECU具有启用的PNC网关功能。顶层PNC协调器触发这些PNC的同步PNC停机，如果网络中没有其他ECU请求它们，如果同步PNC停机被启用。(An ECU acting as a top-level PNC coordinator, which is responsible for the active coordination of PNC on all its assigned channels. This ECU has the PNC gateway function enabled. The top-level PNC coordinator triggers a synchronized PNC shutdown for these PNCs if no other ECU in the network requests them and if synchronized PNC shutdown is enabled.)</p></td>
</tr>
<tr class="row-odd"><td><p>Intermediate PNC coordinator</p></td>
<td><p>一个ECU作为中间的PNC协调器，为那些在至少一个通道上被动协调的PNC提供协调。该ECU具有启用的PNC网关功能。如果同步PNC关断被启用，中间PNC协调器将同步PNC关断转发给被动协调的PNC的主动协调通道。(An ECU acting as an intermediate PNC coordinator, which provides coordination for those PNCs that are passively coordinated on at least one channel. This ECU has the PNC gateway function enabled. If synchronized PNC shutdown is enabled, the intermediate PNC coordinator will forward the synchronized PNC shutdown to the actively coordinating channels of the passively coordinated PNCs.)</p></td>
</tr>
<tr class="row-even"><td><p>PNC leaf node</p></td>
<td><p>一个PNC叶子节点是一个ECU，它在网络中完全不充当PNC协调器。它与通常的NM消息一样处理PN关机消息。(A PNC leaf node is an ECU that does not act as a PNC coordinator at all within the network. It handles PN shutdown messages like regular NM messages.)</p></td>
</tr>
<tr class="row-odd"><td><p>PN shutdown message</p></td>
<td><p>顶层PNC协调器发送PN关断消息，以指示整个PN拓扑的同步PNC关断。一个PN关断消息作为NM消息，在控制比特向量中具有PNSR位，对于一个同步关断设置为” 1 “表示的所有PNC。(A PN shutdown message is sent by a top-level PNC coordinator to indicate a synchronized PNC shutdown for the entire PN topology. A PN shutdown message is an NM message with the PNSR bit in the Control Bit Vector set to “1” for all PNCs for which a synchronized shutdown is indicated.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="abbreviations">
<h3>简写 Abbreviations<a class="headerlink" href="#abbreviations" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 33.3%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>简写(Abbreviation)</p></th>
<th class="head"><p>全称(Full name)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>API</p></td>
<td><p>Application Programming Interface</p></td>
<td><p>应用程序接口</p></td>
</tr>
<tr class="row-odd"><td><p>EthIf</p></td>
<td><p>Ethernet Interface</p></td>
<td><p>以太网接口</p></td>
</tr>
<tr class="row-even"><td><p>UdpNm</p></td>
<td><p>UDP Network Management</p></td>
<td><p>Udp 网络管理模块缩写</p></td>
</tr>
<tr class="row-odd"><td><p>CBV</p></td>
<td><p>Control Bit Vector</p></td>
<td><p>NM-PDU中控制位向量</p></td>
</tr>
<tr class="row-even"><td><p>CWU</p></td>
<td><p>Car Wakeup</p></td>
<td><p>车辆唤醒</p></td>
</tr>
<tr class="row-odd"><td><p>SduR</p></td>
<td><p>Service Data Unit</p></td>
<td><p>服务数据单元</p></td>
</tr>
<tr class="row-even"><td><p>NM</p></td>
<td><p>Network Management</p></td>
<td><p>网络管理</p></td>
</tr>
<tr class="row-odd"><td><p>PNC</p></td>
<td><p>Partial Network Cluster</p></td>
<td><p>部分网络簇</p></td>
</tr>
<tr class="row-even"><td><p>PNI</p></td>
<td><p>Partial Network Information</p></td>
<td><p>部分网络信息</p></td>
</tr>
<tr class="row-odd"><td><p>PNL</p></td>
<td><p>Partial Network Learning</p></td>
<td><p>部分网络学习</p></td>
</tr>
<tr class="row-even"><td><p>SNI</p></td>
<td><p>Source Node Identifier</p></td>
<td><p>源节点标识符</p></td>
</tr>
<tr class="row-odd"><td><p>UDP</p></td>
<td><p>User Datagram Protocol</p></td>
<td><p>用户数据包协议</p></td>
</tr>
<tr class="row-even"><td><p>TCP/IP</p></td>
<td><p>A family of communication protocols used in computer networks</p></td>
<td><p>计算机网络中使用的一簇通信协议</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="introduction">
<h2>简介 Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>UdpNm模块的核心功能是协调网络正常运行和总线睡眠模式之间的转换，除此之外，还提供了可选功能，例如检测当前节点或检测其他所有节点是否准备休眠等。</p>
<p>The core function of the UdpNm module is to coordinate the transition between normal network running and bus-sleep mode. In addition, it provides optional functions, such as detecting whether the local node or all other nodes are ready to sleep.</p>
<p>UdpNm提供网络管理接口(Nm)和TCP/IP协议栈之间的适配。UdpNm通过调用SoAd模块的发送API来传输数据，并提供接收API给SoAd用于接收下层网络管理报文。Nm模块调用UdpNm模块API来更改UdpNm的当前状态机状态，UdpNm的状态机模式切换需要通知给Nm模块。</p>
<p>UdpNm provides the adaptation between the Network Management interface (Nm) and the TCP/IP protocol stack. UdpNm transmits data by calling the transmission APIs of the SoAd module and provides reception APIs for SoAd to receive network management messages from the lower layers. The Nm module calls the APIs of the UdpNm module to change the current state machine state of UdpNm, and state machine mode switches in the UdpNm module need to be notified to the Nm module.</p>
<figure class="align-center" id="id3">
<img alt="Autosar通信栈 (Autosar Communication Stack)" src="../../../_images/ComStack.png" />
<figcaption>
<p><span class="caption-text">Autosar通信栈 (Autosar Communication Stack)</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="functional-description">
<h2>功能描述 Functional Description<a class="headerlink" href="#functional-description" title="Link to this heading">¶</a></h2>
<section id="features">
<h3>特性 Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h3>
<p>AUTOSAR UdpNm基于分散的直接网络管理策略，这意味着每个网络节点仅根据在通信系统内接收和/或发送报文，执行自给自足的活动。</p>
<p>AUTOSAR UdpNm is based on a decentralized direct network management strategy, which means that each network node performs self-sufficient activities based solely on the messages it receives and/or transmits within the communication system.</p>
<p>AUTOSAR UdpNm协调算法基于周期性的NM数据包，集群中的所有节点都通过广播传输接收这些数据包。接收到NM数据包表明发送节点要保持NM集群处于唤醒状态。如果任何节点准备好进入总线睡眠模式，它将停止发送NM数据包，但是只要接收到来自其他节点的NM数据包，它就会推迟过渡到总线睡眠模式。如果在专用计时器超时前都未接收到NM数据包，则每个节点都会启动到总线休眠模式的转换。UdpNm通过状态机切换和各状态定时器管理来完成协调算法</p>
<p>The AUTOSAR UdpNm coordination algorithm is based on periodic NM packets, which are received via broadcast by all nodes in the cluster. The reception of an NM packet indicates that the sending node wants to keep the NM cluster awake. If any node is ready to enter the bus-sleep mode, it stops sending NM packets but postpones the transition to bus-sleep mode as long as it receives NM packets from other nodes. If no NM packets are received before a dedicated timer expires, each node initiates the transition to the bus-sleep mode. UdpNm accomplishes this coordination algorithm through state machine switches and the management of various state timers.</p>
<section id="channel-state-management-function">
<h4>通道状态管理功能 Channel State Management Function<a class="headerlink" href="#channel-state-management-function" title="Link to this heading">¶</a></h4>
<p>从网络管理集群中单个节点的角度来看，AUTOSAR UdpNm状态机包含算法所需的状态、切换和触发。通道的状态切换在触发切换后的下一个主函数中处理，且每当模式切换完成后通过API将状态通知到上层节点(NmIf)。</p>
<p>From the perspective of a single node in the network management cluster, the AUTOSAR UdpNm state machine contains the states, switches, and triggers required by the algorithm. Channel state switches are processed in the next main function after a switch is triggered, and whenever a mode switch is completed, the state is notified to the upper layer module (NmIf) via an API.</p>
<p>AUTOSAR UdpNm状态机包含三种操作模式(Mode)：</p>
<p>The AUTOSAR UdpNm state machine consists of three operating modes:</p>
<ul class="simple">
<li><p>Network Mode(网络模式)</p></li>
<li><p>Prepare Bus-Sleep Mode(总线预睡眠模式)</p></li>
<li><p>Bus-Sleep Mode(总线睡眠模式)</p></li>
</ul>
<figure class="align-center" id="id4">
<img alt="UdpNmStackMachine" src="../../../_images/UdpNmStateMachine.png" />
<figcaption>
<p><span class="caption-text">UdpNm Stack Machine</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="network-mode">
<h5>网络模式 Network Mode<a class="headerlink" href="#network-mode" title="Link to this heading">¶</a></h5>
<p>网络模式包含以下三个子状态(State)：</p>
<p>The Network Mode contains the following three sub-states:</p>
<ul class="simple">
<li><p>Repeat Message State(重复报文状态)</p></li>
<li><p>Normal Operation State(正常运行状态)</p></li>
<li><p>Ready Sleep State(准备睡眠状态)</p></li>
</ul>
<section id="repeat-message-state">
<h6>重复报文状态 Repeat Message State<a class="headerlink" href="#repeat-message-state" title="Link to this heading">¶</a></h6>
<p>当节点配置为Passive Mode的节点，意味着该节点只能接受报文而不能传输任何报文，关于Passive Mode具体的将在下面章节中进行说明。</p>
<p>When a node is configured in Passive Mode, it means that the node can only receive messages and cannot transmit any messages. Passive Mode will be explained in more detail in a later section.</p>
<p>对于非Passive Mode的节点，Repeat Message State可确保从Bus-Sleep或Prepare Bus-Sleep到Network Mode的任何过渡对于网络上的其他节点都是可见的。此外，它确保所有节点在UdpNmRepeatMessageTime(配置参数)内保持活动状态。当UdpNmRepeatMessageTime配置为0，表示未配置Repeat Message State。这意味着Repeat Message State是瞬态的，在进入后立即离开，因此无法保证启动稳定性，并且无法执行节点检测过程。当UdpNmRepeatMessageTime超时后，节点将离开Repeat Message State而切至其他状态。若当前网络状态为请求，切换到Normal Operation State，若当前网络状态为释放，切换到Ready Sleep State。</p>
<p>For nodes not in Passive Mode, the Repeat Message State ensures that any transition from Bus-Sleep or Prepare Bus-Sleep to Network Mode is visible to other nodes on the network. Furthermore, it ensures that all nodes remain active within the UdpNmRepeatMessageTime (a configuration parameter). If UdpNmRepeatMessageTime is configured to 0, it indicates that the Repeat Message State is not configured. This means that the Repeat Message State is transient and is exited immediately upon entry. Consequently, startup stability cannot be guaranteed, and the node detection procedure cannot be performed. When UdpNmRepeatMessageTime expires, the node will leave the Repeat Message State and transition to another state. If the current network state is “requested”, it switches to the Normal Operation State. If the current network state is “released”, it switches to the Ready Sleep State.</p>
<p>当非Passive Mode的节点从Bus-Sleep Mode, Prepare-Bus-Sleep Mode，Normal Operation State或Ready Sleep State进入Repeat Message State时，传输功能应该被重启，为了防止总线数据爆发，降低负载，每次进入Repeat Message State时，都要延迟UdpNmMsgCycleOffset(配置参数)段时间后，再开始传输数据，若配置UdpNmImmediateNmTransmissions并且网络被请求则不需要延迟UdpNmMsgCycleOffset时间。</p>
<p>When a non-Passive Mode node enters the Repeat Message State from Bus-Sleep Mode, Prepare-Bus-Sleep Mode, Normal Operation State, or Ready Sleep State, the transmission function shall be restarted. To prevent a burst of data on the bus and to reduce the load, a delay of UdpNmMsgCycleOffset (a configuration parameter) is introduced each time the Repeat Message State is entered before data transmission begins. However, if UdpNmImmediateNmTransmissions is configured and the network is requested, the UdpNmMsgCycleOffset delay is not necessary.</p>
</section>
<section id="normal-operation-state">
<h6>正常运行状态 Normal Operation State<a class="headerlink" href="#normal-operation-state" title="Link to this heading">¶</a></h6>
<p>Normal Operation State可确保只要需要网络功能，任何节点都可以使NM集群保持唤醒状态。当处于Normal Operation State，节点按照UdpNmMsgCycleTime周期发送报文，当网络释放后，UdpNm进入Ready Sleep state。</p>
<p>The Normal Operation State ensures that any node can keep the NM cluster awake as long as network functionality is required. While in the Normal Operation State, the node sends messages periodically according to UdpNmMsgCycleTime. When the network is released, UdpNm enters the Ready Sleep state.</p>
</section>
<section id="ready-sleep-state">
<h6>准备睡眠状态 Ready Sleep State<a class="headerlink" href="#ready-sleep-state" title="Link to this heading">¶</a></h6>
<p>Ready Sleep State可确保NM群集中的任何节点都在等待过渡到Prepare Bus-Sleep Mode。</p>
<p>The Ready Sleep State ensures that any node in the NM cluster is waiting to transition to the Prepare Bus-Sleep Mode.</p>
<p>当进入Ready Sleep State，本节点就不再传输数据。当节点接收到其他节点传输的报文时，会将NM-Timeout定时器重置，当NM-Timeout定时器超时且处于Ready Sleep State时，网络管理进入Prepare Bus-Sleep Mode。其中NM-Timeout定时器的时间是由UdpNmTimeoutTime(配置参数)决定的。</p>
<p>Upon entering the Ready Sleep State, the local node stops transmitting data. When the node receives a message transmitted by another node, it resets the NM-Timeout timer. When the NM-Timeout timer expires and the node is in the Ready Sleep State, the network management enters the Prepare Bus-Sleep Mode. The duration of the NM-Timeout timer is determined by UdpNmTimeoutTime (a configuration parameter).</p>
</section>
</section>
<section id="prepare-bus-sleep-mode">
<h5>总线预睡眠模式 Prepare Bus-Sleep Mode<a class="headerlink" href="#prepare-bus-sleep-mode" title="Link to this heading">¶</a></h5>
<p>Prepare Bus Sleep state目的是确保所有节点都有时间在进入总线休眠状态之前停止其网络活动，使总线活动平静下来，最后在“准备总线睡眠模式”下总线上没有任何活动。</p>
<p>The purpose of the Prepare Bus Sleep state is to ensure that all nodes have time to stop their network activities before entering the bus-sleep state, allowing bus activity to quiet down. Ultimately, there shall be no activity on the bus in the “Prepare Bus-Sleep Mode”.</p>
<p>当本节点进入Prepare Bus-Sleep Mode，UdpNmWaitBusSleepTime(配置参数)定时器被启动，当UdpNmWaitBusSleepTime定时器超时，当前状态将由Prepare Bus-Sleep Mode切换至Bus-Sleep Mode。</p>
<p>When the local node enters the Prepare Bus-Sleep Mode, the UdpNmWaitBusSleepTime (a configuration parameter) timer is started. When the UdpNmWaitBusSleepTime timer expires, the current state switches from Prepare Bus-Sleep Mode to Bus-Sleep Mode.</p>
<p>如果在Prepare Bus-Sleep Mode接收到其他节点传输的网络管理报文时，当前UdpNm状态将由Prepare Bus-Sleep Mode切换至Network Mode， 默认情况下，将进入Repeat Message State。</p>
<p>If a network management message from another node is received in the Prepare Bus-Sleep Mode, the current UdpNm state will switch from Prepare Bus-Sleep Mode to Network Mode, and by default, will enter the Repeat Message State.</p>
<p>如果在Prepare Bus-Sleep Mode接收到网络请求时，当前状态将由Prepare Bus-Sleep Mode切换至Network Mode， 默认情况下，将进入Repeat Message State。如果UdpNmImmediateRestartEnabled(配置参数)被设置为TRUE，那么在这种情况下会立刻触发一次传输，这样做的理由是：集群中的其他节点仍处于Prepare Bus-Sleep Mode，在这种特殊情况下，应避免过渡到Bus-Sleep Mode，并应尽快恢复总线通信。由于UdpNm中网络管理PDU的传输偏移导致，处于Repeat Message State的第一个网络管理PDU的传输可能会大大延迟。为了避免延迟重新启动网络可以立即请求发送网络管理PDU。</p>
<p>If a network request is received in the Prepare Bus-Sleep Mode, the current state will switch from Prepare Bus-Sleep Mode to Network Mode, and by default, will enter the Repeat Message State. If UdpNmImmediateRestartEnabled (a configuration parameter) is set to TRUE, a transmission will be triggered immediately in this case. The rationale for this is that other nodes in the cluster are still in the Prepare Bus-Sleep Mode, and in this specific situation, the transition to Bus-Sleep Mode shall be avoided, and bus communication shall be restored as quickly as possible. Due to the transmission offset of the network management PDU in UdpNm, the transmission of the first network management PDU in the Repeat Message State can be significantly delayed.  To avoid a delayed network restart, a request to send the network management PDU can be made immediately.</p>
</section>
<section id="bus-sleep-mode">
<h5>总线睡眠模式 Bus-Sleep Mode<a class="headerlink" href="#bus-sleep-mode" title="Link to this heading">¶</a></h5>
<p>Bus-Sleep state的目的是在不交换任何消息时降低节点的功耗。将通信控制器切换到睡眠模式，激活相应的唤醒机制，最后将功耗降低到总线睡眠模式下的适当水平。</p>
<p>The purpose of the Bus-Sleep state is to reduce the power consumption of the node when no messages are being exchanged. This is achieved by switching the communication controller to a sleep mode, activating the appropriate wake-up mechanisms, and finally reducing power consumption to a level suitable for the bus-sleep mode.</p>
<p>当UdpNm处于Bus-Sleep Mode接收到网络管理报文时，此时UdpNm不会切换至Network Mode，而是通知Nm模块，由上层模块做决策。</p>
<p>When UdpNm is in Bus-Sleep Mode and receives a network management message, it does not switch to Network Mode. Instead, it notifies the Nm module, and the upper-layer module makes the decision.</p>
<p>当UdpNm处于Bus-Sleep Mode接收到被动请求或网络请求时，当前状态将由Bus-Sleep Mode切换至Network Mode， 默认情况下，将进入Repeat Message State。</p>
<p>When UdpNm is in Bus-Sleep Mode and receives a passive request or a network request, the current state switches from Bus-Sleep Mode to Network Mode, and by default, will enter the Repeat Message State.</p>
</section>
</section>
<section id="autosar-nm-autosar-nm-message-format">
<h4>AUTOSAR NM 报文格式 AUTOSAR NM Message Format<a class="headerlink" href="#autosar-nm-autosar-nm-message-format" title="Link to this heading">¶</a></h4>
<p>AUTOSAR NM 报文有特定的格式要求，NM报文总长度视总线特性而定，受总线MTU限制。报文数据段格式如图：</p>
<p>AUTOSAR NM messages have a specific format requirement. The total length of an NM message depends on the bus characteristics and is limited by the bus MTU. The format of the message data segment is as follows:</p>
<figure class="align-center" id="id5">
<img alt="Nm报文格式图(Nm Message Format Diagram)" src="../../../_images/NM_message_layout_example.png" />
<figcaption>
<p><span class="caption-text">NM message layout example</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>1.Control Bit Vector(CBV)：长度为一字节的可选字段，根据配置可以处于NM报文第一、二字节或者不使用。FlexRay总线仅可处于第一字节或不使用。该字节信息如下图</p>
<p>1.Control Bit Vector (CBV): An optional one-byte field that, depending on the configuration, can be located in the first or second byte of the NM message, or not used at all. For the FlexRay bus, it can only be in the first byte or not used. This byte contains information as shown in the figure below.</p>
<figure class="align-center" id="id6">
<img alt="CBV排版图(CBV Layout Diagram)" src="../../../_images/CBV_layout.png" />
<figcaption>
<p><span class="caption-text">CBV layout</span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>2.Source Node ID (SNI)：长度为一字节的可选字段，根据配置可以处于NM报文第一、二字节或者不使用。FlexRay总线仅可处于第二字节或不使用。该字节数据根据通道配置决定。</p>
<p>2.Source Node ID (SNI): An optional one-byte field that, depending on the configuration, can be located in the first or second byte of the NM message, or not used at all. For the FlexRay bus, it can only be in the second byte or not used. The data in this byte is determined by the channel configuration.</p>
<p>3.User Data of n Bytes：若干字节的可选字段，CBV和SNI之外的字节都为User Data部分。该字段包含两部分，即User data和PNC bit Vector，这两部分均为根据配置决定是否支持，若同时支持则严格要求ser data和PNC bit Vector各自的字节必须连续</p>
<p>3.User Data of n Bytes: An optional field of several bytes. Any bytes other than the CBV and SNI are part of the User Data. This field consists of two parts: User data and the PNC bit Vector. Support for both parts is determined by the configuration. If both are supported, it is strictly required that the bytes for the user data and the PNC bit Vector are contiguous.</p>
</section>
<section id="communication-scheduling-function">
<h4>通信调度功能 Communication Scheduling Function<a class="headerlink" href="#communication-scheduling-function" title="Link to this heading">¶</a></h4>
<p>UdpNm提供周期性网络管理报文发送功能：该功能根据配置项UdpPassiveModeEnabled决定是否启用，当UdpPassiveModeEnabled为TRUE意为启动Udp模块启动被动模式，仅接收报文并不主动参加网络管理；该功能也可动态的被诊断通信控制服务启停。</p>
<p>UdpNm provides a function for the periodic transmission of network management messages. This function is enabled or disabled based on the UdpPassiveModeEnabled configuration item. When UdpPassiveModeEnabled is TRUE, it means that the Udp module is in passive mode, only receiving messages but not actively participating in network management. This function can also be dynamically started and stopped by diagnostic communication control services.</p>
<p>UdpNm提供配置项UdpMsgCycleTime作为常规的报文周期，提供UdpMsgCycleOffset、UdpImmediateNmTransmissions、UdpBusLoadReductionEnabled作为网络管理报文发送方向上特殊场景的附加属性。</p>
<p>UdpNm provides UdpMsgCycleTime as the regular message cycle, and UdpMsgCycleOffset, UdpImmediateNmTransmissions, and UdpBusLoadReductionEnabled as additional attributes for special scenarios in network management message transmission.</p>
<p>如果一个NM PDU被成功接收，下层(例如.SoAd )通过函数调用UdpNm_SoAdIfRxIndication通知Udp。Udp根据PduId匹配相应的通道配置，如是否支持CBV，若支持则根据CBV字节位置逐bit解析、若使能PN则处理PNC Bit Vector字段、重置NM-Timeout计时器等</p>
<p>If an NM PDU is successfully received, the lower layer (e.g.,  SoAd) notifies Udp via the function call UdpNm_SoAdIfRxIndication. Udp then matches the PduId to the corresponding channel configuration to determine, for example, whether CBV is supported. If supported, it parses the CBV byte bit by bit. If PN is enabled, it processes the PNC Bit Vector field and resets the NM-Timeout timer, etc.</p>
<section id="immediate-transmission">
<h5>快速发送 Immediate Transmission<a class="headerlink" href="#immediate-transmission" title="Link to this heading">¶</a></h5>
<p>快速发送机制根据配置参数UdpNmImmediateNmTransmissions决定。该改参数为0时意为不启动；当该参数配置大于0时意为快速发送的报文次数，需要再配置UdpNmImmediateNmCycleTime作为快速发送时报文发送周期。</p>
<p>The immediate transmission mechanism is determined by the UdpNmImmediateNmTransmissions configuration parameter. A value of 0 for this parameter means that the mechanism is not activated. If the parameter is configured to be greater than 0, it indicates the number of messages to be sent immediately. In this case, UdpNmImmediateNmCycleTime must also be configured as the message transmission cycle for immediate transmission.</p>
<p>快速发送机制仅作用于Repeat Message State阶段，当通道被主动请求第一次进入网络模式时，或UdpNmPnHandleMultipleNetworkRequests为TRUE且有网络请求时，进入Repeat Message State触发快速发送UdpNmImmediateNmTransmissions次网络管理报文。当快速发送次数结束时，恢复常规的发送周期。</p>
<p>The immediate transmission mechanism is only active during the Repeat Message State. When a channel is actively requested to enter the Network Mode for the first time, or when UdpNmPnHandleMultipleNetworkRequests is TRUE and there is a network request, the node enters the Repeat Message State and triggers the immediate transmission of UdpNmImmediateNmTransmissions network management messages. After the immediate transmissions are complete, the regular transmission cycle is resumed.</p>
</section>
<section id="message-retransmission-on-failure">
<h5>报文失败重发 Message Retransmission on Failure<a class="headerlink" href="#message-retransmission-on-failure" title="Link to this heading">¶</a></h5>
<p>报文发送失败为UdpNm的可选机制，因为UdpNm通道状态切换为异步处理，且以太网需要链路层连接，因此可能造成网络管理报文发送时，通道状态未切换导致发送被拒绝。</p>
<p>Message retransmission on failure is an optional mechanism in UdpNm. Since UdpNm channel state switches are handled asynchronously and Ethernet requires a link-layer connection, it is possible that when a network management message is to be sent, the channel state has not yet switched, leading to the transmission being rejected.</p>
<p>失败重发存在两种触发场景：</p>
<p>There are two scenarios that can trigger a retransmission:</p>
<p>1.UdpNmImmediateNmTransmissions大于0，确保快速发送次数均能成功发送</p>
<p>1.When UdpNmImmediateNmTransmissions is greater than 0, ensure that all immediate transmissions are successful.</p>
<p>快速发送阶段，每当SoAd_IfTransmit返回E_NOT_OK时，则在后续每次主函数中调用一次SoAd_IfTransmit直到返回E_OK并递减快速发送次数，直到完成全部次数快速发送。最坏情况若存在某次报文始终无法成功发送，则在离开Repeat Message State关闭快速发送时一并停掉重发功能。</p>
<p>During the immediate transmission phase, whenever SoAd_IfTransmit returns E_NOT_OK, SoAd_IfTransmit is called once in each subsequent main function until it returns E_OK, at which point the count of immediate transmissions is decremented until all have been sent. In the worst-case scenario, if a message can never be sent successfully, the retransmission function is stopped when the immediate transmission phase is exited upon leaving the Repeat Message State.</p>
<p>2.UdpNmRetryFirstMessageRequest配置为TRUE，确保进入网络模式的首帧报文一定成功发送</p>
<p>2.When UdpNmRetryFirstMessageRequest is configured to TRUE, ensure that the first message upon entering the Network Mode is successfully sent.</p>
<p>当通道状态第一次切换到网络模式时，根据配置决定是否确保首帧发送成功。若调用SoAd_IfTransmit返回E_NOT_OK，则在后续每次主函数中调用一次SoAd_IfTransmit直到返回E_OK。最坏情况若SoAd_IfTransmit始终返回E_NOT_OK，则若通道状态进入Normal Opeartion State时仍可在后续主函数中触发发送，若进入Ready Sleep State停止网络管理报文发送功能时一并停掉重发功能。</p>
<p>When the channel state first switches to the Network Mode, the configuration determines whether to ensure the successful transmission of the first frame. If SoAd_IfTransmit returns E_NOT_OK, SoAd_IfTransmit is called once in each subsequent main function until it returns E_OK. In the worst-case scenario, if SoAd_IfTransmit consistently returns E_NOT_OK, the transmission can still be triggered in a subsequent main function if the channel state enters the Normal Operation State. If it enters the Ready Sleep State, the network management message transmission function is stopped, and the retransmission function is also stopped.</p>
</section>
</section>
<section id="udpnm-udpnm-additional-functions">
<h4>UdpNm附加功能 UdpNm Additional Functions<a class="headerlink" href="#udpnm-udpnm-additional-functions" title="Link to this heading">¶</a></h4>
<section id="remote-sleep-indication-detection">
<h5>检测远程睡眠指示 Remote Sleep Indication Detection<a class="headerlink" href="#remote-sleep-indication-detection" title="Link to this heading">¶</a></h5>
<p>远程睡眠指示应用于一种情况，当处于Normal Operation State的节点发现集群中的所有其他节点都准备睡眠，但处于Normal Operation State状态的节点仍将保持总线苏醒。为了避免这种情况，可以使能远程睡眠指示功能。</p>
<p>Remote sleep indication is used in a situation where a node in the Normal Operation State detects that all other nodes in the cluster are ready to sleep, but the node in the Normal Operation State would otherwise keep the bus awake. To avoid this, the remote sleep indication function can be enabled.</p>
<p>如果当前UdpNm状态为Normal Operation State，并且在UdpNmRemoteSleepIndTime(配置参数)定时器内未收到其他节点发送的网络管理报文，则通知上层Nm模块集群内的其他节点均已准备睡眠。</p>
<p>If the current UdpNm state is Normal Operation State and no network management messages have been received from other nodes within the UdpNmRemoteSleepIndTime (a configuration parameter) timer, the upper-layer Nm module is notified that all other nodes in the cluster are ready to sleep.</p>
<p>如果UdpNm已通知上层Nm模块，而在Normal Operation State或Ready Sleep State下又收到了网络管理报文，或者UdpNm从Normal Operation State切换至Repeat Message State，UdpNm需要通知上层Nm模块集群中的某些节点不再准备睡眠。</p>
<p>If UdpNm has already notified the upper-layer Nm module, and a network management message is received in the Normal Operation State or Ready Sleep State, or if UdpNm switches from the Normal Operation State to the Repeat Message State, UdpNm needs to notify the upper-layer Nm module that some nodes in the cluster are no longer ready to sleep.</p>
</section>
<section id="user-data">
<h5>用户数据 User Data<a class="headerlink" href="#user-data" title="Link to this heading">¶</a></h5>
<p>使用UdpNmUserDataEnabled开关(配置参数)对NM用户数据的支持进行静态配置。</p>
<p>Support for NM user data is statically configured using the UdpNmUserDataEnabled switch (a configuration parameter).</p>
<p>当用户数据功能使能，可以调用UdpNm_SetUserData，该函数可以设置总线上接下来发送的NM数据包的NM用户数据。也可以调用UdpNm_GetUserDat，该函数可以提供包含在最近接收到的NM PDU的有效载荷中的NM用户数据。</p>
<p>When the user data function is enabled, UdpNm_SetUserData can be called to set the NM user data for the next NM packet to be sent on the bus. UdpNm_GetUserData can also be called to retrieve the NM user data contained in the payload of the most recently received NM PDU.</p>
<p>如果UdpNmComUserDataSupport(配置参数)配置为使能，UdpNm将在每次请求发送相应的NM消息之前从引用的NM I-PDU收集NM用户数据，并将用户数据与其他NM字节合并。此时就不能再通过UdpNm_SetUserData函数设置用户数据。</p>
<p>If UdpNmComUserDataSupport (a configuration parameter) is enabled, UdpNm will collect the NM user data from the referenced NM I-PDU before each request to send the corresponding NM message and will merge the user data with the other NM bytes. In this case, the UdpNm_SetUserData function can no longer be used to set the user data.</p>
</section>
<section id="passive-mode">
<h5>被动模式 Passive Mode<a class="headerlink" href="#passive-mode" title="Link to this heading">¶</a></h5>
<p>在被动模式下，节点仅接收NM消息，但不发送任何NM消息。被动模式应使用UdpNmPassiveModeEnabled开关(配置参数)进行静态配置。</p>
<p>In passive mode, the node only receives NM messages but does not send any NM messages. Passive mode shall be statically configured using the UdpNmPassiveModeEnabled switch (a configuration parameter).</p>
</section>
<section id="nm-pdu-nm-pdu-reception">
<h5>NM-Pdu接收 NM-Pdu Reception<a class="headerlink" href="#nm-pdu-nm-pdu-reception" title="Link to this heading">¶</a></h5>
<p>若UdpNmPduRxIndicationEnabled(配置参数)使能，在成功接收NM PDU时，UdpNm应通过调用Nm_PduRxIndication通知上层</p>
<p>If UdpNmPduRxIndicationEnabled (a configuration parameter) is enabled, UdpNm shall notify the upper layer by calling Nm_PduRxIndication upon the successful reception of an NM PDU.</p>
</section>
<section id="state-change-notification">
<h5>状态改变通知 State Change Notification<a class="headerlink" href="#state-change-notification" title="Link to this heading">¶</a></h5>
<p>如果UdpNmStateChangeIndEnabled(配置参数)使能，则UdpNm需要将UdpNm状态的所有更改通知上层Nm。</p>
<p>If UdpNmStateChangeIndEnabled (a configuration parameter) is enabled, UdpNm needs to notify the upper layer Nm of all changes to the UdpNm state.</p>
</section>
<section id="communication-control">
<h5>通信控制 Communication Control<a class="headerlink" href="#communication-control" title="Link to this heading">¶</a></h5>
<p>使用UdpNmComControlEnabled开关(配置参数)，可以静态配置通信控制。当UdpNm_DisableCommunication函数被调用，UdpNm模块NM报文的传输能力将被停止，直到调用UdpNm_EnableCommunication，UdpNm的nm报文传输能力被恢复。</p>
<p>Communication control can be statically configured using the UdpNmComControlEnabled switch (a configuration parameter). When the UdpNm_DisableCommunication function is called, the NM message transmission capability of the UdpNm module is stopped until UdpNm_EnableCommunication is called, at which point the NM message transmission capability of UdpNm is restored.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>网络释放时，UdpNm_DisableCommunication和UdpNm_EnableCommunication成对使用。</p>
<p>When the network is released, UdpNm_DisableCommunication and UdpNm_EnableCommunication are used in pairs.</p>
<p>当UdpNm_DisableCommunication函数被调用，UdpNm的NM-Timeout定时器将被停止，调用函数UdpNm_EnableCommunication，NM-Timeout定时器将被恢复。因此在UdpNm_EnableCommunication尚未调用前，若释放网络，通道状态将停留在ReadySleep状态，休眠将被阻塞，需要在UdpNm_EnableCommunication调用后才可进入Prepare-Bus-Sleep模式。</p>
<p>When the UdpNm_DisableCommunication function is called, the NM-Timeout timer of UdpNm is stopped. When the UdpNm_EnableCommunication function is called, the NM-Timeout timer is restored. Therefore, if the network is released before U-dpNm_EnableCommunication is called, the channel state will remain in the ReadySleep state, and sleep will be blocked. The node can only enter the Prepare-Bus-Sleep mode after UdpNm_EnableCommunication is called.</p>
</div>
</section>
<section id="coordination-synchronization">
<h5>协调同步 Coordination Synchronization<a class="headerlink" href="#coordination-synchronization" title="Link to this heading">¶</a></h5>
<p>当有多个协调器连接到同一条总线时，在CBV中，NmCoordinatorSleepReady位用于指示主协调器请求启动关闭。</p>
<p>When multiple coordinators are connected to the same bus, the NmCoordinatorSleepReady bit in the CBV is used to indicate that the master coordinator is requesting to initiate a shutdown.</p>
<p>当UdpNm处于网络模式，接收网络管理报文的CBV中NmCoordinatorSleepReady=1，则UdpNm通知上层协调睡眠功能被请求。</p>
<p>When UdpNm is in network mode and receives a network management message with NmCoordinatorSleepReady=1 in the CBV, UdpNm notifies the upper layer that the coordinated sleep function has been requested.</p>
<p>当UdpNm已通知上层协调睡眠功能被请求，接收网络管理报文的CBV中NmCoordinatorSleepReady=0，则UdpNm通知上层协调睡眠功能请求被取消。</p>
<p>When UdpNm has already notified the upper layer that the coordinated sleep function has been requested and then receives a network management message with NmCoordinatorSleepReady=0 in the CBV, UdpNm notifies the upper layer that the coordinated sleep function request has been canceled.</p>
</section>
<section id="car-wake-up">
<h5>车辆唤醒 Car Wake-up<a class="headerlink" href="#car-wake-up" title="Link to this heading">¶</a></h5>
<p>当UdpNmCarWakeUpRxEnabled(配置参数)使能时，车辆唤醒功能被启用，目前暂时没有使用场景。如果任何接收到的NM-PDU中的Car Wakeup位为1，都会通知上层Nm。</p>
<p>When UdpNmCarWakeUpRxEnabled (a configuration parameter) is enabled, the vehicle wake-up function is enabled. There are currently no use cases for this. If the Car Wakeup bit in any received NM-PDU is 1, the upper layer Nm will be notified.</p>
<p>当UdpNmCarWakeUpRxEnabled(配置参数)使能，UdpNmCarWakeUpFilterEnabled(配置参数)也使能时，只有收到NodeId等于UdpNmCarWakeUpFilterNodeId的报文时，才会通知上层。</p>
<p>When UdpNmCarWakeUpRxEnabled (a configuration parameter) is enabled and UdpNmCarWakeUpFilterEnabled (a configuration parameter) is also enabled, the upper layer will be notified only when a message with a NodeId equal to UdpNmCarWakeUpFilterNodeId is received.</p>
</section>
<section id="pnc">
<h5>PNC<a class="headerlink" href="#pnc" title="Link to this heading">¶</a></h5>
<p>Autosar4.x版本开始支持PN功能，Pn功能的目的是基于功能划分网络，形成局域网；这种功能的划分由整车设计完成，对于各节点只需要关心自身存在的网段。只有在UdpGlobalPnSupport(配置参数)和各通道下的UdpPnEnabled(配置参数)使能的情况下，Pn功能才能正常工作。</p>
<p>Starting with Autosar4.x, the PN function is supported. The purpose of the PN function is to partition the network based on the function, forming local area networks. This function partitioning is handled by the overall vehicle design; individual nodes only need to be concerned with their own network segments. The PN function can work correctly only when UdpGlobalPnSupport (a configuration parameter) and UdpPnEnabled (a configuration parameter) for each channel are enabled.</p>
<p>如果UdpPnEnabled(配置参数)为FALSE，则Udp将执行常规的Rx处理，并且应禁用Pn功能。如果UdpPnEnabled为TRUE，接收到的NM-PDU CBV中的PNI位为0，则Udp模块应执行常规的Rx处理，从而省去了Pn功能的扩展。如果UdpPnEnabled为TRUE并且接收到的NM-PDU CBV中的PNI位为1，则Udp模块处理NM-PDU的Pn信息。</p>
<p>If UdpPnEnabled (a configuration parameter) is FALSE, Udp will perform regular Rx processing, and the PN function shall be disabled. If UdpPnEnabled is TRUE and the PNI bit in the CBV of a received NM-PDU is 0, the Udp module shall perform regular Rx processing, thus bypassing the extensions of the PN function. If UdpPnEnabled is TRUE and the PNI bit in the CBV of a received NM-PDU is 1, the Udp module processes the PN information of the NM-PDU.</p>
<p>如果UdpPnEnabled为TRUE，则必须使用CBV，且发送报文时应将CBV中发送的PNI位的值设置为1；如果UdpPnEnabled为FALSE，若使用CBV，则发送报文时应将CBV中的PNI位的值始终设置为0。</p>
<p>If UdpPnEnabled is TRUE, the CBV must be used, and the value of the PNI bit sent in the CBV shall be set to 1 when transmitting a message. If UdpPnEnabled is FALSE and the CBV is used, the value of the PNI bit in the CBV shall always be set to 0 when transmitting a message.</p>
<p>PNC是Partial Network Cluster的缩写，它是指为了在车辆网络中支持一个或多个车辆功能而由多个ECU构成的集群。PNC的编号我们称为PNC ID，范围8~63，整车网络统一编号，关于PNC id与UdpPdu映射关系说明：PNC ID对应UdpPdu中的一个bit，例如PNC ID=8，对应UdpPduByte1的bit0；PNC ID=63，对应Byte7的bit7；PNC ID对应的bit数值为1，则表示当前PN网络被请求，为0则表示网络释放。</p>
<p>PNC is an abbreviation for Partial Network Cluster, which refers to a cluster of multiple ECUs that support one or more vehicle functions in a vehicle network. The number of a PNC is called the PNC ID, which ranges from 8 to 63 and is uniformly numbered throughout the vehicle network. The mapping relationship between the PNC ID and the UdpPdu is as follows: The PNC ID corresponds to one bit in the UdpPdu. For example, PNC ID=8 corresponds to bit0 of UdpPduByte1; PNC ID=63 corresponds to bit7 of Byte7. If the bit corresponding to the PNC ID has a value of 1, it indicates that the current PN network is requested; a value of 0 indicates that the network is released.</p>
<p>Pn信息的位置位于网络管理报文的用户数据部分中，具体的位置根据Nm模块配置决定：NmPncBitVectorOffset和NmPncBitVectorLength。</p>
<p>The location of the PN information is in the user data portion of the network management message. The specific location is determined by the Nm module configuration: NmPncBitVectorOffset and NmPncBitVectorLength.</p>
<p>例如当NmPncBitVectorOffset = 3，NmPncBitVectorLength = 2，代表NM报文只有字节3和字节4包含PN请求信息。</p>
<p>For example, when NmPncBitVectorOffset = 3 and NmPncBitVectorLength = 2, it means that only byte 3 and byte 4 of the NM message contain PN request information.</p>
<section id="reception">
<h6>接收 Reception<a class="headerlink" href="#reception" title="Link to this heading">¶</a></h6>
<p>当通道使能UdpNmPnEnabled为TRUE，且CBV中PNI为1，则需要对PNC Bit Vector字段进行过滤。</p>
<p>When UdpNmPnEnabled for a channel is TRUE and the PNI in the CBV is 1, the PNC Bit Vector field needs to be filtered.</p>
<p>过滤操作由Nm模块完成，通过提供PNC bit vector字段起始地址调用Nm_PncBitVectorRxIndication接口，根据返回值RelevantPncRequestDetected判断接收到的报文是否与该通道相关，若相关则属于过滤通过，可以对报文进行后续处理。若过滤不通过则丢弃本次接收到的报文，不做任何处理。</p>
<p>The filtering operation is performed by the Nm module. The Nm_PncBitVectorRxIndication interface is called with the starting address of the PNC bit vector field. Based on the return value RelevantPncRequestDetected, it is determined whether the received message is relevant to the channel. If it is relevant, it passes the filter and can be further processed. If it does not pass the filter, the received message is discarded without any processing.</p>
<p>当通道使能UdpNmPnEnabled为TRUE，且CBV中PNI为0，视为过滤失败则丢弃本次接收到的报文，不做任何处理。</p>
<p>When UdpNmPnEnabled for a channel is TRUE and the PNI in the CBV is 0, it is considered a filter failure, and the received message is discarded without any processing.</p>
<p>当过滤失败时，若配置项UdpNmAllNmMessagesKeepAwake为TRUE则也可进行后续处理而不丢弃报文。</p>
<p>In the case of a filter failure, if the UdpNmAllNmMessagesKeepAwake configuration item is TRUE, the message can still be further processed instead of being discarded.</p>
<p>当通道使能UdpNmPnEnabled为FALSE，则不进行过滤，对报文进行后续处理而不丢弃报文。</p>
<p>When UdpNmPnEnabled for a channel is FALSE, no filtering is performed, and the message is further processed without being discarded.</p>
</section>
<section id="transmission">
<h6>发送 Transmission<a class="headerlink" href="#transmission" title="Link to this heading">¶</a></h6>
<p>如果网络被请求并且UdpNmPnHandleMultipleNetworkRequests(配置参数)设置为TRUE，无论UdpNm处于Ready Sleep State，Normal Operation State或Repeat Message State，UdpNm应更改为或重新启动为Repeat Message State。并且，UdpNm会传输UdpNmImmediateNmTransmissions(配置参数)数量的报文，其中第一条报文立即传输，其他报文按UdpNmImmediateNmCycleTime传输(配置参数)。</p>
<p>If the network is requested and UdpNmPnHandleMultipleNetworkRequests (a configuration parameter) is set to TRUE, regardless of whether UdpNm is in the Ready Sleep State, Normal Operation State, or Repeat Message State, UdpNm shall change to or restart in the Repeat Message State. Furthermore, UdpNm will transmit a number of messages equal to UdpNmImmediateNmTransmissions (a configuration parameter), with the first message being transmitted immediately and the others being transmitted according to UdpNmImmediateNmCycleTime (a configuration parameter).</p>
<p>当通道使能UdpNmPnEnabled为TRUE，每次发送网络管理报文时，提供PNC bit vector字段起始地址调用Nm_PncBitVectorTxIndication接口以填充该字段。</p>
<p>When UdpNmPnEnabled for a channel is TRUE, each time a network management message is sent, the Nm_PncBitVectorTxIndication interface is called with the starting address of the PNC bit vector field to fill that field.</p>
</section>
</section>
</section>
<section id="multi-variant-support">
<h4>多变体支持 Multi-variant Support<a class="headerlink" href="#multi-variant-support" title="Link to this heading">¶</a></h4>
<p>UdpNm 支持在不同变体中：</p>
<p>UdpNm supports in different variants:</p>
<p>1.支持报文发送前的不同的偏移周期</p>
<p>1.Supports different offset periods before message transmission</p>
<p>2.支持配置不同的节点ID</p>
<p>2.Supports the configuration of different node IDs</p>
<p>3.支持配置是否启用PNC功能</p>
<p>3.Supports the configuration of whether to enable the PNC function</p>
<p>4.支持不同的NM-Pdu收发路径</p>
<p>4.Supports different NM-PDU reception and transmission paths</p>
</section>
</section>
<section id="deviation">
<h3>偏差 Deviation<a class="headerlink" href="#deviation" title="Link to this heading">¶</a></h3>
<p>1.不支持 Dynamic PNC-to-channel-mapping。</p>
<p>1.Dynamic PNC-to-channel-mapping is not supported.</p>
<p>2.不支持 Pnc shutdown</p>
<p>2.PNC shutdown is not supported.</p>
</section>
<section id="extension">
<h3>扩展 Extension<a class="headerlink" href="#extension" title="Link to this heading">¶</a></h3>
<p>1.UdpNmRetryFirstMessageRequest配置参数影响范围扩大</p>
<p>1.The scope of the UdpNmRetryFirstMessageRequest configuration parameter has been expanded.</p>
<blockquote>
<div><p>该配置不仅限于BusSleep Mode主动唤醒时确保首帧发送成功，作用范围增大到任意方式导致进入网络模式都将确保首帧成功发送</p>
<p>This configuration is no longer limited to ensuring the successful transmission of the first frame upon an active wake-up from BusSleep Mode. Its scope has been extended to ensure the successful transmission of the first frame regardless of how the node enters network mode.</p>
</div></blockquote>
</section>
</section>
<section id="integration">
<h2>集成 Integration<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
<section id="file-list">
<h3>文件列表 File List<a class="headerlink" href="#file-list" title="Link to this heading">¶</a></h3>
<section id="static-files">
<h4>静态文件 Static Files<a class="headerlink" href="#static-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>UdpNm.h</p></td>
<td><p>UdpNm模块头文件，包含API函数的扩展声明。(The UdpNm module header file, which contains extension declarations for API functions.)</p></td>
</tr>
<tr class="row-odd"><td><p>UdpNm.c</p></td>
<td><p>UdpNm模块源文件，包含了API函数的实现。(The UdpNm module source file, which contains the realization of API functions.)</p></td>
</tr>
<tr class="row-even"><td><p>UdpNm_Type.h</p></td>
<td><p>UdpNm数据类型定义文件，定义了配置和内部数据结构。(The UdpNm data type definition file, which defines the configuration and internal data structure.)</p></td>
</tr>
<tr class="row-odd"><td><p>UdpNm_Internal.h</p></td>
<td><p>UdpNm内部数据类型定义文件，定义了部分宏定义，内部使用的变量扩展声明。(The UdpNm internal data type definition file, which defines partial macros and extension declarations of internally used variables.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="dynamic-files">
<h4>动态文件 Dynamic Files<a class="headerlink" href="#dynamic-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>UdpNm_Cfg.h</p></td>
<td><p>定义UdpNm模块预编译时用到的配置参数。(Defines configuration parameters used in the pre-compilation of the UdpNm module.)</p></td>
</tr>
<tr class="row-odd"><td><p>UdpNm_Cfg.c</p></td>
<td><p>定义UdpNm模块生成的配置参数。(Defines configuration parameters generated by the UdpNm module.)</p></td>
</tr>
<tr class="row-even"><td><p>UdpNm_PBcfg.c</p></td>
<td><p>定义UdpNm模块向外部模块提供的配置参数。(Defines configuration parameters that the UdpNm module provides to external modules.)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="error-handling">
<h3>错误处理 Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<section id="development-errors">
<h4>开发错误 Development Errors<a class="headerlink" href="#development-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>UDPNM_E_UNINIT</p></td>
<td><p>0x01</p></td>
<td><p>API service used without module initialization</p></td>
</tr>
<tr class="row-odd"><td><p>UDPNM_E_INVALID_CHANNEL</p></td>
<td><p>0x02</p></td>
<td><p>API service called with wrong channel handle</p></td>
</tr>
<tr class="row-even"><td><p>UDPNM_E_INVALID_PDUID</p></td>
<td><p>0x03</p></td>
<td><p>API service called with wrong PDU-ID</p></td>
</tr>
<tr class="row-odd"><td><p>UDPNM_E_INIT_FAILED</p></td>
<td><p>0x05</p></td>
<td><p>UdpNm initialization has failed, e.g. selected configuration set doesn’t exist.</p></td>
</tr>
<tr class="row-even"><td><p>UDPNM_E_PARAM_POINTER</p></td>
<td><p>0x12</p></td>
<td><p>Null pointer has been passed as an argument.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="product-errors">
<h4>产品错误 Product Errors<a class="headerlink" href="#product-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
<section id="runtime-errors">
<h4>运行时错误 Runtime Errors<a class="headerlink" href="#runtime-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>UDPNM_E_NETWORK_TIMEOUT</p></td>
<td><p>0x11</p></td>
<td><p>NM-Timeout timer has expired outside Ready Sleep State (either in Repeat Message state or in Normal Operation state).</p></td>
</tr>
<tr class="row-odd"><td><p>UDPNM_E_INVALID_PN_SYNC_SHUTDOWN_REQUEST</p></td>
<td><p>0x20</p></td>
<td><p>A NM message with PN Shutdown Request Bit was received on a channel that is actively coordinated by the ComM PNC Gateway.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="type-definitions">
<h3>类型定义 Type Definitions<a class="headerlink" href="#type-definitions" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
<section id="services">
<h3>提供的服务 Services<a class="headerlink" href="#services" title="Link to this heading">¶</a></h3>
<section id="udpnm-init">
<h4>UdpNm_Init<a class="headerlink" href="#udpnm-init" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">UdpNm_Init</span><span class="p">(</span><span class="n">const</span> <span class="n">UdpNm_ConfigType</span> <span class="o">*</span><span class="n">UdpNmConfigPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialize the complete UdpNm module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>UdpNmConfigPtr</p></td>
<td><p>Pointer to a selected configuration</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="udpnm-passivestartup">
<h4>UdpNm_PassiveStartUp<a class="headerlink" href="#udpnm-passivestartup" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_PassiveStartUp</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Passive startup of the AUTOSAR UdpNm.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(but not for the same NM-Channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Passive startup of network management has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-networkrequest">
<h4>UdpNm_NetworkRequest<a class="headerlink" href="#udpnm-networkrequest" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_NetworkRequest</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Request the network, since ECU needs to communicate on the bus.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(but not for the same NM-Channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Requesting of network has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-networkrelease">
<h4>UdpNm_NetworkRelease<a class="headerlink" href="#udpnm-networkrelease" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_NetworkRelease</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Release the network,since ECU doesn’t have to communicate on the bus.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(but not for the same NM-Channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Releasing of network has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-disablecommunication">
<h4>UdpNm_DisableCommunication<a class="headerlink" href="#udpnm-disablecommunication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_DisableCommunication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Disable the NM PDU transmission ability due to a ISO14229 Communication Control (0x28) service.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(but not for the same NM-Channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Disabling of NM PDU transmission ability has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-enablecommunication">
<h4>UdpNm_EnableCommunication<a class="headerlink" href="#udpnm-enablecommunication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_EnableCommunication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Enable the NM PDU transmission ability due to a ISO14229 Communication Control (0x28) service.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(but not for the same NM-Channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Enabling of NM PDU transmission ability has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-setuserdata">
<h4>UdpNm_SetUserData<a class="headerlink" href="#udpnm-setuserdata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_SetUserData</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmUserDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Set user data for all NM messages transmitted on the bus after this function has returned without error.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>nmUserDataPtr</p></td>
<td><p>Pointer where the user data for the next transmitted NM message shall be copied from.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Setting of user data has failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-getuserdata">
<h4>UdpNm_GetUserData<a class="headerlink" href="#udpnm-getuserdata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_GetUserData</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmUserDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Get user data from the most recently received NM message.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>nmUserDataPtr</p></td>
<td><p>Pointer where user data out of the most recently received NM PDU shall be copied to.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of user data has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-getnodeidentifier">
<h4>UdpNm_GetNodeIdentifier<a class="headerlink" href="#udpnm-getnodeidentifier" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_GetNodeIdentifier</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmNodeIdPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Get node identifier from the most recently received NM PDU.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmNodeIdPtr</p></td>
<td><p>Pointer where node identifier out of the most recently received NM PDU shall be copied to.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of the node identifier out of the most recently received NM PDU has failed or is not configured for this network handle.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-getlocalnodeidentifier">
<h4>UdpNm_GetLocalNodeIdentifier<a class="headerlink" href="#udpnm-getlocalnodeidentifier" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_GetLocalNodeIdentifier</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmNodeIdPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Get node identifier configured for the local node.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmNodeIdPtr</p></td>
<td><p>Pointer where node identifier of the local node shall be copied to.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of the node identifier of the local node has failed or is not configured for this network handle.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-repeatmessagerequest">
<h4>UdpNm_RepeatMessageRequest<a class="headerlink" href="#udpnm-repeatmessagerequest" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_RepeatMessageRequest</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Set Repeat Message Request Bit for all NM messages transmitted on the bus after this function has returned without error.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(but not for the same NM-Channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Setting of Repeat Message Request Bit has failed or is not configured for this network handle.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-getpdudata">
<h4>UdpNm_GetPduData<a class="headerlink" href="#udpnm-getpdudata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_GetPduData</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmPduDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Get the whole PDU data out of the most recently received NM message. &#64;id 0x0a.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous &#64;reentrancy Reentrant</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmPduDataPtr</p></td>
<td><p>Pointer where NM PDU shall be copied to.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of NM PDU Data has failed or is not configured for this network handle.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-getstate">
<h4>UdpNm_GetState<a class="headerlink" href="#udpnm-getstate" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_GetState</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">Nm_StateType</span> <span class="o">*</span><span class="n">nmStatePtr</span><span class="p">,</span> <span class="n">Nm_ModeType</span> <span class="o">*</span><span class="n">nmModePtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the state and the mode of the network management.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmStatePtr</p></td>
<td><p>Pointer where state of the network management shall be copied to.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>nmModePtr</p></td>
<td><p>Pointer where the mode of the network management shall be copied to</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of NM state has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-getversioninfo">
<h4>UdpNm_GetVersionInfo<a class="headerlink" href="#udpnm-getversioninfo" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">UdpNm_GetVersionInfo</span><span class="p">(</span><span class="n">Std_VersionInfoType</span> <span class="o">*</span><span class="n">versioninfo</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the version information of this module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>versioninfo</p></td>
<td><p>Pointer to where to store the version information of this module</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="udpnm-requestbussynchronization">
<h4>UdpNm_RequestBusSynchronization<a class="headerlink" href="#udpnm-requestbussynchronization" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_RequestBusSynchronization</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Request bus synchronization.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Requesting of bus synchronization has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-checkremotesleepindication">
<h4>UdpNm_CheckRemoteSleepIndication<a class="headerlink" href="#udpnm-checkremotesleepindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_CheckRemoteSleepIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">boolean</span> <span class="o">*</span><span class="n">nmRemoteSleepIndPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Check if remote sleep indication takes place or not.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous(but not for the same NM-Channel)</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmRemoteSleepIndPtr</p></td>
<td><p>Pointer where check result of remote sleep indication shall be copied to.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Checking of remote sleep indication bits failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-setsleepreadybit">
<h4>UdpNm_SetSleepReadyBit<a class="headerlink" href="#udpnm-setsleepreadybit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_SetSleepReadyBit</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">nmSleepReadyBit</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the NM Coordinator Sleep Ready bit in the Control Bit Vector.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>nmSleepReadyBit</p></td>
<td><p>Value written to ReadySleep Bit in CBV</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Writing of remote sleep indication bit has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-transmit">
<h4>UdpNm_Transmit<a class="headerlink" href="#udpnm-transmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_Transmit</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">PduInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Requests transmission of a PDU.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(for different PduIds. Non reentrant for the same PduId)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>Identifier of the PDU to be transmitted</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>Length of and pointer to the PDU data and pointer to MetaData.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Transmit request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Transmit request has not been accepted.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="udpnm-soadiftxconfirmation">
<h4>UdpNm_SoAdIfTxConfirmation<a class="headerlink" href="#udpnm-soadiftxconfirmation" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">UdpNm_SoAdIfTxConfirmation</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">,</span> <span class="n">Std_ReturnType</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>The lower layer communication interface module confirms the transmission of an IPDU, or the failure to transmit a PDU.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(for different PduIds. Non reentrant for the same PduId)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>Identifier of the PDU to be transmitted</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>result</p></td>
<td><p>E_OK: The PDU was transmitted. E_NOT_OK: Transmission of the PDU failed.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="udpnm-soadifrxindication">
<h4>UdpNm_SoAdIfRxIndication<a class="headerlink" href="#udpnm-soadifrxindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">UdpNm_SoAdIfRxIndication</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">RxPduId</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">PduInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Indication of a received PDU from a lower layer communication interface module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(for different PduIds. Non reentrant for the same PduId.)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RxPduId</p></td>
<td><p>ID of the received PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>Contains the length (SduLength) of the received I-PDU and a pointer to a buffer (SduDataPtr) containing the I-PDU.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="udpnm-soadiftriggertransmit">
<h4>UdpNm_SoAdIfTriggerTransmit<a class="headerlink" href="#udpnm-soadiftriggertransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">UdpNm_SoAdIfTriggerTransmit</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">,</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">PduInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Within this API, the upper layer module (called module) shall check whether the available data fits into the buffer size reported by PduInfoPtr-&gt;SduLength. If it fits, it shall copy its data into the buffer provided by PduInfoPtr-&gt;SduDataPtr and update the length of the actual copied data in PduInfoPtr-&gt;SduLength. If not, it returns E_NOT_OK without changing PduInfoPtr.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(for different PduIds. Non reentrant for the same PduId.)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>ID of the SDU that is requested to be transmitted.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>Contains a pointer to a buffer (SduDataPtr) to where the SDU data shall be copied, and the available buffer size in SduLengh. On return, the service will indicate the length of the copied SDU data in SduLength.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
</section>
<section id="udpnm-mainfunction">
<h4>UdpNm_MainFunction<a class="headerlink" href="#udpnm-mainfunction" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">UdpNm_MainFunction</span><span class="p">(</span><span class="n">UdpNm_ChannelIndexType</span> <span class="n">chIndex</span><span class="p">)</span>
</pre></div>
</div>
<p>Main function of the UdpNm which processes the algorithm describes in that document.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant(for different NM-channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>chIndex</p></td>
<td><p>Index value of the NM-channel.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="configuration">
<h2>配置 Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<section id="basic-configuration">
<h3>基础配置 Basic Configuration<a class="headerlink" href="#basic-configuration" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>UdpNmChannelConfig中为该通道配置基础的运行参数，包括通道的主函数运行周期、报文发送周期、自动流转状态的持续时间、引用ComM的Channel配置。</dt><dd><p>In UdpNmChannelConfig, configure the basic running parameters for the channel, including the channel’s main function cycle, message transmission cycle, duration for automatic state transitions, and a reference to the ComM Channel configuration.</p>
</dd>
</dl>
</li>
</ul>
<figure class="align-center" id="id7">
<img alt="../../../_images/UdpNmChannelConfig%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE.png" src="../../../_images/UdpNmChannelConfig%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE.png" />
<figcaption>
<p><span class="caption-text">UdpNmChannelConfig基础配置 (Basic Configuration of UdpNmChannelConfig)</span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><dl class="simple">
<dt>每个UdpNmChannelConfig需要创建UdpNmRxPdu和UdpNmTxPdu。UdpNmRxPdu可以创建多个，UdpNmTxPdu仅一个。UdpNmRxPdu和UdpNmTxPdu容器中引用的Pdu需要配置在SoAd模块的SoAdPduRoute和SoAdSocketRoute，详细操作参考SoAd手册。</dt><dd><p>Each UdpNmChannelConfig needs to create UdpNmTxPdu and UdpNmRxPdu. Multiple UdpNmRxPdu can be created, but only one UdpNmTxPdu can be created. The PDUs referenced within the UdpNmRxPdu and UdpNmTxPdu containers must be configured in the SoAdPduRoute and SoAdSocketRoute of the SoAd module. For detailed instructions, refer to the SoAd Manual.</p>
</dd>
</dl>
</li>
</ul>
<figure class="align-center" id="id8">
<img alt="../../../_images/UdpNmPdu%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE.png" src="../../../_images/UdpNmPdu%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE.png" />
<figcaption>
<p><span class="caption-text">UdpNmPdu基础配置 (Basic Configuration of UdpNmPdu)</span><a class="headerlink" href="#id8" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="userdata">
<h3>UserData<a class="headerlink" href="#userdata" title="Link to this heading">¶</a></h3>
<p>1.启动UdpNm的UserData功能需要在Nm模块勾选NmGlobalFeatre/NmUserDataEnabled，将默认勾选所有&lt;Bus&gt;NmUserDataEnabled</p>
<p>1.To enable the UserData feature of UdpNm, check NmGlobalFeature/NmUserDataEnabled in the Nm module. By default, all &lt;Bus&gt;NmUserDataEnabled options are checked.</p>
<figure class="align-center" id="id9">
<img alt="../../../_images/NmUserDataEnabled1.png" src="../../../_images/NmUserDataEnabled1.png" />
<figcaption>
<p><span class="caption-text">NmUserDataEnabled</span><a class="headerlink" href="#id9" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>2.此时UdpNmComUserDataSupport未勾选则启动API方式通过Nm模块透传设置网络管理报文UserData字段</p>
<p>2.If UdpNmComUserDataSupport is not checked at this point, the API mode is enabled, allowing the UserData field of the network management message to be set via pass-through from the Nm module.</p>
<figure class="align-center" id="id10">
<img alt="../../../_images/UdpNmUserData.png" src="../../../_images/UdpNmUserData.png" />
<figcaption>
<p><span class="caption-text">UdpNmUserData</span><a class="headerlink" href="#id10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>3.若UdpNmComUserDataSupport勾选，则屏蔽掉API，使能ComSignal形式设置网络管理报文UserData字段。此时需要配置UdpNmUserDataTxPdu，该容器每个通道仅可配置一个。需要在PduR配置PduRRoutingPath将该Pdu配置到PduRDestPdu，并配置ComSignal以及相应的Pdu到PduRSrcPdu</p>
<p>3.If UdpNmComUserDataSupport is checked, the API is disabled, and the ComSignal method is enabled for setting the UserData field of the network management message. In this case, a UdpNmUserDataTxPdu must be configured. Only one such container can be configured per channel. You need to configure PduRRoutingPath in the PduR to configure this Pdu to PduRDestPdu, and configure ComSignal and corresponding Pdu to PduRSrcPdu.</p>
<figure class="align-center" id="id11">
<img alt="../../../_images/UdpNmUserDataTxPdu.png" src="../../../_images/UdpNmUserDataTxPdu.png" />
<figcaption>
<p><span class="caption-text">UdpNmUserDataTxPdu</span><a class="headerlink" href="#id11" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="id1">
<h3>快速发送 Immediate Transmission<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>快速发送机制需要先配置UdpNmImmediateNmTransmission决定快速发送的次数，当UdpNmImmediateNmTransmission &gt; 0时才可配置UdpNmImmediateNmCycleTime报文的快速发送周期</p>
<p>The immediate transmission mechanism requires first configuring UdpNmImmediateNmTransmission to determine the number of immediate transmissions. Only when UdpNmImmediateNmTransmission is greater than 0 can the immediate transmission cycle UdpNmImmediateNmCycleTime be configured.</p>
<figure class="align-center" id="id12">
<img alt="../../../_images/UdpNmImmediateNmTransmission.png" src="../../../_images/UdpNmImmediateNmTransmission.png" />
<figcaption>
<p><span class="caption-text">UdpNmImmediateNmTransmission</span><a class="headerlink" href="#id12" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="id2">
<h3>车辆唤醒 Car Wake-up<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>车辆唤醒功能是通过在接收到的网络管理报文中检测UserData字段中指定bit触发。</p>
<p>The car wake-up function is triggered by detecting a specific bit within the UserData field of a received network management message.</p>
<p>首先需要勾选UdpNmChannelConfig/UdpNmCarWakeUpRxEnabled，在配置UdpNmCarWakeUpBitPosition和UdpNmCarWakeUpBytePosition。</p>
<p>First, check UdpNmChannelConfig/UdpNmCarWakeUpRxEnabled, and then configure UdpNmCarWakeUpBitPosition and UdpNmCarWakeUpBytePosition.</p>
<p>若要启动过滤功能则勾选UdpNmChannelConfig/UdpNmCarWakeUpFilterNodeId，并填写指定的NodeId到UdpNmCarWakeUpFilterNodeId</p>
<p>To enable the filtering function, check UdpNmChannelConfig/UdpNmCarWakeUpFilterEnabled, and enter the specified Node ID into UdpNmCarWakeUpFilterNodeId.</p>
<figure class="align-center" id="id13">
<img alt="../../../_images/UdpNmCarWakeUp.png" src="../../../_images/UdpNmCarWakeUp.png" />
<figcaption>
<p><span class="caption-text">UdpNmCarWakeUp</span><a class="headerlink" href="#id13" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../TcpIp/TcpIp.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>TcpIp
    </a>
    <a class="float-right" href="../WdgIf/WdgIf.html" title="Next">
        WdgIf <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">UdpNm</a><ul>
<li><a class="reference internal" href="#document-information">文档信息 Document Information</a><ul>
<li><a class="reference internal" href="#version-history">版本历史 Version History</a></li>
<li><a class="reference internal" href="#references">参考文档 References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terms-and-abbreviations">术语与简写 Terms and Abbreviations</a><ul>
<li><a class="reference internal" href="#terms">术语 Terms</a></li>
<li><a class="reference internal" href="#abbreviations">简写 Abbreviations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">简介 Introduction</a></li>
<li><a class="reference internal" href="#functional-description">功能描述 Functional Description</a><ul>
<li><a class="reference internal" href="#features">特性 Features</a><ul>
<li><a class="reference internal" href="#channel-state-management-function">通道状态管理功能 Channel State Management Function</a><ul>
<li><a class="reference internal" href="#network-mode">网络模式 Network Mode</a><ul>
<li><a class="reference internal" href="#repeat-message-state">重复报文状态 Repeat Message State</a></li>
<li><a class="reference internal" href="#normal-operation-state">正常运行状态 Normal Operation State</a></li>
<li><a class="reference internal" href="#ready-sleep-state">准备睡眠状态 Ready Sleep State</a></li>
</ul>
</li>
<li><a class="reference internal" href="#prepare-bus-sleep-mode">总线预睡眠模式 Prepare Bus-Sleep Mode</a></li>
<li><a class="reference internal" href="#bus-sleep-mode">总线睡眠模式 Bus-Sleep Mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#autosar-nm-autosar-nm-message-format">AUTOSAR NM 报文格式 AUTOSAR NM Message Format</a></li>
<li><a class="reference internal" href="#communication-scheduling-function">通信调度功能 Communication Scheduling Function</a><ul>
<li><a class="reference internal" href="#immediate-transmission">快速发送 Immediate Transmission</a></li>
<li><a class="reference internal" href="#message-retransmission-on-failure">报文失败重发 Message Retransmission on Failure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#udpnm-udpnm-additional-functions">UdpNm附加功能 UdpNm Additional Functions</a><ul>
<li><a class="reference internal" href="#remote-sleep-indication-detection">检测远程睡眠指示 Remote Sleep Indication Detection</a></li>
<li><a class="reference internal" href="#user-data">用户数据 User Data</a></li>
<li><a class="reference internal" href="#passive-mode">被动模式 Passive Mode</a></li>
<li><a class="reference internal" href="#nm-pdu-nm-pdu-reception">NM-Pdu接收 NM-Pdu Reception</a></li>
<li><a class="reference internal" href="#state-change-notification">状态改变通知 State Change Notification</a></li>
<li><a class="reference internal" href="#communication-control">通信控制 Communication Control</a></li>
<li><a class="reference internal" href="#coordination-synchronization">协调同步 Coordination Synchronization</a></li>
<li><a class="reference internal" href="#car-wake-up">车辆唤醒 Car Wake-up</a></li>
<li><a class="reference internal" href="#pnc">PNC</a><ul>
<li><a class="reference internal" href="#reception">接收 Reception</a></li>
<li><a class="reference internal" href="#transmission">发送 Transmission</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#multi-variant-support">多变体支持 Multi-variant Support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deviation">偏差 Deviation</a></li>
<li><a class="reference internal" href="#extension">扩展 Extension</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration">集成 Integration</a><ul>
<li><a class="reference internal" href="#file-list">文件列表 File List</a><ul>
<li><a class="reference internal" href="#static-files">静态文件 Static Files</a></li>
<li><a class="reference internal" href="#dynamic-files">动态文件 Dynamic Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">错误处理 Error Handling</a><ul>
<li><a class="reference internal" href="#development-errors">开发错误 Development Errors</a></li>
<li><a class="reference internal" href="#product-errors">产品错误 Product Errors</a></li>
<li><a class="reference internal" href="#runtime-errors">运行时错误 Runtime Errors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-definitions">类型定义 Type Definitions</a></li>
<li><a class="reference internal" href="#services">提供的服务 Services</a><ul>
<li><a class="reference internal" href="#udpnm-init">UdpNm_Init</a></li>
<li><a class="reference internal" href="#udpnm-passivestartup">UdpNm_PassiveStartUp</a></li>
<li><a class="reference internal" href="#udpnm-networkrequest">UdpNm_NetworkRequest</a></li>
<li><a class="reference internal" href="#udpnm-networkrelease">UdpNm_NetworkRelease</a></li>
<li><a class="reference internal" href="#udpnm-disablecommunication">UdpNm_DisableCommunication</a></li>
<li><a class="reference internal" href="#udpnm-enablecommunication">UdpNm_EnableCommunication</a></li>
<li><a class="reference internal" href="#udpnm-setuserdata">UdpNm_SetUserData</a></li>
<li><a class="reference internal" href="#udpnm-getuserdata">UdpNm_GetUserData</a></li>
<li><a class="reference internal" href="#udpnm-getnodeidentifier">UdpNm_GetNodeIdentifier</a></li>
<li><a class="reference internal" href="#udpnm-getlocalnodeidentifier">UdpNm_GetLocalNodeIdentifier</a></li>
<li><a class="reference internal" href="#udpnm-repeatmessagerequest">UdpNm_RepeatMessageRequest</a></li>
<li><a class="reference internal" href="#udpnm-getpdudata">UdpNm_GetPduData</a></li>
<li><a class="reference internal" href="#udpnm-getstate">UdpNm_GetState</a></li>
<li><a class="reference internal" href="#udpnm-getversioninfo">UdpNm_GetVersionInfo</a></li>
<li><a class="reference internal" href="#udpnm-requestbussynchronization">UdpNm_RequestBusSynchronization</a></li>
<li><a class="reference internal" href="#udpnm-checkremotesleepindication">UdpNm_CheckRemoteSleepIndication</a></li>
<li><a class="reference internal" href="#udpnm-setsleepreadybit">UdpNm_SetSleepReadyBit</a></li>
<li><a class="reference internal" href="#udpnm-transmit">UdpNm_Transmit</a></li>
<li><a class="reference internal" href="#udpnm-soadiftxconfirmation">UdpNm_SoAdIfTxConfirmation</a></li>
<li><a class="reference internal" href="#udpnm-soadifrxindication">UdpNm_SoAdIfRxIndication</a></li>
<li><a class="reference internal" href="#udpnm-soadiftriggertransmit">UdpNm_SoAdIfTriggerTransmit</a></li>
<li><a class="reference internal" href="#udpnm-mainfunction">UdpNm_MainFunction</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">配置 Configuration</a><ul>
<li><a class="reference internal" href="#basic-configuration">基础配置 Basic Configuration</a></li>
<li><a class="reference internal" href="#userdata">UserData</a></li>
<li><a class="reference internal" href="#id1">快速发送 Immediate Transmission</a></li>
<li><a class="reference internal" href="#id2">车辆唤醒 Car Wake-up</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>NvM &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../genindex.html" />
            <link rel="search" title="Search" href="../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="OS" href="OS.html" />
            <link rel="prev" title="NmIf" href="NmIf.html" />
    </head>
<body>
    <script type="text/javascript" src="../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTrcv.html">CanTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComXf.html">ComXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRC.html">CRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crypto.html">Crypto</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSM.html">CSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="DCM.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="Det.html">DET</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dlt.html">DLT</a></li>
<li class="toctree-l1"><a class="reference internal" href="DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EL.html">E2EL</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EXf.html">E2EXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ea.html">EA</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuC.html">EcuC</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="Eep.html">EEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="FiM.html">FiM</a></li>
<li class="toctree-l1"><a class="reference internal" href="FOTA%20handler.html">FOTA Handler</a></li>
<li class="toctree-l1"><a class="reference internal" href="IoHwAb.html">IoHwAb</a></li>
<li class="toctree-l1"><a class="reference internal" href="IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="NmIf.html">NmIf</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="OS.html">OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpXf.html">SomeIpXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="XCP.html">XCP</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16 Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397 Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148 Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">NvM</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="https://github.com/wagtail/sphinx_wagtail_theme/blob/main/docs/sub/参考手册/NvM.rst" rel="nofollow">
        <span class="btn-icon"><span class="fab fa-github"></span></span>
        <span class="btn-text">Edit on GitHub</span>
    </a>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../_sources/sub/参考手册/NvM.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="nvm">
<h1>NvM<a class="headerlink" href="#nvm" title="Link to this heading">¶</a></h1>
<p><strong>缩写词注解</strong></p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>缩
写词</strong></p></td>
<td><p><strong>英文全名</strong></p></td>
<td><p><strong>解释/描述</strong></p></td>
</tr>
<tr class="row-even"><td><p>DET</p></td>
<td><p>Development Error Tracer –
module to which development
errors are reported.</p></td>
<td><p>开发错误跟踪
器-报告开发错误的模块。</p></td>
</tr>
<tr class="row-odd"><td><p>DEM</p></td>
<td><p>Diagnostic Event Manager –
module to which production
relevant errors are reported</p></td>
<td><p>诊断事件管理器
-报告生产相关错误的模块</p></td>
</tr>
<tr class="row-even"><td><p>NV</p></td>
<td><p>Non volatile</p></td>
<td><p>非易失</p></td>
</tr>
<tr class="row-odd"><td><p>FEE</p></td>
<td><p>Flash EEPROM Emulation</p></td>
<td><p>Flash EEPROM仿真</p></td>
</tr>
<tr class="row-even"><td><p>EA</p></td>
<td><p>EEPROM Abstraction</p></td>
<td><p>EEPROM抽象</p></td>
</tr>
<tr class="row-odd"><td><p>FCFS</p></td>
<td><p>First come first served</p></td>
<td><p>先到先得</p></td>
</tr>
<tr class="row-even"><td><p>EEPROM</p></td>
<td><p>Electrically Erasable and
Programmable ROM (Read Only
Memory)</p></td>
<td><p>电可擦可编程只读存储器</p>
<p>(只读型存储器)</p>
</td>
</tr>
<tr class="row-odd"><td><p>MemIf</p></td>
<td><p>Memory Abstraction Interface</p></td>
<td><p>内存抽象接口</p></td>
</tr>
<tr class="row-even"><td><p>NvM</p></td>
<td><p>NVRAM Manager</p></td>
<td><p>非易失RAM管理</p></td>
</tr>
</tbody>
</table>
<section id="id1">
<h2>简介<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<p><img alt="image1" src="../../_images/image1133.png" /></p>
<p>图 NvM模块层次图</p>
<p>NvM模块应根据汽车环境中NV(非易失性)数据的不同需求提供服务，以确保数据的存储和维护。NvM模块必须能够管理EEPROM和/或FLASH
EEPROM仿真设备的NV数据。NvM模块为NV数据的管理和维护提供所需的同步/异步服务(init/read/write/control)。</p>
<p>实现对非易失性数据的管理和维护，即NvM模块应该提供服务，以确保在汽车环境中根据非易失性数据的个人需求进行数据存储和维护；以及能够管理EEPROM或FLASH
EEPROM仿真设备的非易失数据。</p>
<p>NvM模块应该可以根据客户对数据的不同需求，提供对NV（非易失性）数据的管理，包括存储、维护、读取、写入等功能。NvM模块可以管理EEPROM和FLASH
EEPROM仿真设备的NV数据。针对NV数据的存储、维护、读取、写入等功能，NvM模块需要提供所需的同步/异步服务。</p>
<p>NVM提供的功能包括以下几点：</p>
<ul class="simple">
<li><p>NvM模块应该使用队列机制来缓存外部的请求，并通过异步的形式来完成队列中的请求。NvM模块应该根据请求的优先级顺序来从队列里面获取需要处理的请求，并处理相应的请求。</p></li>
<li><p>NvM模块应该提供隐式技术来检查NVRAM块的数据一致性，NVRAM块的数据一致性检查应通过相应NV块的CRC重新计算来完成。</p></li>
<li><p>NvM模块应该提供错误恢复技术。错误恢复取决于NVRAM块管理类型，NvM模块应该通过加载默认值，为每种NVRAM块管理类型提供读时的错误恢复。</p></li>
<li><p>NvM模块应该提供隐式和显式的恢复技术，以便在NV块的不可恢复的数据不一致的情况下，将ROM数据恢复到相应的RAM块中。在隐式恢复期间，相应NV块的数据内容保持不变。</p></li>
<li><p>NvM模块应该提供单块/多块请求的中止功能，该功能能通过配置项来决定是否使能，即是否配置相应的cancel函数。</p></li>
<li><p>NvM模块应该提供不同种类的可配置的写保护。每一种写保护都只与NVRAM块的NV部分相关，即RAM块数据可以修改，但不能写入NV内存。</p></li>
</ul>
<section id="id2">
<h3>参考资料<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>[1] AUTOSAR_SWS_ FlashEEPROMEmulation.PDF，R19-11</p>
<p>[2] AUTOSAR_SWS_ FlashDriver.PDF，R19-11</p>
<p>[3] AUTOSAR_SWS_ MemoryAbstractionInterface.PDF，R19-11</p>
<p>[4] AUTOSAR_SWS_ NVRAMManager.PDF，R19-11</p>
</section>
</section>
<section id="id3">
<h2>功能描述<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>写数据功能<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<section id="id5">
<h4>写数据功能介绍<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<p>当接收到一个外部写数据调用后，NvM模块会根据请求的对应块的状态信息和当前队列信息进行入队列操作，然后NvM模块会在后台对队列进行进一步的处理，调用相应的下层接口，执行相应的判断等。</p>
</section>
<section id="id6">
<h4>写数据功能实现<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<p>当NvM模块的NvM_WriteBlock、NvM_WritePRAMBlock、NvM_WriteAll接口被调用的时候，NvM模块会在调用接口里面进行一些入队列之前的判断，条件符合则将请求放入队列中，然后在NvM_MainFunction函数中进行出队列，并执行相应的请求的操作，符合条件之后会调用MemIf_Write接口进行后续的写操作。如果是轮询模式，则需要调用NvM模块的NvM_GetErrorStatus接口进行任务查询，然后下层执行完成则会返回NVM_REQ_OK，否则会一直返回NVM_REQ_PENDING。如果是回调模式，则NvM模块会在下层执行完成之后，在NvM_MainFunction函数中调用对应块的配置接口NvM_SingleBlockCallbackFunction通知用户执行完成。</p>
</section>
</section>
<section id="id7">
<h3>读取数据功能<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<section id="id8">
<h4>读取数据功能介绍<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<p>当接收到一个外部读取数据调用后，NvM模块会根据请求的对应块的状态信息和当前队列信息进行入队列操作，然后NvM模块会在后台对队列进行进一步的处理，调用相应的下层接口，执行相应的判断等。</p>
</section>
<section id="id9">
<h4>读取数据功能实现<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<p>当NvM模块的NvM_ReadBlock、NvM_ReadPRAMBlock、NvM_ReadAll接口被调用的时候，NvM模块会在调用接口里面进行一些入队列之前的判断，条件符合则将请求放入队列中，然后在NvM_MainFunction函数中进行出队列，并执行相应的请求的操作，符合条件之后会调用MemIf_Read接口进行后续的读操作。如果是轮询模式，则需要调用NvM模块的NvM_GetErrorStatus接口进行任务查询，然后下层执行完成则会返回NVM_REQ_OK，否则会一直返回NVM_REQ_PENDING。如果是回调模式，则NvM模块会在下层执行完成之后，在NvM_MainFunction函数中调用对应块的配置接口NvM_SingleBlockCallbackFunction通知用户执行完成。</p>
</section>
</section>
<section id="id10">
<h3>擦除数据功能<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<section id="id11">
<h4>擦除数据功能介绍<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<p>当接收到一个外部擦除数据调用后，NvM模块会根据请求的对应块的状态信息和当前队列信息进行入队列操作，然后NvM模块会在后台对队列进行进一步的处理，调用相应的下层接口，执行相应的判断等。</p>
</section>
<section id="id12">
<h4>擦除数据功能实现<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<p>当NvM模块的NvM_EraseNvBlock接口被调用的时候，NvM模块会在调用接口里面进行一些入队列之前的判断，条件符合则将请求放入队列中，然后在NvM_MainFunction函数中进行出队列，并执行相应的请求的操作，符合条件之后会调用MemIf_EraseImmediateBlock接口进行后续的擦除操作。如果是轮询模式，则需要调用NvM模块的NvM_GetErrorStatus接口进行任务查询，然后下层执行完成则会返回NVM_REQ_OK，否则会一直返回NVM_REQ_PENDING。如果是回调模式，则NvM模块会在下层执行完成之后，在NvM_MainFunction函数中调用对应块的配置接口NvM_SingleBlockCallbackFunction通知用户执行完成。</p>
</section>
</section>
<section id="id13">
<h3>数据无效/有效功能<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<section id="id14">
<h4>数据无效/有效功能介绍<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<p>当接收到一个外部数据无效/有效调用后，NvM模块会根据请求的对应块的状态信息和当前队列信息进行入队列操作，然后NvM模块会在后台对队列进行进一步的处理，调用相应的下层接口，执行相应的判断等。</p>
</section>
<section id="id15">
<h4>数据无效功能实现<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<p>当NvM模块的NvM_InvalidateNvBlock/
NvM_ValidateAll接口被调用的时候，NvM模块会在调用接口里面进行一些入队列之前的判断，条件符合则将请求放入队列中，然后在NvM_MainFunction函数中进行出队列，并执行相应的请求的操作，符合条件之后会调用MemIf_InvalidateBlock接口进行后续的无效/有效操作。如果是轮询模式，则需要调用NvM模块的NvM_GetErrorStatus接口进行任务查询，然后下层执行完成则会返回NVM_REQ_OK，否则会一直返回NVM_REQ_PENDING。如果是回调模式，则NvM模块会在下层执行完成之后，在NvM_MainFunction函数中调用对应块的配置接口NvM_SingleBlockCallbackFunction通知用户执行完成。</p>
</section>
</section>
<section id="id16">
<h3>数据恢复功能<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<section id="id17">
<h4>数据恢复功能介绍<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h4>
<p>当接收到一个外部数据恢复调用后，NvM模块会根据请求的对应块的状态信息和当前队列信息进行入队列操作，然后NvM模块会在后台对队列进行进一步的处理，调用相应的下层接口，执行相应的判断等。</p>
</section>
<section id="id18">
<h4>数据恢复功能实现<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h4>
<p>当NvM模块的NvM_RestoreBlockDefaults、NvM_RestorePRAMBlockDefaults接口被调用的时候，NvM模块会在调用接口里面进行一些入队列之前的判断，条件符合则将请求放入队列中，然后在NvM_MainFunction函数中进行出队列，并执行相应的请求的操作。如果是轮询模式，则需要调用NvM模块的NvM_GetErrorStatus接口进行任务查询，然后执行完成则会返回NVM_REQ_OK，否则会一直返回NVM_REQ_PENDING。如果是回调模式，则NvM模块会在执行完成之后，在NvM_MainFunction函数中调用对应块的配置接口NvM_SingleBlockCallbackFunction通知用户执行完成。</p>
</section>
</section>
<section id="id19">
<h3>多块写取消功能<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<section id="id20">
<h4>多块写取消功能介绍<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h4>
<p>当接收到一个外部数据多块写取消调用后，NvM模块会根据请求的对应块的状态信息和当前队列信息进行入队列操作，然后NvM模块会在后台对队列进行进一步的处理，调用相应的下层接口，执行相应的判断等。然后在执行过程中NvM模块接收到NvM_CancelWriteAll接口调用，则会取消正在进行的多块写操作。</p>
</section>
<section id="id21">
<h4>多块写取消功能实现<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h4>
<p>当NvM模块的NvM_WriteAll接口被调用的时候，NvM模块会在调用接口里面进行一些入队列之前的判断，条件符合则将请求放入队列中，然后在NvM_MainFunction函数中进行出队列，并执行相应的请求的操作。如果在执行过程中NvM模块接收到NvM_CancelWriteAll接口调用，则会取消正在进行的多块写操作。如果是轮询模式，则需要调用NvM模块的NvM_GetErrorStatus接口进行任务查询，会返回NVM_REQ_CANCELED。如果是回调模式，在NvM_MainFunction函数中调用对应块的配置接口NvM_SingleBlockCallbackFunction通知用户NVM_REQ_CANCELED。</p>
</section>
</section>
<section id="dem">
<h3>支持Dem同步功能<a class="headerlink" href="#dem" title="Link to this heading">¶</a></h3>
<p>当Dem有存储需要的时候，Dem模块会执行同步功能，使NvM会自动创建对应长度与个数的NvMBlock，实现快速同步Dem信息的作用。</p>
</section>
</section>
<section id="id22">
<h2>源文件描述<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h2>
<p>表 NvM组件文件描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>文件</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>NvM_Cfg.h</p></td>
<td><p>定义NvM模块预编译时用到的配置参数。</p></td>
</tr>
<tr class="row-odd"><td><p>NvM_Cfg.c</p></td>
<td><p>定义NvM模块配置相关的配置参数。</p></td>
</tr>
<tr class="row-even"><td><p>NvM.h</p></td>
<td><p>NvM模块头文件，包
含了API函数的扩展声明并定义了端口的数据结构。</p></td>
</tr>
<tr class="row-odd"><td><p>NvM .c</p></td>
<td><p>NvM模块源文件，包含了API函数的实现。</p></td>
</tr>
<tr class="row-even"><td><p>NvM_MemMap.h</p></td>
<td><p>包含NvM模块的内存抽象。</p></td>
</tr>
<tr class="row-odd"><td><p>NvM_Types.h</p></td>
<td><p>包含NvM模块需要使用的类型定义。</p></td>
</tr>
<tr class="row-even"><td><p>NvM_Inter.c</p></td>
<td><p>NvM模块内部处理调用的相关API函数实现。</p></td>
</tr>
<tr class="row-odd"><td><p>NvM_Inter.h</p></td>
<td><p>NvM模块内部处理调用的相关API函数声明。</p></td>
</tr>
<tr class="row-even"><td><p>NvM_Cbk.h</p></td>
<td><p>NvM模块回调接口
相关头文件，包含了回调接口相关API函数的扩展声
明并定义了端口的数据结构。(在FEE/EA模块中引用)</p></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image279.png"><img alt="image2" src="../../_images/image279.png" style="width: 5.76736in; height: 6.4125in;" /></a></p>
<p>图 NvM组件文件交互关系图</p>
</section>
<section id="api">
<h2>API接口<a class="headerlink" href="#api" title="Link to this heading">¶</a></h2>
<section id="id23">
<h3>类型定义<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h3>
<section id="id24">
<h4>导入类型定义<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h4>
<section id="nvm-configtype">
<h5>NvM_ConfigType类型定义<a class="headerlink" href="#nvm-configtype" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>NvM_ConfigType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>配置参数结构体类型定义</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-multiblockrequesttype">
<h5>NvM_MultiBlockRequestType类型定义<a class="headerlink" href="#nvm-multiblockrequesttype" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>NvM_MultiBlockRequestType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Enumeration</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>执行多块读操作：NVM_READ_ALL = 0</p>
<p>执行多块写操作：NVM_WRITE_ALL = 1</p>
<p>执行多块有效操作：NVM_VALIDATE_ALL = 2</p>
<p>执行多块第一次初始化操作：NVM_FIRST_INIT_ALL = 3</p>
<p>执行多块取消写操作：NVM_CANCEL_WRITE_ALL = 4</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>标识通
过回调函数发出信号或向BswM报告时在多个块上执行的请求类型</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id25">
<h4>实现数据类型定义<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h4>
<section id="nvm-requestresulttype">
<h5>NvM_RequestResultType类型定义<a class="headerlink" href="#nvm-requestresulttype" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>NvM_RequestResultType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint8</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>上一次异步请求已成功完成，NVM_REQ_OK = 0</p>
<p>上一次异步读/写/控制请求未成功完成，NVM_REQ_NOT_OK = 1</p>
<p>当前正在等待异步读/写/控制挂起，NVM_REQ_PENDING = 2</p>
<p>上
一次异步请求的数据完整性失败，NVM_REQ_INTEGRITY_FAILED=3</p>
<p>NvM_Re
adAll或NvM_WriteAll请求的块被跳过，NVM_REQ_BLOCK_SKIPPED
= 4</p>
<p>引用的NV块无效，NVM_REQ_NV_INVALIDATED = 5</p>
<p>NvM_CancelWriteAll取消多块请求，NVM_REQ_CANCELED = 6</p>
<p>引用
的NV块将默认值复制到RAM映像中，NVM_REQ_RESTORED_FROM_ROM
= 8</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>调用NvM_GetErrorStatus返回的异步请求结果</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-blockidtype">
<h5>NvM_BlockIdType类型定义<a class="headerlink" href="#nvm-blockidtype" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>NvM_BlockIdType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint16</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>0..2^(16-NvMDatasetSelectionBits)-1</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>通过一个唯一的块标识符来标识一个NVRAM块。</p>
<p>保留NVRAM块id：</p>
<p>0：通过NvM_GetErrorStatus派生多个块请求结果</p>
<p>1：冗余NVRAM块，它保存配置ID</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-initblockrequesttype">
<h5>NvM_InitBlockRequestType类型定义<a class="headerlink" href="#nvm-initblockrequesttype" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>NvM_InitBlockRequestType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint8</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>请求NvM_ReadBlock/ NvM_ReadPRAMBlock服务，</p>
<p>NVM_INIT_READ_BLOCK = 0；</p>
<p>请求NvM_RestoreBlockDefaults/
NvM_Resto
rePRAMBlockDefaults服务，NVM_INIT_RESTORE_BLOCK_DEFAULTS
= 1；</p>
<p>NvM_ReadAll正在处理这个块，NVM_INIT_READ_ALL_BLOCK = 2；</p>
<p>NvM_FirstInitAll正在处理这个块NVM_INIT_FIRST_INIT_ALL =
3；</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>标识通过回调函数发出信号时在块上执行的请求类型</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-blockrequesttype">
<h5>NvM_BlockRequestType类型定义<a class="headerlink" href="#nvm-blockrequesttype" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>NvM_BlockRequestType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint8</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>NvM_ReadBlock/ NvM_ReadPRAMBlock服务已执行，</p>
<p>NVM_READ_BLOCK = 0；</p>
<p>NvM_WriteBlock/ NvM_WritePRAMBlock服务已执行，</p>
<p>NVM_WRITE_BLOCK = 1；</p>
<p>NvM_RestoreBlockDefaults/
NvM_Restor
ePRAMBlockDefaults服务已执行，NVM_RESTORE_BLOCK_DEFAULTS
= 2；</p>
<p>NvM_EraseNvBlock服务已执行，NVM_ERASE_NV_BLOCK = 3；</p>
<p>NvM_InvalidateNvBlock服务已执行，NVM_INVALIDATE_NV_BLOCK
= 4；</p>
<p>NvM_ReadAll已经完成对这个块的处理，NVM_READ_ALL_BLOCK =
5；</p>
</td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>标识通过回调函数发出信号时在块上执行的请求类型</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="id26">
<h3>输入函数描述<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>输入模块</strong></p></td>
<td><p><strong>API</strong></p></td>
</tr>
<tr class="row-even"><td><p>DET</p></td>
<td><p>Det_ReportError</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Det_ReportRuntimeError</p></td>
</tr>
<tr class="row-even"><td><p>MemIf</p></td>
<td><p>MemIf_Cancel</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>MemIf_EraseImmediateBlock</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>MemIf_GetJobResult</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>MemIf_GetStatus</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>MemIf_InvalidateBlock</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>MemIf_Read</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>MemIf_Write</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>MemIf_SetMode</p></td>
</tr>
<tr class="row-even"><td><p>CRC</p></td>
<td><p>Crc_CalculateCRC16</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Crc_CalculateCRC32</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Crc_CalculateCRC8</p></td>
</tr>
<tr class="row-odd"><td><p>ECUM</p></td>
<td><p>EcuM_CB_NfyNvMJobEnd</p></td>
</tr>
<tr class="row-even"><td><p>BswM</p></td>
<td><p>BswM_NvM_CurrentBlockMode</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>BswM_NvM_CurrentJobMode</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id27">
<h3>静态接口函数定义<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h3>
<section id="nvm-init">
<h4>NvM_Init函数定义<a class="headerlink" href="#nvm-init" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_Init</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void, NVM_CODE)
NvM_Init(const
NvM_ConfigType*
ConfigPtr)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x00</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>Confi
gPtr：配置数据结构体的指针</p></td>
<td><p>值
域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>初始化NVM模块变量</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-setdataindex">
<h4>NvM_SetDataIndex函数定义<a class="headerlink" href="#nvm-setdataindex" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_SetDataIndex</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType, NVM_CODE)
NvM_SetDataIndex(NvM_BlockIdType
BlockId, uint8 DataIndex)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x01</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0
..65535</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>DataIndex：NV/ROM块的索引位置</p></td>
<td><p>值域：</p></td>
<td><p>0..255</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：E_OK: The index
position was set successfully.
E_NOT_OK: An error occurred.</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>设置指定块的索引值</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-getdataindex">
<h4>NvM_GetDataIndex函数定义<a class="headerlink" href="#nvm-getdataindex" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_GetDataIndex</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType, NVM_CODE)</p>
<p>Nv
M_GetDataIndex(NvM_BlockIdType
BlockId, P2VAR(uint8,
AUTOMATIC, NVM_APPL_DATA)
DataIndexPtr)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x02</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0.
.65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>Da
taIndexPtr：NV/ROM块的索引位置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：成功</p>
<p>E_NOT_OK：失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取指定块的索引值</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-setblockprotection">
<h4>NvM_SetBlockProtection函数定义<a class="headerlink" href="#nvm-setblockprotection" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_SetBlockProtection</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
NVM_CODE)
NvM_SetBloc
kProtection(NvM_BlockIdType
BlockId, boolean
ProtectionEnabled)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x03</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值
域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>ProtectionEnabled：
写保护标志</p></td>
<td><p>值
域：</p></td>
<td><p>TRUE/FALSE</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>设置/重置块保护</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-geterrorstatus">
<h4>NvM_GetErrorStatus函数定义<a class="headerlink" href="#nvm-geterrorstatus" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_GetErrorStatus</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
NVM_CODE)</p>
<p>NvM_Get
ErrorStatus(NvM_BlockIdType
BlockId,
NvM_RequestResultType*
RequestResultPtr)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x04</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值
域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>RequestResultPtr：请求结果</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取指定块的处理结果</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-getversioninfo">
<h4>NvM_GetVersionInfo函数定义<a class="headerlink" href="#nvm-getversioninfo" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>N
vM_GetVersionInfo</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
NvM_Ge
tVersionInfo(Std
_VersionInfoType*
versioninfo)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0f</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>vers
ioninfo：版本信息</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获
取NvM模块版本信息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-setramblockstatus">
<h4>NvM_SetRamBlockStatus函数定义<a class="headerlink" href="#nvm-setramblockstatus" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_SetRamBlockStatus</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
NVM_CODE)
NvM_SetR
amBlockStatus(NvM_BlockIdType
BlockId, boolean
BlockChanged)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x05</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockChanged： 有效改变标志</p></td>
<td><p>值域：</p></td>
<td><p>T
RUE/FALSE</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK: The status of the
permanent RAM block or the
explicit synchronization was
changed as requested.</p>
<p>E_NOT_OK: An error occurred.</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>设置永久内存块
的状态或NVRAM块显式同步的状态</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-setblocklockstatus">
<h4>NvM_SetBlockLockStatus函数定义<a class="headerlink" href="#nvm-setblocklockstatus" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_SetBlockLockStatus</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void, NVM_CODE)
NvM_SetBloc
kLockStatus(NvM_BlockIdType
BlockId, boolean
BlockLocked)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x13</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockLocked：上锁标志</p></td>
<td><p>值域：</p></td>
<td><p>TRUE/FALSE</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>设置永久RAM
块或NVRAM块显式同步的锁状态</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-canceljobs">
<h4>NvM_CancelJobs函数定义<a class="headerlink" href="#nvm-canceljobs" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_CancelJobs</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
NVM_CODE)
NvM
_CancelJobs(NvM_BlockIdType
BlockId)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x10</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值
域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：取消请求成功</p>
<p>E_NOT_OK：取消请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>取消指定块之前的请求</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-readblock">
<h4>NvM_ReadBlock函数定义<a class="headerlink" href="#nvm-readblock" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_ReadBlock</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType, NVM_CODE)
NvM_ReadBlock(NvM_BlockIdType
BlockId, void* NvM_DstPtr)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x06</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0.
.65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>NvM_DstPtr：RAM数据块地址</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>将NV块的数据复制到其相应的RAM块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-writeblock">
<h4>NvM_WriteBlock函数定义<a class="headerlink" href="#nvm-writeblock" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_WriteBlock</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
NVM_CODE)
NvM_WriteBloc
k(NvM_BlockIdType
BlockId, void*
NvM_SrcPtr)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x07</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>NvM_SrcPtr：</p>
<p>指
向RAM数据块的指针</p>
</td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>BlockId：
NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E
_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>将RAM块的数据复制
到其相应的NV块。</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-restoreblockdefaults">
<h4>NvM_RestoreBlockDefaults函数定义<a class="headerlink" href="#nvm-restoreblockdefaults" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_RestoreBlockDefaults</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType, NVM_CODE)
NvM_Rest
oreBlockDefaults(NvM_BlockIdType
BlockId, void* NvM_DestPtr)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x08</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0
..65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>NvM_DestPtr：RAM数据块地址</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求将指定块恢复为默认数据</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-erasenvblock">
<h4>NvM_EraseNvBlock函数定义<a class="headerlink" href="#nvm-erasenvblock" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_EraseNvBlock</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType, NVM_CODE)
N
vM_EraseNvBlock(NvM_BlockIdType
BlockId)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x09</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值
域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求擦除指定块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-cancelwriteall">
<h4>NvM_CancelWriteAll函数定义<a class="headerlink" href="#nvm-cancelwriteall" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>N
vM_CancelWriteAll</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
NVM_CODE)
NvM_Can
celWriteAll(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0a</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求取消全写任务</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-invalidatenvblock">
<h4>NvM_InvalidateNvBlock函数定义<a class="headerlink" href="#nvm-invalidatenvblock" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_InvalidateNvBlock</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType, NVM_CODE)
NvM_Inv
alidateNvBlock(NvM_BlockIdType
BlockId)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0b</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0.
.65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>无效化指定块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-readpramblock">
<h4>NvM_ReadPRAMBlock函数定义<a class="headerlink" href="#nvm-readpramblock" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_ReadPRAMBlock</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
NVM_CODE)
NvM
_ReadPRAMBlock(NvM_BlockIdType
BlockId)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x16</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求拷贝指定块数据到配置的RAM</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-writepramblock">
<h4>NvM_WritePRAMBlock函数定义<a class="headerlink" href="#nvm-writepramblock" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_WritePRAMBlock</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType, NVM_CODE)
Nv
M_WritePRAMBlock(NvM_BlockIdType
BlockId)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x17</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0
..65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求将PRAM数据放入指定的NV块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-restorepramblockdefaults">
<h4>NvM_RestorePRAMBlockDefaults函数定义<a class="headerlink" href="#nvm-restorepramblockdefaults" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_RestorePRAMBlockDefaults</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
NVM_CODE)
NvM_RestorePRAM
BlockDefaults(NvM_BlockIdType
BlockId)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x18</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>BlockId：NVRAM块唯一描述符</p></td>
<td><p>值域：</p></td>
<td><p>0..65535</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：请求成功</p>
<p>E_NOT_OK：请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求将PRAM数据恢复为默认数据</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-readall">
<h4>NvM_ReadAll函数定义<a class="headerlink" href="#nvm-readall" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_ReadAll</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
NVM_CODE)
NvM_ReadAll(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0c</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求读取所有块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-writeall">
<h4>NvM_WriteAll函数定义<a class="headerlink" href="#nvm-writeall" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_WriteAll</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
NVM_CODE)
N
vM_WriteAll(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0d</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请
求对所有块进行写</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-validateall">
<h4>NvM_ValidateAll函数定义<a class="headerlink" href="#nvm-validateall" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_ValidateAll</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
NVM_CODE)
NvM_
ValidateAll(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x19</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请
求将指定块无效化</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-jobendnotification">
<h4>NvM_JobEndNotification函数定义<a class="headerlink" href="#nvm-jobendnotification" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_J
obEndNotification</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
NVM_CODE)
NvM_JobEndN
otification(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x11</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>任务完成回调</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-joberrornotification">
<h4>NvM_JobErrorNotification函数定义<a class="headerlink" href="#nvm-joberrornotification" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_Job
ErrorNotification</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
NVM_CODE)
NvM_JobErrorN
otification(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x12</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>任务错误回调</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-mainfunction">
<h4>NvM_MainFunction函数定义<a class="headerlink" href="#nvm-mainfunction" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>NvM_MainFunction</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
NVM_CODE)
NvM_M
ainFunction(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0e</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>主函数处理任务</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id28">
<h3>可配置函数定义<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h3>
<section id="nvm-singleblockcallbackfunction">
<h4>NvM_SingleBlockCallbackFunction函数定义<a class="headerlink" href="#nvm-singleblockcallbackfunction" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函
数
名
称</p></td>
<td><p>NvM_SingleB
lockCallbackFunction</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函
数
原
型</p></td>
<td><p>Std_ReturnType
NvM_SingleBlockCa
llbackFunction(uint8
ServiceId,
NvM_RequestResultType
JobResult)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服
务
编
号</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同
步
/
异
步</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否
可
重
入</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输
入
参
数</p></td>
<td><p>BlockReque
st：单个块的请求类型</p></td>
<td><p>值
域
：</p></td>
<td><p>NVM_INIT_READ_BLOCK,
NVM_INIT_RESTORE_BLOCK_DEFAULTS,</p>
<p>NVM_INIT_READ_ALL_BLOCK,
NVM_INIT_FIRST_INIT_ALL</p>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>J
obResult：以前处理的
单个块请求的任务结果</p></td>
<td><p>值
域
：</p></td>
<td><p>NVM_REQ_OK</p>
<p>NVM_REQ_NOT_OK</p>
<p>NVM_REQ_PENDING</p>
<p>NVM_REQ_INTEGRITY_FAILED</p>
<p>NVM_REQ_BLOCK_SKIPPED</p>
<p>NVM_REQ_NV_INVALIDATED</p>
<p>NVM_REQ_CANCELED</p>
<p>NVM_REQ_REDUNDANCY_FAILED</p>
<p>NVM_REQ_RESTORED_FROM_ROM</p>
</td>
</tr>
<tr class="row-even"><td><p>输
入
输
出
参
数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输
出
参
数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返
回
值</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：
回调函数已被成功处理</p>
<p>E_NOT_OK：回
调函数没有被成功处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功
能
概
述</p></td>
<td><p>块回调通知上层一个异
步单个块请求已经完成</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-multiblockcallbackfunction">
<h4>NvM_MultiBlockCallbackFunction函数定义<a class="headerlink" href="#nvm-multiblockcallbackfunction" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函
数
名
称</p></td>
<td><p>NvM_MultiB
lockCallbackFunction</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函
数
原
型</p></td>
<td><p>void
NvM_MultiBlockCa
llbackFunction(uint8
ServiceId,
N
vM_RequestResultType
JobResult)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服
务
编
号</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同
步
/
异
步</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否
可
重
入</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输
入
参
数</p></td>
<td><p>BlockReque
st：多个块的请求类型</p></td>
<td><p>值
域
：</p></td>
<td><p>NVM_INIT_READ_BLOCK,</p>
<p>NVM_INIT_RESTORE_BLOCK_DEFAULTS,</p>
<p>NVM_INIT_READ_ALL_BLOCK,
NVM_INIT_FIRST_INIT_ALL</p>
</td>
</tr>
<tr class="row-odd"><td></td>
<td><p>J
obResult：以前处理的
多个块请求的任务结果</p></td>
<td><p>值
域
：</p></td>
<td><p>NVM_REQ_OK</p>
<p>NVM_REQ_NOT_OK</p>
<p>NVM_REQ_PENDING</p>
<p>NVM_REQ_INTEGRITY_FAILED</p>
<p>NVM_REQ_BLOCK_SKIPPED</p>
<p>NVM_REQ_NV_INVALIDATED</p>
<p>NVM_REQ_CANCELED</p>
<p>NVM_REQ_REDUNDANCY_FAILED</p>
<p>NVM_REQ_RESTORED_FROM_ROM</p>
</td>
</tr>
<tr class="row-even"><td><p>输
入
输
出
参
数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输
出
参
数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返
回
值</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：
回调函数已被成功处理</p>
<p>E_NOT_OK：回
调函数没有被成功处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功
能
概
述</p></td>
<td><p>通知上层异步多
块请求已经完成的回调</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="initblockcallbackfunction">
<h4>InitBlockCallbackFunction函数定义<a class="headerlink" href="#initblockcallbackfunction" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函
数名称</p></td>
<td><p>InitBlockCa
llbackFunction</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函
数原型</p></td>
<td><p>Std_ReturnType
InitBloc
kCallbackFunct
ion(NvM_InitBl
ockRequestType
Ini
tBlockRequest)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服
务编号</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同
步/异步</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是否
可重入</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输
入参数</p></td>
<td><p>InitBl
ockRequest：初
始块的请求类型</p></td>
<td><p>值
域
：</p></td>
<td><p>NVM_INIT_READ_BLOCK,</p>
<p>NVM_INIT_RESTORE_BLOCK_DEFAULTS,</p>
<p>NVM_INIT_READ_ALL_BLOCK,
NVM_INIT_FIRST_INIT_ALL</p>
</td>
</tr>
<tr class="row-odd"><td><p>输入输
出参数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输
出参数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值</p></td>
<td><p>St
d_ReturnType：</p>
<p>E_OK：回调函
数已被成功处理</p>
<p>E_NO
T_OK：回调函数
没有被成功处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功
能概述</p></td>
<td><p>当默认数据
需要在RAM中恢
复时，由NvM模
块调用的回调通
知函数，即使配
置了一个ROM块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-writeramblocktonvm">
<h4>NvM_WriteRamBlockToNvm函数定义<a class="headerlink" href="#nvm-writeramblocktonvm" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称</p></td>
<td><p>NvM_WriteRamBlockToNvm</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型</p></td>
<td><p>Std_ReturnType
NvM_WriteRamBlockToNvm(void*
NvMBuffer)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数</p></td>
<td><p>无</p></td>
<td><p>值
域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数</p></td>
<td><p>NvMBuffer：数据要写入的缓冲区的地址</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：回调函数已被成功处理</p>
<p>E_NOT_OK：回调函数没有被成功处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述</p></td>
<td><p>为了将数据从RAM块复制到N
vM模块的镜像，需要调用特定块的回调例程</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvm-readramblockfromnvm">
<h4>NvM_ReadRamBlockFromNvm函数定义<a class="headerlink" href="#nvm-readramblockfromnvm" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称</p></td>
<td><p>NvM_ReadRamBlockFromNvm</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型</p></td>
<td><p>Std_ReturnType
NvM_ReadRamBlockFromNvm(const void*
NvMBuffer)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数</p></td>
<td><p>NvMBuffer：可以从中读取数据的缓冲区的地址</p></td>
<td><p>值
域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值</p></td>
<td><p>Std_ReturnType：</p>
<p>E_OK：回调函数已被成功处理</p>
<p>E_NOT_OK：回调函数没有被成功处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述</p></td>
<td><p>为了让将数据从NvM模块的镜
像复制到RAM块，需要调用特定块的回调例程。</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="swc">
<h3>SWC服务组件封装<a class="headerlink" href="#swc" title="Link to this heading">¶</a></h3>
<p>以下类型和接口可以封装至SWC生成完整的服务组件，可以与应用通过端口连接，没有列出的部分NvM底层暂时不支持。</p>
<section id="id29">
<h4>实现数据类型封装<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>类型名及定义引用</p></td>
<td><p>生成条件</p></td>
</tr>
<tr class="row-even"><td><p>NvM_RequestResultType</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>NvM_BlockIdType</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>NvM_InitBlockRequestType</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>NvM_BlockRequestType</p></td>
<td><p>无</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cs">
<h4>CS接口封装<a class="headerlink" href="#cs" title="Link to this heading">¶</a></h4>
<section id="rte-call-nvm-padmin-block-setblockprotection">
<h5>Rte_Call_NvM_PAdmin_{Block}_SetBlockProtection<a class="headerlink" href="#rte-call-nvm-padmin-block-setblockprotection" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PAdmin_{Block}_SetBlockProtection</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.4</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PAdmin_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-pm-block-readramblockfromnvm">
<h5>Rte_Call_NvM_PM_{Block}_ReadRamBlockFromNvM<a class="headerlink" href="#rte-call-nvm-pm-block-readramblockfromnvm" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PM_{Block}_ReadRamBlockFromNvM</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.4.5</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1. UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value()
== true;</p>
<p>2. UsePortSyncMech =
nvBloc
kDescriptor.subElt(“NvMBlockUseSyncMechanism”).value()
== true;</p>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Required Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PM_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-pm-block-writeramblocktonvm">
<h5>Rte_Call_NvM_PM_{Block}_WriteRamBlockToNvM<a class="headerlink" href="#rte-call-nvm-pm-block-writeramblocktonvm" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PM_{Block}_WriteRamBlockToNvM</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.4.4</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1. UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value()
== true;</p>
<p>2. UsePortSyncMech =
nvBloc
kDescriptor.subElt(“NvMBlockUseSyncMechanism”).value()
== true;</p>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Required Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PM_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-pnib-block-initblock">
<h5>Rte_Call_NvM_PNIB_{Block}_InitBlock<a class="headerlink" href="#rte-call-nvm-pnib-block-initblock" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PNIB_{Block}_InitBlock</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.4.3</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1. UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value()
== true;</p>
<p>2. InitBlockCallbackDef =
nvBlock
Descriptor.subElt(“NvMInitBlockCallback”).isDefined();</p>
<p>3. InitBlockCallbackFncDef =
nvBlockDescriptor.subElt(“NvMIn
itBlockCallback/NvMInitBlockCallbackFnc”).isDefined();</p>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Required Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PNIB_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-pnjf-block-jobfinished">
<h5>Rte_Call_NvM_PNJF_{Block}_JobFinished<a class="headerlink" href="#rte-call-nvm-pnjf-block-jobfinished" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PNJF_{Block}_JobFinished</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.4.1</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>1. UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value()
== true;</p>
<p>2. SingleBlockCallbackDef =
nvBlockDe
scriptor.subElt(“NvMSingleBlockCallback”).isDefined();</p>
<p>3. SingleBlockCallbackFncDef =
nvBlockDescriptor.subElt(“NvMSingle
BlockCallback/NvMSingleBlockCallbackFnc”).isDefined();</p>
</td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Required Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PNJF_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-eraseblock">
<h5>Rte_Call_NvM_PS_{Block}_EraseBlock<a class="headerlink" href="#rte-call-nvm-ps-block-eraseblock" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_EraseBlock</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.13</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-getdataindex">
<h5>Rte_Call_NvM_PS_{Block}_GetDataIndex<a class="headerlink" href="#rte-call-nvm-ps-block-getdataindex" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_GetDataIndex</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.3</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-geterrorstatus">
<h5>Rte_Call_NvM_PS_{Block}_GetErrorStatus<a class="headerlink" href="#rte-call-nvm-ps-block-geterrorstatus" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_GetErrorStatus</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.5</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-invalidatenvblock">
<h5>Rte_Call_NvM_PS_{Block}_InvalidateNvBlock<a class="headerlink" href="#rte-call-nvm-ps-block-invalidatenvblock" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_InvalidateNvBlock</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.15</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-readblock">
<h5>Rte_Call_NvM_PS_{Block}_ReadBlock<a class="headerlink" href="#rte-call-nvm-ps-block-readblock" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_ReadBlock</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.10</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-readpramblock">
<h5>Rte_Call_NvM_PS_{Block}_ReadPRAMBlock<a class="headerlink" href="#rte-call-nvm-ps-block-readpramblock" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_ReadPRAMBlock</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.16</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-restoreblockdefaults">
<h5>Rte_Call_NvM_PS_{Block}_RestoreBlockDefaults<a class="headerlink" href="#rte-call-nvm-ps-block-restoreblockdefaults" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_RestoreBlockDefaults</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.12</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-restorepramblockdefaults">
<h5>Rte_Call_NvM_PS_{Block}_RestorePRAMBlockDefaults<a class="headerlink" href="#rte-call-nvm-ps-block-restorepramblockdefaults" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_RestorePRAMBlockDefaults</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.18</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-setdataindex">
<h5>Rte_Call_NvM_PS_{Block}_SetDataIndex<a class="headerlink" href="#rte-call-nvm-ps-block-setdataindex" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_SetDataIndex</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.2</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-setramblockstatus">
<h5>Rte_Call_NvM_PS_{Block}_SetRamBlockStatus<a class="headerlink" href="#rte-call-nvm-ps-block-setramblockstatus" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_SetRamBlockStatus</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.7</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-writeblock">
<h5>Rte_Call_NvM_PS_{Block}_WriteBlock<a class="headerlink" href="#rte-call-nvm-ps-block-writeblock" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_WriteBlock</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.11</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="rte-call-nvm-ps-block-writepramblock">
<h5>Rte_Call_NvM_PS_{Block}_WritePRAMBlock<a class="headerlink" href="#rte-call-nvm-ps-block-writepramblock" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Rte_Call_NvM_PS_{Block}_WritePRAMBlock</p></td>
</tr>
<tr class="row-even"><td><p>引用
函数定义：</p></td>
<td><p>详见4.3.17</p></td>
</tr>
<tr class="row-odd"><td><p>变体：</p></td>
<td><p>Block = nvBlockDescriptor.shortname();</p></td>
</tr>
<tr class="row-even"><td><p>生成条件：</p></td>
<td><p>UsePort =
nvBlockDescriptor.subElt(“NvMBlockUsePort”).value() ==
true;</p></td>
</tr>
<tr class="row-odd"><td><p>端口类型：</p></td>
<td><p>Provided Port</p></td>
</tr>
<tr class="row-even"><td><p>从属端口：</p></td>
<td><p>PS_{Block}</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
<section id="id30">
<h2>配置<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h2>
<section id="nvmcommon">
<h3>NvMCommon<a class="headerlink" href="#nvmcommon" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image358.png"><img alt="image3" src="../../_images/image358.png" style="width: 5.76736in; height: 2.69931in;" /></a></p>
<p>图 NvMCommon容器配置图</p>
<p>表 NvMCommon属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMAp
iConfigClass</p></td>
<td><p>取值范围</p></td>
<td><p>NVM
_API_CONFIG_CLASS
_1/NVM_API_CONFI
G_CLASS_2/NVM_AP
I_CONFIG_CLASS_3</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>预处理器开关，使
能一些API的调用</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>N
vMBswMMultiB
lockJobStatu
sInformation</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否通知BswM多
块作业的当前状态</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMComp
iledConfigId</p></td>
<td><p>取值范围</p></td>
<td><p>0 … 65535</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>关于NV内
存布局的配置ID。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMC
rcNumOfBytes</p></td>
<td><p>取值范围</p></td>
<td><p>1 … 65535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>如果为
至少一个NVRAM块
配置CRC，则此参
数定义在请求处理
的一个周期内应处
理的最大字节数，
CRC计算的长度。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMDatasetS
electionBits</p></td>
<td><p>取值范围</p></td>
<td><p>0 … 8</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>在内存硬件
抽象接口中定义最
低有效位的数目，
用于寻址dataset
类型的NVRAM块。</p>
<p>0
…8：
用于数据集或冗余
块寻址的bit位。</p>
<p>0：根本没有data
set或冗余NVRAM块
，不需要选择位。</p>
<p>1：配
置了冗余NVRAM块
，但没有dataset
的NVRAM块。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>依
赖于底层硬件要求</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMDe
vErrorDetect</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>DET检查使能开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMD
rvModeSwitch</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>预处
理器开关，使驱动
在执行NvM_ReadA
ll和NvM_WriteAll
时切换到快速模式</p>
<p>true
：启用快速模式。</p>
<p>false
：禁用快速模式。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMDynamicC
onfiguration</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>动
态配置管理处理N
vM_ReadAll请求。</p>
<p>true：启用动
态配置管理处理。</p>
<p>false：禁用动
态配置管理处理。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMJobPr
ioritization</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>优先级处理开关</p>
<p>true：
启用优先级处理。</p>
<p>false：
禁用优先级处理。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMMainFu
nctionPeriod</p></td>
<td><p>取值范围</p></td>
<td><p>0 … INF</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>主函数周期</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>未使
用，可以不用关心</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMMultiB
lockCallback</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>每个异步
多块请求终止时调
用的公共回调函数</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMBs
wMMultiBlockJobS
tatusInformation</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Nv
MPollingMode</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>启用
/禁用轮询模式，
同时禁用/启用底
层可用的回调函数</p>
<p>tr
ue：开启轮询模式
，关闭回调功能。</p>
<p>fal
se：关闭轮询模式
，启用回调功能。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>N
vMRepeatMirr
orOperations</p></td>
<td><p>取值范围</p></td>
<td><p>0-7</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>在推迟当
前作业之前，让应
用程序将数据复制
到NvM模块的镜像
或从NvM模块复制
数据的重试次数。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMSetRamBl
ockStatusApi</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>Nvm
_setramblockstat
us函数使能开关。</p>
<p>true：
NvM_S
etRamBlockStatus
使能。</p>
<p>false：
NvM_S
etRamBlockStatus
不使能。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMSizeImmed
iateJobQueue</p></td>
<td><p>取值范围</p></td>
<td><p>1-255</p></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>定义立即优
先级作业队列的队
列条目数。如果NV
M_JOB_PRIORITIZA
TION被关闭，则该
参数将超出范围。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NVM_JOB_PRIORI
TIZATION需要使能</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMSizeStan
dardJobQueue</p></td>
<td><p>取值范围</p></td>
<td><p>1-255</p></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>标准作业
队列的队列条目数</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMVe
rsionInfoApi</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>版本获取函数开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvmblockdescriptor">
<h3>NvMBlockDescriptor<a class="headerlink" href="#nvmblockdescriptor" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image449.png"><img alt="image4" src="../../_images/image449.png" style="width: 5.76736in; height: 4.96522in;" /></a></p>
<p><a class="reference internal" href="../../_images/image546.png"><img alt="image5" src="../../_images/image546.png" style="width: 5.76736in; height: 0.53556in;" /></a></p>
<p>图 NvMBlockDescriptor容器配置图</p>
<p>表 NvMBlockDescriptor属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvM
BlockCrcType</p></td>
<td><p>取值范围</p></td>
<td><p>NVM_CRC16/NV
M_CRC32/NVM_CRC8</p></td>
<td><p>默认取值</p></td>
<td><p>NVM_CRC16</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>定义NVRAM块
的CRC数据宽度。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NVM_BLOCK_USE
_CRC使能后可配置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMBlockH
eaderInclude</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>定义头文件，其中
NVRAM块的所有者
有永久RAM数据块
的声明，ROM数据
块(如果配置)和每
个配置回调的回调
函数原型。如果没
有永久的RAM块，R
OM块或回调函数被
配置，那么这个配
置参数将被忽略。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMBloc
kJobPriority</p></td>
<td><p>取值范围</p></td>
<td><p>0 … 255</p></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>NV块的优先级</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>只有在
配置页面NvMApiC
onfigClass不选择
Class1并且NvMJob
Prioritization打
勾的情况下才可配</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMBlockMa
nagementType</p></td>
<td><p>取值范围</p></td>
<td><p>NVM_BL
OCK_DATASET/<a class="reference internal" href="#nvm">NVM</a>
BLOCK_NATIVE/NVM
_BLOCK_REDUNDANT</p></td>
<td><p>默认取值</p></td>
<td><p>NVM_BLOCK
_REDUNDANT</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>块类型</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>N
vMBlockUseAu
toValidation</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>定义
RAM块在关闭阶段
是否应自动验证。</p>
<p>True：使
用自动验证机制，</p>
<p>false：其他情况</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMBlockUs
eCompression</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>定义数据在
写入前是否压缩。</p>
<p>True：需要压缩，</p>
<p>f
alse：不需要压缩</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Nv
MBlockUseCrc</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>NVRAM块的CRC使能
开关，即在RAM和
NV内存中保留用于
CRC的内存空间。</p>
<p>true：此NV
RAM块将使用CRC。</p>
<p>false：此NV
RAM块不使用CRC。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMWriteBlo
ckOnce使能是此项
不可配置并且使能</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvM
BlockUseCRCC
ompMechanism</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否
在写期间将RAM块
的CRC与上次成功
读写作业期间计算
的CRC进行比较。</p>
<p>True
：使用比较机制，</p>
<p>false：其他情况</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvM
BlockUsePort</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否使用
RTE中PORT接口。</p>
<p>True：使用，</p>
<p>false：不使用</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMB
lockUseSetRa
mBlockStatus</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>这个
块是否使能NvMSet
RamBlockStatus。</p>
<p>true：这个R
AM块的NvMSetRamB
lockStatus使能。</p>
<p>false：这个RAM块
的NvMSetRamBlock
Status将被忽略。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>如
果禁用NvMCommon
中的NvMSetRa
mBlockStatus，此
配置参数将被忽略</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMBlockUseS
yncMechanism</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>NV块是否使用带有
RAM镜像和回调例
程的显式同步机制
来传输NvM模块的
RAM镜像的数据。</p>
<p>tr
ue：使用同步机制</p>
<p>false：不使用</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMBlockUseCrc</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMBl
ockWriteProt</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>定义
NV块的初始写保护</p>
<p>true：启
用初始块写保护。</p>
<p>false：关
闭初始块写保护。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMW
riteBlockOnce和N
vMBlockWriteProt
只能配置两者之一</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMBs
wMBlockStatu
sInformation</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否告知BswM指
定块的当前状态。</p>
<p>True：在变更
时调用BswM_NvM
_CurrentBlockMode</p>
<p>False
：根本不通知BswM</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMCal
cRamBlockCrc</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是否
为配置为使用显式
同步机制的永久RA
M块或NVRAM块定义
CRC(重新)计算。</p>
<p>true：这
个永久RAM块的CRC
将被(重新)计算。</p>
<p>false：这
个永久RAM块不会
(重新)计算CRC。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>N
VM_BLOCK_USE_CRC
使能情况下可配置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMMaxNumO
fReadRetries</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 7</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>最大读取重试次数</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMMaxNumOf
WriteRetries</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 7</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>最大写重试次数</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMNvBlo
ckBaseNumber</p></td>
<td><p>取值范围</p></td>
<td><p>1 .. 65534</p></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>连接
到下层的基础块号</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>下层块号右移配置
项NvMDatasetSel
ectionBits的位数</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMN
vBlockLength</p></td>
<td><p>取值范围</p></td>
<td><p>1 .. 65535</p></td>
<td><p>默认取值</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>NV块长度</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>检查下层
FEE和EA关联的块
长度，如果比NVM
配置的块长度加上
CRC长度小则报错</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>N
vMNvBlockNum</p></td>
<td><p>取值范围</p></td>
<td><p>1 … 255</p></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>根据给定的
块管理类型，定义
一个相邻区域内的
多个NV块的数量。</p>
<p>1
-255用于配置块管
理类型为NVM_BLO
CK_DATASET的块。</p>
<p>1用
于需要配置块管理
类型为NVM_BLOCK
_NATIVE的NVRAM块</p>
<p>2
用于配置块管理类
型为NVM_BLOCK_RE
DUNDANT的NVRAM块</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>取决于NVM_BLOCK
_MANAGEMENT_TYPE</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMNvramBlo
ckIdentifier</p></td>
<td><p>取值范围</p></td>
<td><p>1…65535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>NV块号，自
动生成，不可配置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMN
vramDeviceId</p></td>
<td><p>取值范围</p></td>
<td><p>0…1</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>设备号，自
动生成，不可配置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMRa
mBlockDataBu
fferAutoFill</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>自动计算ram地址</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMRamBloc
kDataAddress</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>Ram地址，
可以通过配置项进
行选择为自动计算</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMRamB
lockDataBufferAu
toFill使能时，会
根据NvMRamBlock
StartAddress、Nv
MNvBlockLength以
及前一个块的ram
地址进行自动计算</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMRe
adRamBlockFr
omNvCallback</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>块特定回调接口的
入口地址，为了让
应用程序从NvM模
块的镜像复制数据
到RAM块，应该调
用这个回调接口。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMBlock
UseSyncMechanism</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMResistan
tToChangedSw</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>N
VRAM块对更改是否
具有抵抗力。如果
在配置时没有可用
的默认数据，则应
用程序应负责提供
默认初始化数据。
在这种情况下，应
用程序必须使用Nv
M_GetErrorStatus
()来区分第一次初
始化和数据损坏。</p>
<p>true：
NVR
AM块是抵抗更改。</p>
<p>false：
NVR
AM块不抵抗更改。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMDyna
micConfiguration</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMRomBloc
kDataAddress</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>ROM
块数据的起始地址
。如果不配置，则
所选的块管理类型
没有ROM块可用。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Nv
MRomBlockNum</p></td>
<td><p>取值范围</p></td>
<td><p>0…254</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>根据块
管理类型，定义一
个连续区域中的多
个ROM块的数量。</p>
<p>0
-254用于配置块管
理类型为NVM_BLO
CK_DATASET的块。</p>
<p>0-1配置
块管理类型为NVM
_BLOCK_NATIVE的块</p>
<p>0-1用于配置块管
理类型为NVM_BLO
CK_REDUNDANT的块</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>取决于NVM_BLOCK
_MANAGEMENT_TYPE</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMSe
lectBlockFor
FirstInitAll</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>N
VRAM块是否会被Nv
M_FirstInitAll处
理。此配置参数只
影响那些配置为具
有永久RAM块或配
置为使用显式同步
机制的NVRAM块。</p>
<p>true：
NVRAM块由NvM
_FirstInitAll处理</p>
<p>false：
NVRAM块不被NvM
_FirstInitAll处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMSelectBlo
ckForReadAll</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>NVRAM块是否应在N
vM_ReadAll期间处
理。此配置参数只
影响那些配置为具
有永久RAM块或配
置为使用显式同步
机制的NVRAM块。</p>
<p>true：
NVRAM块由
NvM_ReadAll处理</p>
<p>false：
NVRAM块不被
NvM_ReadAll处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NV
M_RAM_BLOCK_DATA
_ADDRESS是否配置</p>
<p>NvMBlo
ckManagementType</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>N
vMSelectBloc
kForWriteAll</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>NVR
AM块是否应该在Nv
M_WriteAll期间处
理。此配置参数只
影响那些配置为具
有永久RAM块或配
置为使用显式同步
机制的NVRAM块。</p>
<p>true：
NVRAM块由
NvM_WriteAll处理</p>
<p>false：
NVRAM块不被
NvM_WriteAll处理</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>NV
M_RAM_BLOCK_DATA
_ADDRESS是否配置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMStatic
BlockIDCheck</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>是否启用
了静态块ID检查。</p>
<p>false：禁
用静态块ID检查。</p>
<p>true：启
用静态块ID检查。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMWr
iteBlockOnce</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>首次写入
后的写保护。NVR
AM管理器在第一次
写入NV块后设置写
保护位。这意味着
NVRAM中的一些NV
块永远不应该被擦
除，也不应该在第
一次初始化后被默
认ROM数据替换。</p>
<p>true：首
次写入后写保护。</p>
<p>false：禁用第
一次写后写保护。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMW
riteBlockOnce和N
vMBlockWriteProt
只能配置两者之一</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMW
riteRamBlock
ToNvCallback</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>让
应用程序将数据从
RAM块复制到NvM模
块的镜像，需要调
用块的回调接口。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMWrite
Verification</p></td>
<td><p>取值范围</p></td>
<td><p>true/false</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>是
否启用写入验证。</p>
<p>fal
se：关闭写验证。</p>
<p>tr
ue：开启写验证。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMW
riteVerifica
tionDataSize</p></td>
<td><p>取值范围</p></td>
<td><p>1 .. 65535</p></td>
<td><p>默认取值</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>在比较
RAM块和回读块的
内容时，每一步中
要比较的字节数。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>NvMNvBlockLength</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="nvminitblockcallback">
<h4>NvMInitBlockCallback<a class="headerlink" href="#nvminitblockcallback" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image643.png"><img alt="image6" src="../../_images/image643.png" style="width: 5.76736in; height: 1.22778in;" /></a></p>
<p>图 NvMInitBlockCallback容器配置图</p>
<p>表 NvMInitBlockCallback属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMInitB
lockCallback</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>块特定回调程
序的入口地址，如
果没有ROM数据可
用来初始化NVRAM
块，该回调程序将
被调用。如果没有
配置，则不需要调
用特定的回调例程
来初始化带有默认
数据的NVRAM块。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvmsingleblockcallback">
<h4>NvMSingleBlockCallback<a class="headerlink" href="#nvmsingleblockcallback" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image734.png"><img alt="image7" src="../../_images/image734.png" style="width: 5.76736in; height: 1.24375in;" /></a></p>
<p>图 NvMSingleBlockCallback容器配置图</p>
<p>表 NvMSingleBlockCallback属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMSingleB
lockCallback</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>块特定回调函数
，该回调函数将在
每个异步单个块请
求终止时被调用。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="nvmtargetblockreference">
<h4>NvMTargetBlockReference<a class="headerlink" href="#nvmtargetblockreference" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image829.png"><img alt="image8" src="../../_images/image829.png" style="width: 5.76736in; height: 2.88403in;" /></a> <a class="reference internal" href="../../_images/image928.png"><img alt="image9" src="../../_images/image928.png" style="width: 5.76736in; height: 2.93889in;" /></a></p>
<p>图 NvMTargetBlockReference容器配置图</p>
<p>表 NvMTargetBlockReference属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NvMN
ameOfEaBlock</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>EA块关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NvMNa
meOfFeeBlock</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>FEE块关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="nvmdemeventparameterrefs">
<h3>NvmDemEventParameterRefs<a class="headerlink" href="#nvmdemeventparameterrefs" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image1026.png"><img alt="image10" src="../../_images/image1026.png" style="width: 5.76736in; height: 2.65486in;" /></a></p>
<p>图 NvmDemEventParameterRefs容器配置图</p>
<p>表 NvmDemEventParameterRefs属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NV
M_E_HARDWARE</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>硬件故障发
生的事件DEM关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NVM_E_INTE
GRITY_FAILED</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>API
请求完整性失败发
生的事件DEM关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NVM_E_LOSS_O
F_REDUNDANCY</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>冗余丢失发
生的事件DEM关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NVM
_E_REQ_FAILED</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>请求失败发
生的事件DEM关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NVM_E_V
ERIFY_FAILED</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>校验失败发
生的事件DEM关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>NVM_E_WRI
TE_PROTECTED</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>请求写
已经写保护的块发
生的事件DEM关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NVM_E_WR
ONG_BLOCK_ID</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>静
态块ID检查失败发
生的事件DEM关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="NmIf.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>NmIf
    </a>
    <a class="float-right" href="OS.html" title="Next">
        OS <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">NvM</a><ul>
<li><a class="reference internal" href="#id1">简介</a><ul>
<li><a class="reference internal" href="#id2">参考资料</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">功能描述</a><ul>
<li><a class="reference internal" href="#id4">写数据功能</a><ul>
<li><a class="reference internal" href="#id5">写数据功能介绍</a></li>
<li><a class="reference internal" href="#id6">写数据功能实现</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">读取数据功能</a><ul>
<li><a class="reference internal" href="#id8">读取数据功能介绍</a></li>
<li><a class="reference internal" href="#id9">读取数据功能实现</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">擦除数据功能</a><ul>
<li><a class="reference internal" href="#id11">擦除数据功能介绍</a></li>
<li><a class="reference internal" href="#id12">擦除数据功能实现</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id13">数据无效/有效功能</a><ul>
<li><a class="reference internal" href="#id14">数据无效/有效功能介绍</a></li>
<li><a class="reference internal" href="#id15">数据无效功能实现</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id16">数据恢复功能</a><ul>
<li><a class="reference internal" href="#id17">数据恢复功能介绍</a></li>
<li><a class="reference internal" href="#id18">数据恢复功能实现</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id19">多块写取消功能</a><ul>
<li><a class="reference internal" href="#id20">多块写取消功能介绍</a></li>
<li><a class="reference internal" href="#id21">多块写取消功能实现</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dem">支持Dem同步功能</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id22">源文件描述</a></li>
<li><a class="reference internal" href="#api">API接口</a><ul>
<li><a class="reference internal" href="#id23">类型定义</a><ul>
<li><a class="reference internal" href="#id24">导入类型定义</a><ul>
<li><a class="reference internal" href="#nvm-configtype">NvM_ConfigType类型定义</a></li>
<li><a class="reference internal" href="#nvm-multiblockrequesttype">NvM_MultiBlockRequestType类型定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id25">实现数据类型定义</a><ul>
<li><a class="reference internal" href="#nvm-requestresulttype">NvM_RequestResultType类型定义</a></li>
<li><a class="reference internal" href="#nvm-blockidtype">NvM_BlockIdType类型定义</a></li>
<li><a class="reference internal" href="#nvm-initblockrequesttype">NvM_InitBlockRequestType类型定义</a></li>
<li><a class="reference internal" href="#nvm-blockrequesttype">NvM_BlockRequestType类型定义</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id26">输入函数描述</a></li>
<li><a class="reference internal" href="#id27">静态接口函数定义</a><ul>
<li><a class="reference internal" href="#nvm-init">NvM_Init函数定义</a></li>
<li><a class="reference internal" href="#nvm-setdataindex">NvM_SetDataIndex函数定义</a></li>
<li><a class="reference internal" href="#nvm-getdataindex">NvM_GetDataIndex函数定义</a></li>
<li><a class="reference internal" href="#nvm-setblockprotection">NvM_SetBlockProtection函数定义</a></li>
<li><a class="reference internal" href="#nvm-geterrorstatus">NvM_GetErrorStatus函数定义</a></li>
<li><a class="reference internal" href="#nvm-getversioninfo">NvM_GetVersionInfo函数定义</a></li>
<li><a class="reference internal" href="#nvm-setramblockstatus">NvM_SetRamBlockStatus函数定义</a></li>
<li><a class="reference internal" href="#nvm-setblocklockstatus">NvM_SetBlockLockStatus函数定义</a></li>
<li><a class="reference internal" href="#nvm-canceljobs">NvM_CancelJobs函数定义</a></li>
<li><a class="reference internal" href="#nvm-readblock">NvM_ReadBlock函数定义</a></li>
<li><a class="reference internal" href="#nvm-writeblock">NvM_WriteBlock函数定义</a></li>
<li><a class="reference internal" href="#nvm-restoreblockdefaults">NvM_RestoreBlockDefaults函数定义</a></li>
<li><a class="reference internal" href="#nvm-erasenvblock">NvM_EraseNvBlock函数定义</a></li>
<li><a class="reference internal" href="#nvm-cancelwriteall">NvM_CancelWriteAll函数定义</a></li>
<li><a class="reference internal" href="#nvm-invalidatenvblock">NvM_InvalidateNvBlock函数定义</a></li>
<li><a class="reference internal" href="#nvm-readpramblock">NvM_ReadPRAMBlock函数定义</a></li>
<li><a class="reference internal" href="#nvm-writepramblock">NvM_WritePRAMBlock函数定义</a></li>
<li><a class="reference internal" href="#nvm-restorepramblockdefaults">NvM_RestorePRAMBlockDefaults函数定义</a></li>
<li><a class="reference internal" href="#nvm-readall">NvM_ReadAll函数定义</a></li>
<li><a class="reference internal" href="#nvm-writeall">NvM_WriteAll函数定义</a></li>
<li><a class="reference internal" href="#nvm-validateall">NvM_ValidateAll函数定义</a></li>
<li><a class="reference internal" href="#nvm-jobendnotification">NvM_JobEndNotification函数定义</a></li>
<li><a class="reference internal" href="#nvm-joberrornotification">NvM_JobErrorNotification函数定义</a></li>
<li><a class="reference internal" href="#nvm-mainfunction">NvM_MainFunction函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id28">可配置函数定义</a><ul>
<li><a class="reference internal" href="#nvm-singleblockcallbackfunction">NvM_SingleBlockCallbackFunction函数定义</a></li>
<li><a class="reference internal" href="#nvm-multiblockcallbackfunction">NvM_MultiBlockCallbackFunction函数定义</a></li>
<li><a class="reference internal" href="#initblockcallbackfunction">InitBlockCallbackFunction函数定义</a></li>
<li><a class="reference internal" href="#nvm-writeramblocktonvm">NvM_WriteRamBlockToNvm函数定义</a></li>
<li><a class="reference internal" href="#nvm-readramblockfromnvm">NvM_ReadRamBlockFromNvm函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#swc">SWC服务组件封装</a><ul>
<li><a class="reference internal" href="#id29">实现数据类型封装</a></li>
<li><a class="reference internal" href="#cs">CS接口封装</a><ul>
<li><a class="reference internal" href="#rte-call-nvm-padmin-block-setblockprotection">Rte_Call_NvM_PAdmin_{Block}_SetBlockProtection</a></li>
<li><a class="reference internal" href="#rte-call-nvm-pm-block-readramblockfromnvm">Rte_Call_NvM_PM_{Block}_ReadRamBlockFromNvM</a></li>
<li><a class="reference internal" href="#rte-call-nvm-pm-block-writeramblocktonvm">Rte_Call_NvM_PM_{Block}_WriteRamBlockToNvM</a></li>
<li><a class="reference internal" href="#rte-call-nvm-pnib-block-initblock">Rte_Call_NvM_PNIB_{Block}_InitBlock</a></li>
<li><a class="reference internal" href="#rte-call-nvm-pnjf-block-jobfinished">Rte_Call_NvM_PNJF_{Block}_JobFinished</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-eraseblock">Rte_Call_NvM_PS_{Block}_EraseBlock</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-getdataindex">Rte_Call_NvM_PS_{Block}_GetDataIndex</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-geterrorstatus">Rte_Call_NvM_PS_{Block}_GetErrorStatus</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-invalidatenvblock">Rte_Call_NvM_PS_{Block}_InvalidateNvBlock</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-readblock">Rte_Call_NvM_PS_{Block}_ReadBlock</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-readpramblock">Rte_Call_NvM_PS_{Block}_ReadPRAMBlock</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-restoreblockdefaults">Rte_Call_NvM_PS_{Block}_RestoreBlockDefaults</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-restorepramblockdefaults">Rte_Call_NvM_PS_{Block}_RestorePRAMBlockDefaults</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-setdataindex">Rte_Call_NvM_PS_{Block}_SetDataIndex</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-setramblockstatus">Rte_Call_NvM_PS_{Block}_SetRamBlockStatus</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-writeblock">Rte_Call_NvM_PS_{Block}_WriteBlock</a></li>
<li><a class="reference internal" href="#rte-call-nvm-ps-block-writepramblock">Rte_Call_NvM_PS_{Block}_WritePRAMBlock</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id30">配置</a><ul>
<li><a class="reference internal" href="#nvmcommon">NvMCommon</a></li>
<li><a class="reference internal" href="#nvmblockdescriptor">NvMBlockDescriptor</a><ul>
<li><a class="reference internal" href="#nvminitblockcallback">NvMInitBlockCallback</a></li>
<li><a class="reference internal" href="#nvmsingleblockcallback">NvMSingleBlockCallback</a></li>
<li><a class="reference internal" href="#nvmtargetblockreference">NvMTargetBlockReference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nvmdemeventparameterrefs">NvmDemEventParameterRefs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
                <nav aria-label="Footer">
                    <ul class="nav justify-content-center mb-2">
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/features/">Features</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/about-wagtail/"> About Wagtail</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/services/"> Services</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/blog/"> Blog</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/packages/"> Packages</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/developers/"> Developers</a></li>
                        
                    </ul>
                </nav>
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <!-- <small>
                    Created using
                    <a href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.4.0
                    </a>
                    and
                    <a href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.1.3
                    </a>
                </small> -->
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
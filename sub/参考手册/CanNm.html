<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>CanNm &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../genindex.html" />
            <link rel="search" title="Search" href="../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="CanSM" href="CanSM.html" />
            <link rel="prev" title="CanIf" href="CanIf.html" />
    </head>
<body>
    <script type="text/javascript" src="../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanIf.html">CanIf</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTrcv.html">CanTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComXf.html">ComXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRC.html">CRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crypto.html">Crypto</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSM.html">CSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="DCM.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="Det.html">DET</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dlt.html">DLT</a></li>
<li class="toctree-l1"><a class="reference internal" href="DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EL.html">E2EL</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EXf.html">E2EXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ea.html">EA</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuC.html">EcuC</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="Eep.html">EEP</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="FiM.html">FiM</a></li>
<li class="toctree-l1"><a class="reference internal" href="FOTA%20handler.html">FOTA Handler</a></li>
<li class="toctree-l1"><a class="reference internal" href="IoHwAb.html">IoHwAb</a></li>
<li class="toctree-l1"><a class="reference internal" href="IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="NmIf.html">NmIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="OS.html">OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpXf.html">SomeIpXf</a></li>
<li class="toctree-l1"><a class="reference internal" href="StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="XCP.html">XCP</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16 Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397 Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148 Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">CanNm</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="https://github.com/wagtail/sphinx_wagtail_theme/blob/main/docs/sub/参考手册/CanNm.rst" rel="nofollow">
        <span class="btn-icon"><span class="fab fa-github"></span></span>
        <span class="btn-text">Edit on GitHub</span>
    </a>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../_sources/sub/参考手册/CanNm.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="cannm">
<h1>CanNm<a class="headerlink" href="#cannm" title="Link to this heading">¶</a></h1>
<p><strong>缩写词注解</strong></p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>缩写词</strong></p></td>
<td><p><strong>英文全称</strong></p></td>
<td><p><strong>中文解释</strong></p></td>
</tr>
<tr class="row-even"><td><p>API</p></td>
<td><p>Application Programming
Interface</p></td>
<td><p>应用程序接口</p></td>
</tr>
<tr class="row-odd"><td><p>BSWM</p></td>
<td><p>Basic Software Manager</p></td>
<td><p>基础软件模式管理</p></td>
</tr>
<tr class="row-even"><td><p>CanIf</p></td>
<td><p>Can Interface</p></td>
<td><p>Can接口模块</p></td>
</tr>
<tr class="row-odd"><td><p>DEM</p></td>
<td><p>Diagnostic Event Manager</p></td>
<td><p>诊断事件管理模块</p></td>
</tr>
<tr class="row-even"><td><p>DET</p></td>
<td><p>Default Error Tracer</p></td>
<td><p>默认错误检测模块</p></td>
</tr>
<tr class="row-odd"><td><p>NM</p></td>
<td><p>Network Management</p></td>
<td><p>网络管理</p></td>
</tr>
<tr class="row-even"><td><p>PDU</p></td>
<td><p>Protocol Data Unit</p></td>
<td><p>协议数据单元</p></td>
</tr>
<tr class="row-odd"><td><p>SDU</p></td>
<td><p>Service Data Unit</p></td>
<td><p>服务数据单元</p></td>
</tr>
<tr class="row-even"><td><p>PNI</p></td>
<td><p>Partial Network
Information</p></td>
<td><p>部分网络信息</p></td>
</tr>
<tr class="row-odd"><td><p>PN</p></td>
<td><p>Partial Network</p></td>
<td><p>部分网络</p></td>
</tr>
<tr class="row-even"><td><p>PNC</p></td>
<td><p>Partial Network Cluster</p></td>
<td><p>部分网络集群</p></td>
</tr>
<tr class="row-odd"><td><p>ERA</p></td>
<td><p>External Request Array</p></td>
<td><p>外部请求集合</p></td>
</tr>
<tr class="row-even"><td><p>EIRA</p></td>
<td><p>External and Internal
Request Array</p></td>
<td><p>外部和内部请求集合</p></td>
</tr>
<tr class="row-odd"><td><p>CanNm</p></td>
<td><p>Can Network Management</p></td>
<td><p>Can网络管理</p></td>
</tr>
<tr class="row-even"><td><p>CBV</p></td>
<td><p>Control Bit Vector</p></td>
<td><p>控制位向量</p></td>
</tr>
<tr class="row-odd"><td><p>CWU</p></td>
<td><p>Car Wakeup</p></td>
<td><p>车辆唤醒</p></td>
</tr>
</tbody>
</table>
<section id="id1">
<h2>简介<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<p>CanNm模块的核心功能是协调网络正常运行和总线睡眠模式之间的转换，除此之外，还提供了可选功能，例如检测当前节点或检测其他所有节点是否准备休眠等。</p>
<p>CanNm提供网络管理接口（Nm）和CanIf模块之间的适配。CanNm通过调用CanIf模块的发送API来传输数据，并提供接收API给CanIf用于接收下层网络管理报文。Nm模块调用CanNm模块API来更改CanNm的当前状态机状态，CanNm的状态机模式切换需要通知给Nm模块。</p>
<p><a class="reference internal" href="../../_images/image115.png"><img alt="image1" src="../../_images/image115.png" style="width: 5.76736in; height: 3.43056in;" /></a></p>
<p>图 CanNm在AUTOSAR中的位置</p>
<p>CanNm模块的主要功能为：</p>
<p>1、协调网络正常运行和总线睡眠模式之间的转换</p>
<p>2、可选功能</p>
<p>(1)检测远程睡眠指令功能</p>
<p>(2)用户数据功能</p>
<p>(3)被动模式功能</p>
<p>(4)NM PDU Rx指示功能</p>
<p>(5)状态变化通知功能</p>
<p>(6)通讯控制功能</p>
<p>(7)NM协调器同步支持功能</p>
<p>(8)减负载功能</p>
<p>3、局部联网功能</p>
<p>4、车辆唤醒功能</p>
<section id="id2">
<h3>参考资料<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>[1] AUTOSAR_SWS_ CANInterface.pdf，R19-11</p>
<p>[2] AUTOSAR_SWS_CANNetworkManagement.pdf，R19-11</p>
<p>[3] AUTOSAR_SWS_PDURouter.pdf，R19-11</p>
<p>[4] AUTOSAR_SWS_NetworkManagementInterface.pdf，R19-11</p>
<p>[5]AUTOSAR_SWS_COMManager.pdf，R19-11</p>
</section>
</section>
<section id="id3">
<h2>功能描述<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<p>AUTOSAR
CanNm基于分散的直接网络管理策略，这意味着每个网络节点仅根据在通信系统内接收和/或发送报文，执行自给自足的活动。</p>
<p>AUTOSAR
CanNm协调算法基于周期性的NM数据包，集群中的所有节点都通过广播传输接收这些数据包。接收到NM数据包表明发送节点要保持NM集群处于唤醒状态。如果任何节点准备好进入总线睡眠模式，它将停止发送NM数据包，但是只要接收到来自其他节点的NM数据包，它就会推迟过渡到总线睡眠模式。如果在专用计时器超时前都未接收到NM数据包，则每个节点都会启动到总线休眠模式的转换。CanNm通过状态机切换和各状态定时器管理来完成协调算法。</p>
<section id="id4">
<h3>状态机切换<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<section id="id5">
<h4>模式介绍<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<p>首先介绍AUTOSAR CanNm协调算法的三种操作模式：</p>
<ul class="simple">
<li><p>Network Mode 网络模式</p></li>
<li><p>Prepare Bus-Sleep Mode准备总线睡眠模式</p></li>
<li><p>Bus-Sleep Mode总线睡眠模式</p></li>
</ul>
<p>当本节点的操作模式发生变化的时候，需要通知上层Nm。</p>
<p><a class="reference internal" href="../../_images/image213.png"><img alt="image2" src="../../_images/image213.png" style="width: 5.76736in; height: 6.57292in;" /></a></p>
<p>图 CanNm状态机</p>
</section>
<section id="network-mode">
<h4>Network Mode<a class="headerlink" href="#network-mode" title="Link to this heading">¶</a></h4>
<p>Network Mode下包括三种内部状态：</p>
<ul class="simple">
<li><p>Repeat Message State重复消息状态</p></li>
<li><p>Normal Operation State正常运行状态</p></li>
<li><p>Ready Sleep State就绪睡眠状态</p></li>
</ul>
<p>下面对这三种状态分别说明：</p>
<ol class="arabic simple">
<li><p><strong>Repeat Message State</strong></p></li>
</ol>
<p>当节点配置为Passive
Mode的节点，意味着该节点只能接受报文而不能传输任何报文，关于Passive
Mode具体的将在下面章节中进行说明。</p>
<p>对于非Passive Mode的节点，Repeat Message State可确保从Bus-Sleep或Prepare
Bus-Sleep到Network
Mode的任何过渡对于网络上的其他节点都是可见的。此外，它确保所有节点在CanNmRepeatMessageTime（配置参数）内保持活动状态。当CanNmRepeatMessageTime配置为0，表示未配置Repeat
Message State。这意味着Repeat Message
State是瞬态的，在进入后立即离开，因此无法保证启动稳定性，并且无法执行节点检测过程。当CanNmRepeatMessageTime超时后，节点将离开Repeat
Message State而切至其他状态。若当前网络状态为请求，切换到Normal
Operation State，若当前网络状态为释放，切换到Ready SleepState。</p>
<p>当非Passive Mode的节点从Bus-SleepMode, Prepare-Bus-Sleep Mode，Normal
Operation State或Ready Sleep State进入Repeat Message
State时，传输功能应该被重启，为了防止总线数据爆发，降低负载，每次进入Repeat
Message
State时，都要延迟CanNmMsgCycleOffset（配置参数）段时间后，再开始传输数据，若配置CanNmImmediateNmTransmissions并且网络被请求则不需要延迟CanNmMsgCycleOffset时间。</p>
<ol class="arabic simple" start="2">
<li><p><strong>Normal Operation State</strong></p></li>
</ol>
<p>Normal Operation
State可确保只要需要网络功能，任何节点都可以使NM集群保持唤醒状态。当处于Normal
Operation
State，节点按照CanNmMsgCycleTime周期发送报文，当网络释放后，CanNm进入ReadySleep
state。</p>
<ol class="arabic simple" start="3">
<li><p><strong>Ready Sleep State</strong></p></li>
</ol>
<p>Ready Sleep State可确保NM群集中的任何节点都在等待过渡到Prepare Bus-Sleep
Mode。</p>
<p>当进入Ready Sleep
State，本节点就不再发送网络管理报文。当节点接收到其他节点传输的网络管理报文时，会将NM-Timeout定时器重置，当NM-Timeout定时器超时且处于Ready
Sleep State时，网络管理进入Prepare Bus-Sleep
Mode。其中NM-Timeout定时器的时间是由CanNmTimeoutTime（配置参数）决定的。</p>
</section>
<section id="prepare-bus-sleep-mode">
<h4>Prepare Bus Sleep Mode<a class="headerlink" href="#prepare-bus-sleep-mode" title="Link to this heading">¶</a></h4>
<p>Prepare Bus Sleep
state目的是确保所有节点都有时间在进入总线休眠状态之前停止其网络活动，使总线活动平静下来，最后在“准备总线睡眠模式”下总线上没有任何活动。</p>
<p>当本节点进入Prepare Bus-Sleep
Mode，CanNmWaitBusSleepTime（配置参数）定时器被启动，当CanNmWaitBusSleepTime定时器超时，当前状态将由Prepare
Bus-Sleep Mode切换至Bus-Sleep Mode。</p>
<p>如果在Prepare Bus-Sleep
Mode接收到其他节点传输的网络管理报文时，当前CanNm状态将由Prepare
Bus-Sleep Mode切换至Network Mode，默认情况下，将进入Repeat Message
State。</p>
<p>如果在Prepare Bus-Sleep Mode接收到网络请求时，当前状态将由Prepare
Bus-Sleep Mode切换至Network Mode，默认情况下，将进入Repeat Message
State。如果CanNmImmediateRestartEnabled（配置参数）被设置为TRUE，那么在这种情况下会立刻触发一次传输，这样做的理由是：集群中的其他节点仍处于Prepare
Bus-Sleep Mode，在这种特殊情况下，应避免过渡到Bus-Sleep
Mode，并应尽快恢复总线通信。由于CanNm中网络管理PDU的传输偏移导致，处于Repeat
Message
State的第一个网络管理PDU的传输可能会大大延迟。为了避免延迟重新启动网络可以立即请求发送网络管理PDU。</p>
</section>
<section id="bus-sleep-mode">
<h4>Bus-Sleep Mode<a class="headerlink" href="#bus-sleep-mode" title="Link to this heading">¶</a></h4>
<p>Bus-Sleep
state的目的是在不交换任何消息时降低节点的功耗。将通信控制器切换到睡眠模式，激活相应的唤醒机制，最后将功耗降低到总线睡眠模式下的适当水平。</p>
<p>当CanNm处于Bus-Sleep
Mode接收到网络管理报文时，此时CanNm不会切换至Network
Mode，而是通知Nm模块，由上层模块做决策。</p>
<p>当CanNm处于Bus-Sleep
Mode接收到被动请求或网络请求时，当前状态将由Bus-Sleep Mode切换至Network
Mode，默认情况下，将进入Repeat Message State。</p>
</section>
</section>
<section id="pdu">
<h3>PDU格式<a class="headerlink" href="#pdu" title="Link to this heading">¶</a></h3>
<p>网络管理的报文有特定的格式要求，报文数据段格式如图：</p>
<p><a class="reference internal" href="../../_images/image37.png"><img alt="image3" src="../../_images/image37.png" style="width: 5.76736in; height: 1.40833in;" /></a></p>
<p>图 NM PDU默认格式</p>
<p>其中CBV（ControlBitVector）字节对应的bit位标识如下</p>
<p><a class="reference internal" href="../../_images/image43.png"><img alt="image4" src="../../_images/image43.png" style="width: 5.76736in; height: 0.75347in;" /></a></p>
<p>图 CBV格式</p>
<p>对于CBV中的bit说明如下：</p>
<p>Bit 0重复消息请求</p>
<p>0：未请求进入Repeat Message State</p>
<p>1：请求进入Repeat Message State</p>
<p>Bit
1,2：保留位，当配置项CanNmCoordinatorEnabled使能时，该位等于配置的CanNmCoordinatorId的值</p>
<div class="line-block">
<div class="line">Bit 3 NM协调器休眠位</div>
<div class="line">0：主协调器不要求启动同步休眠</div>
<div class="line">1：主协调员请求启动同步休眠</div>
</div>
<div class="line-block">
<div class="line">Bit 4主动唤醒位</div>
<div class="line">0：节点尚未唤醒网络</div>
<div class="line">1：节点唤醒了网络</div>
</div>
<p>Bit 6局部网络信息位（PNI）</p>
<div class="line-block">
<div class="line">0：NM消息不包含局部网络请求信息</div>
<div class="line">1：NM消息包含局部网络请求信息,该位由配置决定，运行阶段不改变</div>
</div>
<p>Bit5 Bit7为保留位</p>
<p>NmPdu中的UserData可以通过CanNm的配置引用EcuC中的Pdu。未使用的情况下默认全0xFF，通过Nm的接口去抓取当前接收与发送的UserData。</p>
</section>
<section id="id6">
<h3>可选功能<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>CanNm可以通过使能配置参数来使用以下可选功能。</p>
<section id="id7">
<h4>检测远程睡眠指令功能<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<p>远程睡眠指示应用于一种情况，当处于NormalOperation
State的节点发现集群中的所有其他节点都准备睡眠，但处于Normal Operation
State状态的节点仍将保持总线苏醒。为了避免这种情况，可以使能远程睡眠指示功能。</p>
<p>如果当前CanNm状态为Normal Operation
State，并且在CanNmRemoteSleepIndTime（配置参数）定时器内未收到其他节点发送的网络管理报文，则通知上层Nm模块集群内的其他节点均已准备睡眠。</p>
<p>如果CanNm已通知上层Nm模块，而在Normal Operation State或Ready Sleep
State下又收到了网络管理报文，或者CanNm从Normal Operation
State切换至Repeat Message
State，CanNm需要通知上层Nm模块集群中的某些节点不再准备睡眠。</p>
</section>
<section id="id8">
<h4>用户数据功能<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<p>使用CanNmUserDataEnabled开关（配置参数）对NM用户数据的支持进行静态配置。</p>
<p>当用户数据功能使能，可以调用CanNm_SetUserData，该函数可以设置总线上接下来发送的NM数据包的NM用户数据。也可以调用CanNm_GetUserData，该函数可以提供包含在最近接收到的NM
PDU的有效载荷中的NM用户数据。</p>
<p>如果CanNmComUserDataSupport（配置参数）配置为使能，CanNm将在每次请求发送相应的NM消息之前从引用的NM
I-PDU收集NM用户数据，并将用户数据与其他NM字节合并。此时就不能再通过CanNm_SetUserData函数设置用户数据。</p>
</section>
<section id="id9">
<h4>被动模式功能<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<p>在被动模式下，节点仅接收NM消息，但不发送任何NM消息。被动模式应使用CanNmPassiveModeEnabled开关（配置参数）进行静态配置。</p>
</section>
<section id="nm-pdu-rx">
<h4>NM PDU Rx指示功能<a class="headerlink" href="#nm-pdu-rx" title="Link to this heading">¶</a></h4>
<p>若CanNmPduRxIndicationEnabled（配置参数）使能，在成功接收NM
PDU时，CanNm应通过调用Nm_PduRxIndication通知上层。</p>
</section>
<section id="id10">
<h4>状态变化通知功能<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<p>如果CanNmStateChangeIndEnabled（配置参数）使能，则CanNm需要将CanNm状态的所有更改通知上层Nm。</p>
</section>
<section id="id11">
<h4>通讯控制功能<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<p>使用CanNmComControlEnabled开关（配置参数），可以静态配置通信控制。当CanNm_DisableCommunication函数被调用，CanNm模块NM报文的传输能力将被停止，直到调用CanNm_EnableCommunication，CanNm的nm报文传输能力被恢复。</p>
<p>当CanNm_DisableCommunication函数被调用，CanNm的NM-Timeout定时器将被停止，调用函数CanNm_EnableCommunication，NM-Timeout定时器将被恢复。若一直未调用CanNm_EnableCommunication，CanNm会一直处在Ready
Sleep
State中无法进入休眠状态，在这种情况下，AutoSar规定，当网络被释放后，CanNm将从Ready
Sleep State切换至Prepare Bus-Sleep Mode。</p>
</section>
<section id="nm">
<h4>NM协调器同步支持功能<a class="headerlink" href="#nm" title="Link to this heading">¶</a></h4>
<p>当有多个协调器连接到同一条总线时，在CBV中，NmCoordinatorSleepReady位用于指示主协调器请求启动关闭，有关CBV的概念见2.2章。</p>
<p>当CanNm处于网络模式，接收网络管理报文的CBV中NmCoordinatorSleepReady=1，则CanNm通知上层协调睡眠功能被请求。</p>
<p>当CanNm已通知上层协调睡眠功能被请求，接收网络管理报文的CBV中NmCoordinatorSleepReady=0，则CanNm通知上层协调睡眠功能请求被取消。</p>
</section>
<section id="id12">
<h4>减负载功能<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<p>当CanNmBusLoadReductionEnabled参数配置为TRUE时，CanNm应该支持总线负载降低机制，当从其他状态进入Repeat
Message State状态时，关闭总线负载降低机制，当从其他状态进入Normal
Operation State状态时，打开总线负载降低机制。</p>
<p>当总线负载降低机制启动后，CanNm_RxIndication()被调用后，使用CanNmMsgReducedTime参数重装CanNm
Message Cycle Timer，当总线负载降低机制启动后，当成功发送NM
PDU后，用CanNmMsgCycleTime参数重装CanNm Message Cycle Timer。</p>
</section>
<section id="pn">
<h4>PN功能<a class="headerlink" href="#pn" title="Link to this heading">¶</a></h4>
<p>Autosar4.x版本开始支持PN功能，Pn功能的目的是基于功能划分网络，形成局域网；这种功能的划分由整车设计完成，对于各节点只需要关心自身存在的网段。只有在CanNmGlobalPnSupport(配置参数)和各通道下的CanNmPnEnabled(配置参数)使能的情况下，Pn功能才能正常工作。</p>
<p>如果CanNmPnEnabled(配置参数)为FALSE，则CanNm将执行正常的Rx指示处理，并且应禁用Pn功能。如果CanNmPnEnabled为TRUE，接收到的NM-PDU
CBV中的PNI位为0，则CanNm模块应执行常规的Rx指示处理，从而省去了Pn功能的扩展。如果CanNmPnEnabled为TRUE并且接收到的NM-PDU
CBV中的PNI位为1，则CanNm模块处理NM-PDU的Pn信息。</p>
<p>如果CanNmPnEnabled为TRUE，则CanNm模块应将CBV中发送的PNI位的值设置为1，要使用Pn，则必须使用CBV。</p>
<p>如果CanNmPnEnabled为FALSE，则CanNm模块应将CBV中已发送的PNI位的值始终设置为0。</p>
<p>Pn信息的位置位于网络管理报文的用户数据部分中，具体的位置通过CanNmPnInfoOffset和CanNmPnInfoLength来确定。</p>
<p>例如当CanNmPnInfoOffset = 3，CanNmPnInfoLength =
2，代表NM消息只有字节3和字节4包含PN请求信息。</p>
<section id="id13">
<h5>PN过滤<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h5>
<p>PNC是Partial Network
Cluster的缩写，它是指为了在车辆网络中支持一个或多个车辆功能而由多个ECU构成的集群。PNC的编号我们称为PNC
ID，范围8~63，整车网络统一编号，关于PNC id与CanNmPdu映射关系说明：PNC
ID对应CanNmPdu中的一个bit，例如PNC ID=8，对应CanNmPduByte1的bit0；PNC
ID=63，对应Byte7的bit7；PNC
ID对应的bit数值为1，则表示当前PN网络被请求，为0则表示网络释放。</p>
<p>通过配置参数CanNmPnFilterMaskByte，CanNm可以检测到哪个PN与ECU相关，而哪个与PN不相关。</p>
<p>CanNmPnFilterMaskByte的每个位具有以下含义：</p>
<p>0 PN请求与本ECU无关。如果接收的NM
PDU中将该位置设置为1，也无法使ECU的通讯栈处于唤醒状态，因为该位的请求与本ECU是无关的。</p>
<p>1
PN请求与本ECU有关。如果已在接收的NM-PDU中将该位置设置为1，则ECU的通信堆栈将保持唤醒状态。</p>
<p>如果至少有一位与本ECU相关的PN请求，那么这条Nm
PDU对于CanNm来说就是有用的，需要进行处理，如果没有一位与本ECU相关的PN请求，那么这条NM
PDU将被忽略。</p>
</section>
<section id="eraeira">
<h5>ERA与EIRA<a class="headerlink" href="#eraeira" title="Link to this heading">¶</a></h5>
<p>ERA是指ECU外部的PN请求的聚合，当CanNmPnEraCalcEnabled使能(配置参数)，表示支持ERA功能。而EIRA是指ECU内部和外部Pn请求的聚合，当CanNmPnEiraCalcEnabled使能(配置参数)，表示支持EIRA功能。</p>
<p>ERA是在网关节点才使用，此时没有内部的请求，只有不同的Channel对Pn的外部请求，ERA会为每个channel的每个PN位都设置一个监测的定时器，当CanNmPnResetTime(配置参数)时间内未请求PN，则将该PN的请求状态设置为未请求，每次请求状态有变化的时候都会通知上层PduR，由PduR模块进行转发。</p>
<p>EIRA体现了当前节点与网络上其他节点对某一个PNC的请求与释放情况；EIRA不区分物理Channel，只针对不同的PN。EIRA会为每个PN位都设置一个监测的定时器，当CanNmPnResetTime(配置参数)时间内未请求PN，则将该PN的请求状态设置为未请求，每次请求状态有变化的时候都会通知上层PduR，由PduR模块进行转发。</p>
</section>
<section id="id14">
<h5>自发传输<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h5>
<p>如果网络被请求并且CanNmPnHandleMultipleNetworkRequest（配置参数）设置为TRUE，无论CanNm处于Ready
Sleep State，Normal Operation State或Repeat Message
State，CanNm应更改为或重新启动为Repeat Message
State。并且，CanNm会传输CanNmImmediateNmTransmissions（配置参数）数量的报文，其中第一条报文立即传输，其他报文按CanNmImmediateNmCycleTime传输（配置参数）。</p>
</section>
</section>
<section id="id15">
<h4>车辆唤醒功能<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<p>当CanNmCarWakeUpRxEnabled（配置参数）使能时，车辆唤醒功能被启用，目前暂时没有使用场景。如果任何接收到的NM-PDU中的Car
Wakeup位为1，都会通知上层Nm。</p>
<p>当CanNmCarWakeUpRxEnabled（配置参数）使能，CanNmCarWakeUpFilterEnabled（配置参数）也使能时，只有收到NodeId等于CanNmCarWakeUpFilterNodeId的报文时，才会通知上层。</p>
</section>
</section>
</section>
<section id="id16">
<h2>源文件描述<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h2>
<p>表 CanNm组件文件描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>文件</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>CanNm_Cfg.h</p></td>
<td><p>定义CanNm模块预编译时用到的配置参数。</p></td>
</tr>
<tr class="row-odd"><td><p>CanNm_Cfg.c</p></td>
<td><p>定义CanNm模块生成的配置参数。</p></td>
</tr>
<tr class="row-even"><td><p>CanNm.h</p></td>
<td><p>CanNm模块头文件，
包含了API函数的扩展声明并定义了配置的数据结构。</p></td>
</tr>
<tr class="row-odd"><td><p>CanNm.c</p></td>
<td><p>CanNm模块源文件，包含了API函数的实现。</p></td>
</tr>
<tr class="row-even"><td><p>CanNm_Cbk.h</p></td>
<td><p>包含CanNm供CanIf调用的API函数的声明</p></td>
</tr>
<tr class="row-odd"><td><p>CanNm_Internal.h</p></td>
<td><p>包含CanNm内部的变量和数据结构的定义</p></td>
</tr>
<tr class="row-even"><td><p>CanNm_MemMap.h</p></td>
<td><p>CanNm编译抽象文件</p></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image53.png"><img alt="image5" src="../../_images/image53.png" style="width: 5.76736in; height: 1.28333in;" /></a></p>
<p>图 CanNm组件文件交互关系图</p>
</section>
<section id="api">
<h2>API接口<a class="headerlink" href="#api" title="Link to this heading">¶</a></h2>
<section id="id17">
<h3>类型定义<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<section id="cannm-configtype">
<h4>CanNm_ConfigType类型定义<a class="headerlink" href="#cannm-configtype" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>CanNm_ConfigType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>Structure</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>–</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>此类型应包含容器CanNm_GlobalConfig及其子容器的参数。</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id18">
<h3>输入函数描述<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>输入模块</strong></p></td>
<td><p><strong>API</strong></p></td>
</tr>
<tr class="row-even"><td><p>Det</p></td>
<td><p>Det_ReportError</p></td>
</tr>
<tr class="row-odd"><td><p>Nm</p></td>
<td><p>Nm_CarWakeUpIndication</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Nm_CoordReadyToSleepCancellation</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Nm_CoordReadyToSleepIndication</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Nm_PduRxIndication</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Nm_RemoteSleepCancellation</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Nm_RemoteSleepIndication</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Nm_StateChangeNotification</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Nm_TxTimeoutException</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Nm_RepeatMessageIndication</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Nm_BusSleepMode</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Nm_NetworkMode</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Nm_NetworkStartIndication</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Nm_PrepareBusSleepMode</p></td>
</tr>
<tr class="row-even"><td><p>PduR</p></td>
<td><p>PduR_CanNmRxIndication</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PduR_CanNmTriggerTransmit</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>PduR_CanNmTxConfirmation</p></td>
</tr>
<tr class="row-odd"><td><p>CanIf</p></td>
<td><p>CanIf_Transmit</p></td>
</tr>
<tr class="row-even"><td><p>CanSM</p></td>
<td><p>CanSM_TxTimeoutException</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id19">
<h3>静态接口函数定义<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<section id="cannm-init">
<h4>CanNm_Init函数定义<a class="headerlink" href="#cannm-init" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_Init</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void CanNm_Init(</p>
<p>const
CanNm_ConfigType
* CanNmConfigPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x00</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>不可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>CanNmConfigPtr</p></td>
<td><p>值域：</p></td>
<td><p>指向初始化结构体的指针</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>初始化
完整的CanNm模块，
即初始化在配置时
激活的所有通道。</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-deinit">
<h4>CanNm_DeInit函数定义<a class="headerlink" href="#cannm-deinit" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_DeInit</p></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void CanNm_DeInit (</p>
<p>void</p>
<p>)</p>
</td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x10</p></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>不可重入</p></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>反初始化CanNm模块</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-passivestartup">
<h4>CanNm_PassiveStartUp函数定义<a class="headerlink" href="#cannm-passivestartup" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Can
Nm_PassiveStartUp</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanN
m_PassiveStartUp(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x01</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>非同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入（同
一通道不可重入）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK:
被动启动
CanNm网络管理成功</p>
<p>E_NOT_OK:
被动启动
CanNm网络管理失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>被动启动CanNm模块</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-networkrequest">
<h4>CanNm_NetworkRequest函数定义<a class="headerlink" href="#cannm-networkrequest" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Can
Nm_NetworkRequest</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanN
m_NetworkRequest(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x02</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>非同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入（同
一通道不可重入）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 请求被接受</p>
<p>E_NOT_OK:
请求被拒绝</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>由于 ECU
需要在总线上通
信，因此请求网络</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-networkrelease">
<h4>CanNm_NetworkRelease函数定义<a class="headerlink" href="#cannm-networkrelease" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Can
Nm_NetworkRelease</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanN
m_NetworkRelease(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x03</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>非同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入（同
一通道不可重入）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 请求被接受</p>
<p>E_NOT_OK:
请求被拒绝</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>由于EC
U不需要在总线上通
信，因此释放网络</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-disablecommunication">
<h4>CanNm_DisableCommunication函数定义<a class="headerlink" href="#cannm-disablecommunication" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_Dis
ableCommunication</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_Disa
bleCommunication(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0c</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>非同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重
入(仅限不同通道)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 请求成功</p>
<p>E_NOT_OK
:请求关闭通信失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>用于ISO14229的
28服务，关闭通信</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-enablecommunication">
<h4>CanNm_EnableCommunication函数定义<a class="headerlink" href="#cannm-enablecommunication" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_E
nableCommunication</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_En
ableCommunication(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0d</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同
步/异步：</p></td>
<td><p>非同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入（
同一通道不可重入）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 请求成功</p>
<p>E_NOT_OK:
请求使能通信失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>用于ISO14229
的28服务，使能通信</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-setuserdata">
<h4>CanNm_SetUserData函数定义<a class="headerlink" href="#cannm-setuserdata" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_SetUserData</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
C
anNm_SetUserData(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>const uint8*
nmUserDataPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x04</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同
步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>不同通道可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>nmUserDataPtr</p></td>
<td><p>值域：</p></td>
<td><p>指向
要设置的用户数据的指针</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK:
设置用户数据成功</p>
<p>E_NOT_OK：
设置用户数据失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>设置总
线上接下来发送的
NM消息的用户数据</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-getuserdata">
<h4>CanNm_GetUserData函数定义<a class="headerlink" href="#cannm-getuserdata" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_GetUserData</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
C
anNm_GetUserData(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>uint8*
nmUserDataPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x05</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>请求获取用户数据的通道</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数:</p></td>
<td><p>nmUserDataPtr</p></td>
<td><p>值域：</p></td>
<td><p>指向用于输
出用户数据的内存的指针</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK:
请求用户数据成功</p>
<p>E_NOT_OK:
请求用户数据失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>从最近收到的NM
PDU中获取用户数据</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-transmit">
<h4>CanNm_Transmit函数定义<a class="headerlink" href="#cannm-transmit" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_Transmit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_Transmit(</p>
<p>PduIdType
TxPduId,</p>
<p>const
PduInfoType*
PduInfoPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x49</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>对不
同的TxPduId可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>TxPduId</p></td>
<td><p>值域：</p></td>
<td><p>要发送的Pdu的Id</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PduInfoPtr</p></td>
<td><p>值域：</p></td>
<td><p>要发
送的数据长度和数据指针</p></td>
</tr>
<tr class="row-even"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK：
成功接收传输请求</p>
<p>E_NOT_O
K：传输请求被拒绝</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>请
求发送一帧NM报文</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-getnodeidentifier">
<h4>CanNm_GetNodeIdentifier函数定义<a class="headerlink" href="#cannm-getnodeidentifier" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p><a class="reference internal" href="#cannm">CanNm</a>
GetNodeIdentifier</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_G
etNodeIdentifier(</p>
<p>NetworkHandleType
nmChannelHandle,</p>
<p>uint8*
nmNodeIdPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x06</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>获取NodeId的通道号</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>nmNodeIdPtr</p></td>
<td><p>值域：</p></td>
<td><p>指向
存储NodeId的变量的指针</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 获取成功</p>
<p>E_NOT_OK:
获取失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取
最近接收到的NM报
文中的节点标识符</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-getlocalnodeidentifier">
<h4>CanNm_GetLocalNodeIdentifier函数定义<a class="headerlink" href="#cannm-getlocalnodeidentifier" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_GetLo
calNodeIdentifier</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_GetLoc
alNodeIdentifier(</p>
<p>NetworkHandleType
nmChannelHandle,</p>
<p>uint8*
nmNodeIdPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x07</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>获取NodeId的通道号</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>nmNodeIdPtr</p></td>
<td><p>值域：</p></td>
<td><p>指向
存储NodeId的变量的指针</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 获取成功</p>
<p>E_NOT_OK:
获取失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取配置的该通道
的本地节点标识符</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-repeatmessagerequest">
<h4>CanNm_RepeatMessageRequest函数定义<a class="headerlink" href="#cannm-repeatmessagerequest" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_Rep
eatMessageRequest</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_Repe
atMessageRequest(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x08</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>非同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入（同
一通道不可重入）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>需要置位Repeat Message
Request Bit的通道</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK：设置成功</p>
<p>E_NOT_OK：设
置重复标志位失败
或未配置此网络。</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>为总线
上接下来发送的NM
PDU设
置重复消息请求位</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-getpdudata">
<h4>CanNm_GetPduData函数定义<a class="headerlink" href="#cannm-getpdudata" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_GetPduData</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_GetPduData(</p>
<p>NetworkHandleType
nmChannelHandle,</p>
<p>uint8*
nmPduDataPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0a</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>nmPduDataPtr</p></td>
<td><p>值域：</p></td>
<td><p>获取到的
NMPdu数据要被存放的地址</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 获取成功</p>
<p>E_NOT_OK:
获取数据失
败或未配置此网络</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>从最近接收到的NM
PDU
中获取整个PDU数据</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-getstate">
<h4>CanNm_GetState函数定义<a class="headerlink" href="#cannm-getstate" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_GetState</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_GetState(</p>
<p>NetworkHandleType
nmChannelHandle,</p>
<p>Nm_StateType*
nmStatePtr,</p>
<p>Nm_ModeType*
nmModePtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0b</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>nmStatePtr</p></td>
<td><p>值域：</p></td>
<td><p>存放CanNm状态的地址</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>nmModePtr</p></td>
<td><p>值域：</p></td>
<td><p>存放CanNm模式的地址</p></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK: 获取成功</p>
<p>E_NOT_OK:
获取失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>获取CanN
m当前的状态和模式</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-getversioninfo">
<h4>CanNm_GetVersionInfo函数定义<a class="headerlink" href="#cannm-getversioninfo" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Can
Nm_GetVersionInfo</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
CanN
m_GetVersionInfo(</p>
<p>Std_
VersionInfoType*
Versioninfo</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0xf1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>versioninfo</p></td>
<td><p>值域：</p></td>
<td><p>指向存储
版本信息的buffer的地址</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取版本信息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-requestbussynchronization">
<h4>CanNm_RequestBusSynchronization函数定义<a class="headerlink" href="#cannm-requestbussynchronization" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_RequestB
usSynchronization</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_RequestBu
sSynchronization(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0xc0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>非同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>不可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 请求成功</p>
<p>E_NOT_OK:
请求失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求总线同步</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-checkremotesleepindication">
<h4>CanNm_CheckRemoteSleepIndication函数定义<a class="headerlink" href="#cannm-checkremotesleepindication" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_CheckRemo
teSleepIndication</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_CheckRemot
eSleepIndication(</p>
<p>NetworkHandleType
nmChannelHandle,</p>
<p>boolean*
nm
RemoteSleepIndPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0xd0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>nm
RemoteSleepIndPtr</p></td>
<td><p>值域：</p></td>
<td><p>检测是否发生远
程睡眠通知结果存储地址</p></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 检查成功</p>
<p>E_NOT_OK:
获取指示失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>检查是否
发生远程睡眠通知</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-setsleepreadybit">
<h4>CanNm_SetSleepReadyBit函数定义<a class="headerlink" href="#cannm-setsleepreadybit" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm
_SetSleepReadyBit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>Std_ReturnType
CanNm_
SetSleepReadyBit(</p>
<p>NetworkHandleType
nmChannelHandle,</p>
<p>boolean
nmSleepReadyBit</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x17</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>不同通道可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>nmSleepReadyBit</p></td>
<td><p>值域：</p></td>
<td><p>Sleep Ready
Bit要设置的的值</p></td>
</tr>
<tr class="row-even"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>E_OK: 设置成功</p>
<p>E_NOT_OK:
设置失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>在
控制位向量中设置N
M协调器睡眠就绪位</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-txconfirmation">
<h4>CanNm_TxConfirmation函数定义<a class="headerlink" href="#cannm-txconfirmation" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>Can
Nm_TxConfirmation</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
CanN
m_TxConfirmation(</p>
<p>PduIdType TxPduId</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x40</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>不同PduId可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>TxPduId</p></td>
<td><p>值域：</p></td>
<td><p>发送成功的PduId</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>底层通信模块
确认成功发送报文</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-rxindication">
<h4>CanNm_RxIndication函数定义<a class="headerlink" href="#cannm-rxindication" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>C
anNm_RxIndication</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
Ca
nNm_RxIndication(</p>
<p>PduIdType
RxPduId,</p>
<p>const
PduInfoType*
PduInfoPtr</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x42</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>不同PduId可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>RxPduId</p></td>
<td><p>值域：</p></td>
<td><p>接收报文的PduId</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>PduInfoPtr</p></td>
<td><p>值域：</p></td>
<td><p>接收报文
的长度和指向报文的指针</p></td>
</tr>
<tr class="row-even"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>功能概述：</p></td>
<td><p>底层通信模
块调用该函数通知
CanNm接收到NM报文</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-confirmpnavailability">
<h4>CanNm_ConfirmPnAvailability函数定义<a class="headerlink" href="#cannm-confirmpnavailability" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_Conf
irmPnAvailability</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void
CanNm_Conf
irmPnAvailability
(</p>
<p>NetworkHandleType
nmChannelHandle</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x16</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>可重入（
仅限不同channel）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>值域：</p></td>
<td><p>NM通道Id</p></td>
</tr>
<tr class="row-odd"><td><p>输
入输出参数:</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>E_OK: 设置成功</p>
<p>E_NOT_OK:
设置失败</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>在指定的NM
channe
l上启用PN滤波功能</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-triggertransmit">
<h4>CanNm_TriggerTransmit函数定义<a class="headerlink" href="#cannm-triggertransmit" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_TriggerTransmit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td rowspan="4"><p>函数原型：</p></td>
<td><p>Std_ReturnType CanNm_TriggerTransmit (</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>PduIdType TxPduId,</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PduInfoType* PduInfoPtr</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>服务编号：</p></td>
<td><p>0x41</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>是否可重入：</p></td>
<td><p>不同PduId可重入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输入参数：</p></td>
<td><p>TxPduId</p></td>
<td><p>值域：</p></td>
<td><p>发送PduId</p></td>
</tr>
<tr class="row-even"><td><p>输入输出参数:</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>值域：</p></td>
<td><p>下层模块提供的用于存储发送数据的buffer地址和buffer大小。返回时将实际拷贝的数据长度赋值给sduLength。</p></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td colspan="3"><p>无</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>返回值：</p></td>
<td colspan="3"><p>E_OK: 从CanNm获取数据成功</p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>E_NOT_OK: 从CanNm获取数据失败</p></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td colspan="3"><p>下层模块在发送数据时调用该函数从CanNm获取要发送的数据</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cannm-mainfunction">
<h4>CanNm_MainFunction函数定义<a class="headerlink" href="#cannm-mainfunction" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CanNm_MainFunction</p></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>void CanNm_MainFunction(</p>
<p>void</p>
<p>)</p>
</td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x13</p></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>CanNm模块周期调度函数</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id20">
<h3>可配置函数定义<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h3>
<p>无。</p>
</section>
</section>
<section id="id21">
<h2>配置<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h2>
<section id="cannmglobalconfig">
<h3>CanNmGlobalConfig<a class="headerlink" href="#cannmglobalconfig" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../../_images/image63.png"><img alt="image6" src="../../_images/image63.png" style="width: 5.76736in; height: 2.35625in;" /></a></p>
<p>图 CanNmGlobalConfig容器配置图</p>
<p>表 CanNmGlobalConfig属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmBus
LoadReduct
ionEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>预处理器开关，用于
启用总线减负载支持</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果
CanN
mPassiveModeEnabled
== true 或
C
anNmGlobalPnSupport
==
true，那么CanNmBusL
oadReductionEnabled
= false</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmBusSy
nchronizat
ionEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>预处
理器开关，用于启用
总线同步支持，此功
能仅适用于网关节点</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果（CanN
mPassiveModeEnabled
==
False），
那么等于（NmBusSyn
chronizationEnabled
）否则等于（False）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Ca
nNmComCont
rolEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>预处理器开关，用
于启用通信控制支持</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果（CanN
mPassiveModeEnabled
==
False），那么等于（
NmComControlEnabled
）否则等于（False）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Can
NmComUserD
ataSupport</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>用于启用Com用户
数据的预处理器开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果CanN
mPassiveModeEnabled
== True则
CanN
mComUserDataSupport
= False</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmCo
ordinatorS
yncSupport</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>启用/禁
用协调器同步支持。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果将CanNmPas
siveModeEnabled设置
为TRUE，则必须将Ca
nNmCoordinatorSyncS
upport设置为FALSE。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmDevE
rrorDetect</p></td>
<td><p>取值范围</p></td>
<td><p>true, false</p></td>
<td><p>默认取值</p></td>
<td><p>false</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>打开
或关闭开发错误检测</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmGloba
lPnSupport</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>用于
全局启用部分网络支
持的预处理器开关。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmImm
ediateRest
artEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>预处理
器开关，用于在准备
总线休眠模式下根据
总线通信请求启用NM
PDU立即传输</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果定义了
CanNmPassiveModeEn
abled，则不能定义它</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmIm
mediateTxc
onfEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>启用
/禁用立即发送确认。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果Can
NmPasiveModeEnabled
已启用，则不应启用
CanNmImmed
iateTxconfEnabled。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Can
NmMainFunc
tionPeriod</p></td>
<td><p>取值范围</p></td>
<td><p>0.001 .. 0.255</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>各个实例的CanNm_Mai
nFunction的调用周期
，以秒为单位指定。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>取值需要大于0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Can
NmPassiveM
odeEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>预处理器开关
，用于支持被动模式</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>依赖于NmIf模块的N
mPassiveModeEnabled</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmPd
uRxIndicat
ionEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>用于启用PDU
R
x指示的预处理器开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>依
赖于NmIf模块的NmPdu
RxIndicationEnabled</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Ca
nNmPnEiraC
alcEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>FALSE</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>指定CanNm是否
计算内部外部请求的
PN请求信息（EIRA）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当C
anNmGlobalPnSupport
== true时可配置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmP
nResetTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.001~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>以秒为单位指定
重置定时器的运行时
间。该复位时间对EI
RA和ERA中的PN请求复
位有效。每个通道的
值应该相同。因此它
是一个全局配置参数</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当C
anNmGlobalPnSupport
== true时可配置</p>
<p>CanNmPnResetTime&gt;
CanNmMsgCycleTime</p>
<p>CanNmPnResetTime
&lt;CanNmTimeoutTime</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmR
emoteSleep
IndEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>预处理器开关，支持
远程睡眠指示，此功
能仅适用于网关节点</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>如果（CanN
mPassiveModeEnabled
==
False），那么等于（
NmComControlEnabled
）否则等于（False）</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmS
tateChange
IndEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>用
于启用CanNM状态更改
通知的预处理器开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>依赖于NmS
tateChangeIdEnabled</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmUserD
ataEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>预处理器开关
，用于支持用户数据</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>依赖
于NmUserDataEnabled</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmVers
ionInfoApi</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>启用
或者禁用版本获取API</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmPnEir
aRxNSduRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference to [ Pdu
]</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>引
用COM-Stack中Pdu。
C
anNm只需要一个SduRe
f，因为EIRA是所有以
太网通道上的聚合。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当Can
NmPnEiraCalcEnabled
==
true
时可配，引用的PDU需
要在PDUR中进行关联</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="cannmchannelconfig">
<h4>CanNmChannelConfig<a class="headerlink" href="#cannmchannelconfig" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image73.png"><img alt="image7" src="../../_images/image73.png" style="width: 5.76736in; height: 4.01667in;" /></a></p>
<p>图 CanNmChannelConfig容器配置图</p>
<p>表 CanNmChannelConfig属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>UI名称</p></td>
<td colspan="4"><p>描述</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmActiveWakeupBitEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>FALSE</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>在CanNm模块中启用/禁用处理Active   Wakeup Bit</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>此参数仅在CanNmPassiveModeEnabled为False时可配置</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmAllNmMessagesKeepAwake</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>FALSE</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>指定   CanNm 是否丢弃不相关的   NM PDU。</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当   CanNmPnEiraCalcEnabled == true 或</p>
<p>CanNmPnEraCalcEnabled   == true时有效</p>
</td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmBusLoadReductionActive</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>该参数定义了各自NM通道的总线减负载功能是否启用。</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>如果CanNmBusLoadReductionEnabled   == false则CanNmBusLoadReductionActive   = false</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmCarWakeUpBitPosition</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 7</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>指定CWU在NM   PDU中的Bit位置。</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当   CanNmCarWakeUpRxEnabled == TRUE 时可用</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmCarWakeUpBytePosition</p></td>
<td><p>取值范围</p></td>
<td><p>0   .. 7</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>指定CWU在NM   PDU中的Byte位置。</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当   CanNmCarWakeUpRxEnabled == TRUE 时可用，CanNmCarWakeupBytePosition   ≥ 启用的系统字节数   (CBV,NID)</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmCarWakeUpFilterEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>如果支持CWU过滤，则仅NM   PDU中具有源节点标识符CanNmCarWakeUpFilterNodeId的CWU位被视为CWU请求。</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>CanNmCarWakeUpRxEnabled=TRUE</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmCarWakeUpFilterNodeId</p></td>
<td><p>取值范围</p></td>
<td><p>0~255</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>CWU过滤的源节点标识符。如果支持CWU过滤，则只有具有源节点标识符CanNmCarWakeUpFilterNodeId的NM   PDU中的CWU位被视为CWU请求</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>CanNmCarWakeUpFilterEnabled=TRUE</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmCarWakeUpRxEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>FALSE</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>启用或禁用在接收的NM   PDU中支持CarWakeUp  bit评估</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>依赖于NmIf模块的NmCarWakeUpRxEnabled</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmImmediateNmCycleTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.001 .. 65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>定义用于CanNmImmediateNmTransmissions   NM PDU 立即传输的循环时间，以秒为单位。</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>此参数仅在以下情况下有效</p>
<p>CanNmImmediateNmTransmissions&gt;1。</p>
</td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmImmediateNmTransmissions</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 255</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>定义应立即传输的NM   PDU的数量。如果该值为零，则不会立即发送   NM PDU。立即传输   NM PDU 的循环时间由   CanNmImmediateNmCycleTime 定义。</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>如果   CanNmImmediateRestartEnabled = true 那么</p>
<p>CanNmImmediateNmTransmissions   = 0</p>
<p>如果   CanNmPnHandleMultipleNetworkRequests == True” 那么</p>
<p>“CanNmImmediateNmTransmissions   &gt; 0</p>
</td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmMsgCycleOffset</p></td>
<td><p>取值范围</p></td>
<td><p>0~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>周期性传输节点中的时间偏移。它决定了传输的启动延迟。以秒为单位指定</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>参数值&lt;CanMsgCycleTime此参数仅在CanNmPassiveModeEnabled为False时有效</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmMsgCycleTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.001~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>NM   PDU的周期以秒为单位。它确定周期性速率，并且是传输调度的基础。</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>当“CanNmPassiveModeEnabled”为“False”时，此参数才有效。</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmMsgReducedTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.001~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>减负载的周期传输时间，以秒为单位。</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系·</p></td>
<td colspan="3"><p>0,5 * CanNmMsgCycleTime ≤   CanNmMsgReducedTime &lt; CanNmMsgCycleTime</p>
<p>此参数仅在以下情况下有效</p>
<p>CanNmBusLoadReductionEnabled ==   True 和</p>
<p>CanNmBusLoadReductionActive == True   和</p>
<p>CanNmPassiveModeEnabled == False</p>
<p>否则不使用此参数。</p>
</td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmMsgTimeoutTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.001~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>当使用部分网络并定义此超时时，CanNm   会监控   NM-PDU 在此传输超时时间内成功传输，否则提供错误通知。</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>CanNmMsgTimeoutTime   &lt; CanNmMsgCycleTime</p>
<p>此参数仅在   CanNmPassiveModeEnabled 和 CanNmImmediateTxConfEnabled   设置为   FALSE 且   CanNmPnEnabled 设置为 TRUE 时有效。</p>
</td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmNodeDetectionEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>FSLSE/TRUE</p></td>
<td><p>默认</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>是否使能节点检测功能</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当CanNmNodeIdEnabled设置为TRUE时有效</p>
<p>如果CanNmPassiveModeEnabled==True，则CanNmNodeDetectionEnabled=False</p>
</td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmNodeId</p></td>
<td><p>取值范围</p></td>
<td><p>0~255</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>本地节点标志符</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>此参数仅在   CanNmNodeIdEnabled == True 时有效</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmNodeIdEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>true,   false</p></td>
<td><p>默认取值</p></td>
<td><p>true</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>用于启用源节点标识符的预处理器开关。</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>Equal(NmNodeIdEnabled)</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmPduCbvPosition</p></td>
<td><p>取值范围</p></td>
<td><p>CANNM_PDU_BYTE_0</p>
<p>CANNM_PDU_BYTE_1</p>
<p>CANNM_PDU_OFF</p>
</td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>定义NM   PDU内控制位向量的位置。参数的值表示NM   PDU中控制位向量的位置（CanNmPduByte0表示字节0，CanNmPduByte1表示字节1，CanNmPduOff表示源节点标识符不是NM   PDU的一部分）</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>如果CanNmNodeDetectionEnabled==   true，那么CanNmPduCbvPosition！=   CANNM_PDU_OFF</p>
<p>如果（CANNM_PDU_CBV_POSITION！=   CANNM_PDU_OFF&amp;&amp;CANNM_PDU_NID_POSITION！=   CANNM_PDU_OFF）则CANNM_PDU_CBV_POSITION！=   CANNM_PDU_NID_POSITION</p>
<p>如果（CANNM_PDU_CBV_POSITION！=   CANNM_PDU_OFF&amp;&amp;CANNM_PDU_NID_POSITION==CANNM_PDU_OFF）则CANNM_PDU_CBV_POSITION=CANNM_PDU_BYTE0</p>
</td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmPduNidPosition</p></td>
<td><p>取值范围</p></td>
<td><p>CANNM_PDU_BYTE_0</p>
<p>CANNM_PDU_BYTE_1</p>
<p>CANNM_PDU_OFF</p>
</td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>定义NM   PDU中源节点标识的位置。该参数的值表示NM   PDU中源节点标识的位置</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>如果CanNmNodeIdEnabled==   true，那么CanNmPduNidPosition！=   CANNM_PDU_OFF</p>
<p>如果（CANNM_PDU_NID_POSITION！=   CANNM_PDU_OFF&amp;&amp; CANNM_PDU_CBV_POSITION！=   CANNM_PDU_OFF）则CANNM_PDU_NID_POSITION！=   CANNM_PDU_CBV_POSITION</p>
<p>如果（CANNM_PDU_NID_POSITION！=   CANNM_PDU_OFF&amp;&amp; CANNM_PDU_CBV_POSITION== CANNM_PDU_OFF）则CANNM_PDU_NID_POSITION=   CANNM_PDU_BYTE0</p>
</td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmPnEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>使能或者禁用PN</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当   CanNmGlobalPnSupport == true 时有效,同时需要配置CanNmPnInfo</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmPnEraCalcEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>FALSE</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>指定CanNm是否计算外部请求的PN请求信息</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当   CanNmGlobalPnSupport == true 时有效</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmPnHandleMultipleNetworkRequests</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>FALSE</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>指定CanNm是否执行从网络模式到重复消息状态（true）或不（false）的附加转换</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当   CanNmGlobalPnSupport == true 时有效</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmRemoteSleepIndTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.001~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>远程睡眠指示超时。它定义了需要多长时间才能识别所有其他节点已准备好进入睡眠状态</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>CanNmRemoteSleepIndTime≥   CanNmMsgCycleTime且CanNmRemoteSleepIndTime仅在CanNmRemoteSleepIndEnabled   = true时是必需的</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmRepeatMessageTime</p></td>
<td><p>取值范围</p></td>
<td><p>0~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>重复消息状态超时。它以秒为单位定义了NM应该停留在重复消息状态的时间</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>CanNmRepeatMessageTime=n*CanNmMsgCycleTime;</p>
<p>CanNmRepeatMessageTime&gt;CanNmImmediateNmTransmissions   *CanNmImmediateNmCycleTime</p>
</td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmRepeatMsgIndEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>FALSE/TRUE</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>是否使能RepeatMessageRequest位已被收到的通知</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>计算公式=如果（CanNmPassiveModeEnabled==False）则等于（NmRepeatMsgIndEnabled）否则等于（False）</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmStayInPbsEnabled</p></td>
<td><p>取值范围</p></td>
<td><p>STD_ON,STD_OFF</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>如果禁用此参数，则在   CanNmWaitBusSleepTime 后离开Prepare Bus-Sleep 模式。如果启用此参数，则只有在   ECU 断电或任何重新启动原因适用时才能离开   Prepare BusSleep 模式。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td colspan="3"></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmTimeoutTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.002~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>NM   PDU的网络超时。它表示在转换到</p>
<p>Prepare Bus-Sleep 模式启动之前，NM需要停留在</p>
<p>ReadySleep状态的时间</p>
</td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>CanNmTimeoutTime &gt;   CanNmMsgCycleTime</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmWaitBusSleepTime</p></td>
<td><p>取值范围</p></td>
<td><p>0.001~65.535</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>表示在转换到总线休眠模式之前，NM应停留在准备总线休眠模式的时间，以秒为单位</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>它应该对群集中的所有节点都是相等的。它应该足够长，使所有Tx缓冲区都为空，如果   CanNmStayInPbsEnabled 被禁用，这个参数应该是强制性的。</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>CanNmComMNetworkHandleRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference to [ ComMChannel ]</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>参数描述</p></td>
<td colspan="3"><p>此引用指向由ComMChannel定义的唯一通道，并提供对ComMChannelId中唯一通道索引值的访问</p></td>
</tr>
<tr class="row-even"><td><p>依赖关系</p></td>
<td colspan="3"><p>无</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>CanNmPnEraRxNSduRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference to [ Pdu ]</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>参数描述</p></td>
<td colspan="3"><p>参考COM堆栈中的Pdu。每个CanNm通道都需要SduRef，因为每个channel都会报告ERA</p></td>
</tr>
<tr class="row-odd"><td><p>依赖关系</p></td>
<td colspan="3"><p>仅当   CanNmPnEraCalcEnabled == true 时有效，引用的PDU需要在PDUR中进行关联</p></td>
</tr>
</tbody>
</table>
<section id="cannmrxpdu">
<h5>CanNmRxPdu<a class="headerlink" href="#cannmrxpdu" title="Link to this heading">¶</a></h5>
<p><a class="reference internal" href="../../_images/image83.png"><img alt="image8" src="../../_images/image83.png" style="width: 5.76736in; height: 1.51111in;" /></a></p>
<p>图 CanNmRxPdu容器配置图</p>
<p>表  CanNmRxPdu属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Ca
nNmRxPduId</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 65535</p></td>
<td><p>默认取值</p></td>
<td><p>C
ANNM_RX_PD
U_index(x)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>此参数定义与此
CanNm 通道关联的
CanIf L-PDU 范围的
Rx PDU ID。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>配置的PDU顺序</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Can
NmRxPduRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference to [ Pdu
]</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>对此 CanNm
通道使用的全局 PDU
的引用。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>依
赖于ECUC里面配置的
PDU,与CanNmTxPduRef
、CanNmTxUse
rDataPduRef不能相同</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannmtxpdu">
<h5>CanNmTxPdu<a class="headerlink" href="#cannmtxpdu" title="Link to this heading">¶</a></h5>
<p>仅当 CanNmPassiveModeEnabled 为 false 时，此容器的配置有效。</p>
<p><a class="reference internal" href="../../_images/image93.png"><img alt="image9" src="../../_images/image93.png" style="width: 5.76736in; height: 1.57639in;" /></a></p>
<p>图 CanNmTxPdu容器配置图</p>
<p>表  CanNmTxPdu属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanN
mTxConfirm
ationPduId</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 65535</p></td>
<td><p>默认取值</p></td>
<td><p>C
ANNM_TX_PD
U_index(x)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>下
层的TxConfirmatio
n使用的TxPdu的ID。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>配置的PDU顺序</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Can
NmTxPduRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference to [ Pdu
]</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>引用AUTOSAR
ECU
配置规范中描述的全
局PDU结构中的PDU。
CanNm模块将使
用此参考来导出PDU
ID。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>依赖
于ECUC里面配置的PD
U，与CanNmRxPduRef
、CanNmTxUser
DataPduRef不能相同</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cannmuserdatatxpdu">
<h5>CanNmUserDataTxPdu<a class="headerlink" href="#cannmuserdatatxpdu" title="Link to this heading">¶</a></h5>
<p><a class="reference internal" href="../../_images/image103.png"><img alt="image10" src="../../_images/image103.png" style="width: 5.76736in; height: 1.62569in;" /></a></p>
<p>图 CanNmUserDataTxPdu容器配置图</p>
<p>表 CanNmUserDataTxPdu属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmTxUse
rDataPduId</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 65535</p></td>
<td><p>默认取值</p></td>
<td><p>CAN
NM_USER_TX
_PD
U_index(x)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>此参数定义NM用户
数据I-PDU的Handle
ID。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>配置的PDU顺序</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>C
anNmTxUser
DataPduRef</p></td>
<td><p>取值范围</p></td>
<td><p>Reference to [ Pdu
]</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>在全
局PDU集合中引用NM
User Data I-PDU。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>依赖
于ECUC里面配置的PD
U，与CanNmRxPduRef
、CanNmTxPduRef
不能相同,该PDU需要
在PDUR模块中有引用</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="cannmpninfo">
<h4>CanNmPnInfo<a class="headerlink" href="#cannmpninfo" title="Link to this heading">¶</a></h4>
<p><a class="reference internal" href="../../_images/image116.png"><img alt="image11" src="../../_images/image116.png" style="width: 5.76736in; height: 1.25625in;" /></a></p>
<p>图 CanNmPnInfo容器配置图</p>
<p>表 CanNmPnInfo属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CanNmPn
InfoLength</p></td>
<td><p>取值范围</p></td>
<td><p>1 .. 7</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>指定NM消息中
PN请求信息的长度。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当
Ca
nNmGlobalPnSupport
== true 时有效</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CanNmPn
InfoOffset</p></td>
<td><p>取值范围</p></td>
<td><p>1 .. 7</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>指定NM消息中PN
请求信息的偏移量。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当
Ca
nNmGlobalPnSupport
== true 时有效</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<section id="cannmpnfiltermaskbyte">
<h5>CanNmPnFilterMaskByte<a class="headerlink" href="#cannmpnfiltermaskbyte" title="Link to this heading">¶</a></h5>
<p><a class="reference internal" href="../../_images/image123.png"><img alt="image12" src="../../_images/image123.png" style="width: 5.76736in; height: 1.36181in;" /></a></p>
<p>图 CanNmPnFilterMaskByte容器配置图</p>
<p>表 CanNmPnFilterMaskByte属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>UI名称</p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Ca
nNmPnFil
terMaskB
yteIndex</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 6</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>过滤掩码
字节的索引。指定过滤
掩码字节数组中的位置</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当
CanNmGlobalPnSupport
== true
时有效CanNmPn
FilterMaskByteIndex&lt;
CanNmPnInfoLength</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Ca
nNmPnFil
terMaskB
yteValue</p></td>
<td><p>取值范围</p></td>
<td><p>0 .. 255</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>用于配置
过滤掩码字节的参数。</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>仅当
CanNmGlobalPnSupport
== true 时有效</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="CanIf.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>CanIf
    </a>
    <a class="float-right" href="CanSM.html" title="Next">
        CanSM <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">CanNm</a><ul>
<li><a class="reference internal" href="#id1">简介</a><ul>
<li><a class="reference internal" href="#id2">参考资料</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">功能描述</a><ul>
<li><a class="reference internal" href="#id4">状态机切换</a><ul>
<li><a class="reference internal" href="#id5">模式介绍</a></li>
<li><a class="reference internal" href="#network-mode">Network Mode</a></li>
<li><a class="reference internal" href="#prepare-bus-sleep-mode">Prepare Bus Sleep Mode</a></li>
<li><a class="reference internal" href="#bus-sleep-mode">Bus-Sleep Mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pdu">PDU格式</a></li>
<li><a class="reference internal" href="#id6">可选功能</a><ul>
<li><a class="reference internal" href="#id7">检测远程睡眠指令功能</a></li>
<li><a class="reference internal" href="#id8">用户数据功能</a></li>
<li><a class="reference internal" href="#id9">被动模式功能</a></li>
<li><a class="reference internal" href="#nm-pdu-rx">NM PDU Rx指示功能</a></li>
<li><a class="reference internal" href="#id10">状态变化通知功能</a></li>
<li><a class="reference internal" href="#id11">通讯控制功能</a></li>
<li><a class="reference internal" href="#nm">NM协调器同步支持功能</a></li>
<li><a class="reference internal" href="#id12">减负载功能</a></li>
<li><a class="reference internal" href="#pn">PN功能</a><ul>
<li><a class="reference internal" href="#id13">PN过滤</a></li>
<li><a class="reference internal" href="#eraeira">ERA与EIRA</a></li>
<li><a class="reference internal" href="#id14">自发传输</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id15">车辆唤醒功能</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id16">源文件描述</a></li>
<li><a class="reference internal" href="#api">API接口</a><ul>
<li><a class="reference internal" href="#id17">类型定义</a><ul>
<li><a class="reference internal" href="#cannm-configtype">CanNm_ConfigType类型定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id18">输入函数描述</a></li>
<li><a class="reference internal" href="#id19">静态接口函数定义</a><ul>
<li><a class="reference internal" href="#cannm-init">CanNm_Init函数定义</a></li>
<li><a class="reference internal" href="#cannm-deinit">CanNm_DeInit函数定义</a></li>
<li><a class="reference internal" href="#cannm-passivestartup">CanNm_PassiveStartUp函数定义</a></li>
<li><a class="reference internal" href="#cannm-networkrequest">CanNm_NetworkRequest函数定义</a></li>
<li><a class="reference internal" href="#cannm-networkrelease">CanNm_NetworkRelease函数定义</a></li>
<li><a class="reference internal" href="#cannm-disablecommunication">CanNm_DisableCommunication函数定义</a></li>
<li><a class="reference internal" href="#cannm-enablecommunication">CanNm_EnableCommunication函数定义</a></li>
<li><a class="reference internal" href="#cannm-setuserdata">CanNm_SetUserData函数定义</a></li>
<li><a class="reference internal" href="#cannm-getuserdata">CanNm_GetUserData函数定义</a></li>
<li><a class="reference internal" href="#cannm-transmit">CanNm_Transmit函数定义</a></li>
<li><a class="reference internal" href="#cannm-getnodeidentifier">CanNm_GetNodeIdentifier函数定义</a></li>
<li><a class="reference internal" href="#cannm-getlocalnodeidentifier">CanNm_GetLocalNodeIdentifier函数定义</a></li>
<li><a class="reference internal" href="#cannm-repeatmessagerequest">CanNm_RepeatMessageRequest函数定义</a></li>
<li><a class="reference internal" href="#cannm-getpdudata">CanNm_GetPduData函数定义</a></li>
<li><a class="reference internal" href="#cannm-getstate">CanNm_GetState函数定义</a></li>
<li><a class="reference internal" href="#cannm-getversioninfo">CanNm_GetVersionInfo函数定义</a></li>
<li><a class="reference internal" href="#cannm-requestbussynchronization">CanNm_RequestBusSynchronization函数定义</a></li>
<li><a class="reference internal" href="#cannm-checkremotesleepindication">CanNm_CheckRemoteSleepIndication函数定义</a></li>
<li><a class="reference internal" href="#cannm-setsleepreadybit">CanNm_SetSleepReadyBit函数定义</a></li>
<li><a class="reference internal" href="#cannm-txconfirmation">CanNm_TxConfirmation函数定义</a></li>
<li><a class="reference internal" href="#cannm-rxindication">CanNm_RxIndication函数定义</a></li>
<li><a class="reference internal" href="#cannm-confirmpnavailability">CanNm_ConfirmPnAvailability函数定义</a></li>
<li><a class="reference internal" href="#cannm-triggertransmit">CanNm_TriggerTransmit函数定义</a></li>
<li><a class="reference internal" href="#cannm-mainfunction">CanNm_MainFunction函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id20">可配置函数定义</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id21">配置</a><ul>
<li><a class="reference internal" href="#cannmglobalconfig">CanNmGlobalConfig</a><ul>
<li><a class="reference internal" href="#cannmchannelconfig">CanNmChannelConfig</a><ul>
<li><a class="reference internal" href="#cannmrxpdu">CanNmRxPdu</a></li>
<li><a class="reference internal" href="#cannmtxpdu">CanNmTxPdu</a></li>
<li><a class="reference internal" href="#cannmuserdatatxpdu">CanNmUserDataTxPdu</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cannmpninfo">CanNmPnInfo</a><ul>
<li><a class="reference internal" href="#cannmpnfiltermaskbyte">CanNmPnFilterMaskByte</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
                <nav aria-label="Footer">
                    <ul class="nav justify-content-center mb-2">
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/features/">Features</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/about-wagtail/"> About Wagtail</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/services/"> Services</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/blog/"> Blog</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/packages/"> Packages</a></li>
                        
                            
                            
                            <li class="nav-item"><a class="nav-link text-light"  href="https://wagtail.org/developers/"> Developers</a></li>
                        
                    </ul>
                </nav>
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <!-- <small>
                    Created using
                    <a href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.4.0
                    </a>
                    and
                    <a href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.1.3
                    </a>
                </small> -->
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
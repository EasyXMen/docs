<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>ComM &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="Crc" href="../Crc/Crc.html" />
            <link rel="prev" title="Com" href="../Com/Com.html" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Os/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">ComM</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
        <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/ComM/ComM.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="comm">
<h1>ComM<a class="headerlink" href="#comm" title="Link to this heading">¶</a></h1>
<section id="document-information">
<h2>文档信息(Document Information)<a class="headerlink" href="#document-information" title="Link to this heading">¶</a></h2>
<section id="version-history">
<h3>版本历史(Version History)<a class="headerlink" href="#version-history" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>日期(Date)</p></th>
<th class="head"><p>作者(Author)</p></th>
<th class="head"><p>版本(Version)</p></th>
<th class="head"><p>状态(Status)</p></th>
<th class="head"><p>说明(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2024/11/29</p></td>
<td><p>xiaojian.liang</p></td>
<td><p>V0.1</p></td>
<td><p>发布(Release)</p></td>
<td><p>首次发布(First release)</p></td>
</tr>
<tr class="row-odd"><td><p>2025/04/04</p></td>
<td><p>xiaojian.liang</p></td>
<td><p>V1.0</p></td>
<td><p>发布(Release)</p></td>
<td><p>正式发布(Official release)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="references">
<h3>参考文档(References)<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号(Number)</p></th>
<th class="head"><p>分类(Classification)</p></th>
<th class="head"><p>标题(itle)</p></th>
<th class="head"><p>版本(Version)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SRS_ModeManagement.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SWS_COMManager.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terms-and-abbreviations">
<h2>术语与简写(Terms and Abbreviations)<a class="headerlink" href="#terms-and-abbreviations" title="Link to this heading">¶</a></h2>
<section id="terms">
<h3>术语(Terms)<a class="headerlink" href="#terms" title="Link to this heading">¶</a></h3>
<blockquote>
<div></div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>术语(Term)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DCM Active Diagnostic Indication</p></td>
<td><p>DCM指示一个激活的会话。DCM因诊断目的需要通道处于COMM_FULL_COMMUNICATION(DCM indicates an active session. The DCM requires the channel to be in COMM_FULL_COMMUNICATION for diagnostic purposes)</p></td>
</tr>
<tr class="row-odd"><td><p>Active wake-up</p></td>
<td><p>唤醒来自于主机ECU，例如某个传感器(Wake-up comes from the host ECU, such as a certain sensor)</p></td>
</tr>
<tr class="row-even"><td><p>Bus sleep</p></td>
<td><p>总线不再需要任何通信(例如，CAN总线睡眠)(The bus no longer requires any communication, e.g., CAN bus sleep)</p></td>
</tr>
<tr class="row-odd"><td><p>Communication Channel</p></td>
<td><p>确定通信模式(Determines the communication mode)</p></td>
</tr>
<tr class="row-even"><td><p>Communication Mode</p></td>
<td><p>通信模式决定了系统中允许的通信类型。(The communication mode determines the types of communication allowed in the system.)</p>
<p>“full communication” = COMM_FULL_COMMUNICATION</p>
<p>“no communication” = COMM_NO_COMMUNICATION</p>
<p>“silent communication” = COMM_SILENT_COMMUNICATION</p>
<p>注意： COMM_SILENT_COMMUNICATION 无法被用户直接请求，用于网络管理同步睡眠目的。(Note: COMM_SILENT_COMMUNICATION cannot be directly requested by the user and is used for network management synchronous sleep purposes)</p>
</td>
</tr>
<tr class="row-odd"><td><p>Fan-out</p></td>
<td><p>相同的信息被发送到多个目的地/接收者。(The same information is sent to multiple destinations/recipients)</p></td>
</tr>
<tr class="row-even"><td><p>Independent software component</p></td>
<td><ul class="simple">
<li><p>一个单独开发的软件组件，在ECU上执行一组连贯的功能，并且与其他软件应用程序的接口数量最少。例如，这可以是一个基础软件组件或应用软件组件。(A separately developed software component that performs a set of coherent functions on the ECU and has a minimal number of interfaces with other software applications. For example, this could be a basic software component or an application software component)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>Passive wake-up</p></td>
<td><p>唤醒来自于另一个ECU，并通过(例如通过通信总线或唤醒线)传播到当前ECU(The wake-up comes from another ECU and is propagated to the current ECU, e.g., via a communication bus or a wake-up line)</p></td>
</tr>
<tr class="row-even"><td><p>User</p></td>
<td><p>ECU状态管理器模块和通信管理器模块的请求者的概念。用户可以是BswM、可运行实体、SW-C或一组SW-C，它们作为指向ECU状态管理器模块和通信管理器模块的单个单元。(The concept of requesters for the ECU State Manager module and the Communication Manager module. A user can be BswM, a runnable entity, a SW-C, or a group of SW-Cs, which act as a single unit pointing to the ECU State Manager module and the Communication Manager module)</p></td>
</tr>
<tr class="row-odd"><td><p>User Request</p></td>
<td><p>用户可以从ComM请求不同的通信模式(Users can request different communication modes from ComM)</p></td>
</tr>
<tr class="row-even"><td><p>Managed channel</p></td>
<td><p>由ECUC参数ComMManageReference引用的另一个通信通道，一个Managed通道只能被引用一次。(Another communication channel referenced by the ECUC parameter ComMManageReference; a Managed channel can only be referenced once)</p></td>
</tr>
<tr class="row-odd"><td><p>Managing channel</p></td>
<td><p>Managing 通道可以通过 ECU 参数 ComMManageReference 引用 1..n 个其他通道。(A Managing channel can reference 1..n other channels through the ECU parameter ComMManageReference)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="abbreviations">
<h3>简写(Abbreviations)<a class="headerlink" href="#abbreviations" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 33.3%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>简写(Abbreviation)</p></th>
<th class="head"><p>全称(Full name)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>API</p></td>
<td><p>Application Programming Interface</p></td>
<td><p>应用程序接口</p></td>
</tr>
<tr class="row-odd"><td><p>BswM</p></td>
<td><p>Basic Software Manager</p></td>
<td><p>基础软件管理模块</p></td>
</tr>
<tr class="row-even"><td><p>BusSM</p></td>
<td><p>Bus State Manger</p></td>
<td><p>与总线相关的状态管理模块</p></td>
</tr>
<tr class="row-odd"><td><p>CanSM</p></td>
<td><p>Can State Manger</p></td>
<td><p>Can 总线状态管理模块</p></td>
</tr>
<tr class="row-even"><td><p>DET</p></td>
<td><p>Default Error Tracer</p></td>
<td><p>默认错误检测模块</p></td>
</tr>
<tr class="row-odd"><td><p>NM</p></td>
<td><p>Network Management</p></td>
<td><p>网络管理</p></td>
</tr>
<tr class="row-even"><td><p>PDU</p></td>
<td><p>Protocol Data Unit</p></td>
<td><p>协议数据单元</p></td>
</tr>
<tr class="row-odd"><td><p>PN</p></td>
<td><p>Partial Network</p></td>
<td><p>部分网络</p></td>
</tr>
<tr class="row-even"><td><p>PNC</p></td>
<td><p>Partial Network Cluster</p></td>
<td><p>部分网络集群</p></td>
</tr>
<tr class="row-odd"><td><p>ERA</p></td>
<td><p>External Request Array</p></td>
<td><p>外部请求集合</p></td>
</tr>
<tr class="row-even"><td><p>EIRA</p></td>
<td><p>External and Internal Request Array</p></td>
<td><p>外部和内部请求集合</p></td>
</tr>
<tr class="row-odd"><td><p>ComM</p></td>
<td><p>Communication Manager</p></td>
<td><p>通讯管理模块</p></td>
</tr>
<tr class="row-even"><td><p>DCM</p></td>
<td><p>Diagnostic Communication Manager</p></td>
<td><p>诊断通讯管理模块</p></td>
</tr>
<tr class="row-odd"><td><p>BusNm</p></td>
<td><p>Bus Network Management</p></td>
<td><p>与总线相关的网络管理模块</p></td>
</tr>
<tr class="row-even"><td><p>NvM</p></td>
<td><p>Non-Volatile Manager</p></td>
<td><p>非易失性管理器</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="introduction">
<h2>简介(Introduction)<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>ComM(COM Manage，通信管理)模块是一个资源管理器，它封装了对基础通信服务的控制。ComM 模块控制与通信相关的基础软件模块，它收集来自通信请求者的总线通信访问请求，并进行协调。</p>
<p>The ComM (Communication Manager) module is a resource manager that encapsulates the control of basic communication services. The ComM module controls the basic software modules related to communication, collects bus communication access requests from communication requesters, and coordinates them.</p>
<figure class="align-center" id="id1">
<img alt="ComM 在 AUTOSAR 中的位置(The Position of ComM in AUTOSAR)" src="../../../_images/ComM%E5%9C%A8AUTOSAR%E4%B8%AD%E7%9A%84%E4%BD%8D%E7%BD%AE.png" />
<figcaption>
<p><span class="caption-text">ComM 在 AUTOSAR 中的位置 (The Position of ComM in AUTOSAR)</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>ComM 模块的目的是：</p>
<p>The purpose of the ComM module is to:</p>
<blockquote>
<div><ul>
<li><p>为用户简化总线通信栈的使用，包括简化的网络管理处理。</p>
<p>Simplify the use of the bus communication stack for users, including simplified network management processing.</p>
</li>
<li><p>协调一个ECU上多个独立软件组件的总线通信栈的可用性(允许发送和接收信号)。</p>
<p>Coordinate the availability of the bus communication stack (allowing signal transmission and receipt) for multiple independent software components on an ECU.</p>
</li>
<li><p>提供一个 API 来禁用发送信号，以防止 ECU(主动地)唤醒通信总线。</p>
<p>Provide an API to disable signal transmission, preventing the ECU from (actively) waking up the communication bus.</p>
</li>
<li><p>通过为每个通道实现通道状态机来控制 ECU 的多个通信总线通道。</p>
<p>Control multiple communication bus channels of the ECU by implementing a channel state machine for each channel.</p>
</li>
<li><p>提供迫使 ECU 保持总线唤醒的“无通讯”模式的可能性。</p>
<p>Provide the possibility of a “no communication” mode that forces the ECU to keep the bus awake.</p>
</li>
<li><p>通过分配请求的通信模式所需的所有资源来简化资源管理。</p>
<p>Simplify resource management by allocating all resources required for the requested communication mode.</p>
</li>
</ul>
</div></blockquote>
</section>
<section id="functional-description">
<h2>功能描述(Functional Description)<a class="headerlink" href="#functional-description" title="Link to this heading">¶</a></h2>
<section id="features">
<h3>特性(Features)<a class="headerlink" href="#features" title="Link to this heading">¶</a></h3>
<section id="channel-pnc-channel-and-pnc-status-management-function">
<h4>Channel 与 PNC 状态管理功能(Channel and PNC Status Management Function)<a class="headerlink" href="#channel-pnc-channel-and-pnc-status-management-function" title="Link to this heading">¶</a></h4>
<p>AUTOSAR 中，通过 ComM 系统服务实现对通信状态的管理。用户上电唤醒时通过主动请求通信 FULL_COMMUNICATION 或被动唤醒通知，用户休眠时请求
NO_COMMUNICATION 释放通信，ComM 接收到请求后通过相应总线的 SM 模块和 NM 模块实现对总线通信状态的切换。用户无需再与各个通信总线的状态管理
模块和网络管理模块进行交互。一个用户可以对应多个通道和多个PNC。当用户请求 FULL_COMMUNICATION 来请求通信时，该用户对应的所有 channel 和
PNC 都需要切换为 FULL_COMMUNICATION 的状态。在发生被动唤醒时，例如由 ECUM 发出的唤醒请求或者由网络管理模块发出的重启通信请求，对应的
channel 和 PNC 需要切换为 FULL_COMMUNICATION的状态。ComM 为每个 channel 和每个 PNC 都提供一个独立的状态机。</p>
<p>In AUTOSAR, the management of communication status is implemented through the ComM system service. When a user powers on and wakes up, they actively request FULL_COMMUNICATION or receive a passive wake-up notification. When the user hibernates, they request NO_COMMUNICATION to release communication. After receiving the request, ComM switches the bus communication status through the SM module and NM module of the corresponding bus. Users no longer need to interact with the state management modules and network management modules of each communication bus.
A user can correspond to multiple channels and multiple PNCs. When a user requests communication via FULL_COMMUNICATION, all channels and PNCs corresponding to that user need to switch to the FULL_COMMUNICATION state. In case of passive wake-up, such as a wake-up request from EcuM or a request to restart communication from the network management module, the corresponding channels and PNCs need to switch to the FULL_COMMUNICATION state. ComM provides an independent state machine for each channel and each PNC.</p>
<p>ComM 模块实现了PNC(局域网络集群)管理功能，在 ComM 中可配置 PNC，并且该 PNC 可以被通道和用户所引用，每个 PNC 在总线上使用 NM Pnc Bit
Vector 中的专用位位置。如果节点上的本地 ComM 用户请求了 PNC，则该节点会将 NM Pnc Bit Vector 中的相应位设置为 1。如果不再请求 PNC，节
点将 NM Pnc Bit Vector 中的相应位设置为 0。Nm 模块通过 BusNm 收集并聚集 PNC 的 NM Pnc Bit Vector，传递给 ComM。ComM 通过信号的内容
，更新PNC状态机的状态。</p>
<p>The ComM module implements the PNC (Partial Network Cluster) management function. PNCs can be configured in ComM, and these PNCs can be referenced by channels and users. Each PNC uses a dedicated bit position in the NM Pnc Bit Vector on the bus. If a local ComM user on a node requests a PNC, the node sets the corresponding bit in the NM Pnc Bit Vector to 1. If the PNC is no longer requested, the node sets the corresponding bit in the NM Pnc Bit Vector to 0. The Nm module collects and aggregates the NM Pnc Bit Vectors of PNCs through BusNm and passes them to ComM. ComM updates the state of the PNC state machine based on the content of the signal.</p>
<p>PNC 可以设置为网关类型和非网关类型，网关类型主要用于当局域网连接到一个以上的通道时，需要进行协调，通道可以配置为 Active(主动)类型和
Passive(被动)类型，Passive 类型存在于当被动协调通道连接到多个 PNC 网关。 如果启用了 ComM 的 PNC 网关功能
(ComMPNCGatewayEnabled = true)可以将映射到此网关的 ComM 通道设置为主动或被动类型(COMM_GATEWAY_TYPE_ACTIVE 或
COMM_GATEWAY_TYPE_PASSIVE)。如果 ComM 通道映射到两个不同的 PNC 网关，则只有一个网关主动协调此通道，而另一个则被动协调。这意味着，PNC
网关始终映射到至少一个 ComM 通道类型为主动，并且可以映射到一个或多个 ComM 通道类型为被动。当 PNC 只要有一个 Active 通道收到 ERA 中为请求
，则 Passive 通道发送当前 PNC 为请求的 Nm Pdu；当前 Gateway 的 PNC 中所有 Active 通道收到 ERA 标识 PNC 为释放状态，发送当前 PNC 为
释放的 Nm Pdu；这种表现可以简单理解为 Gateway 从 Active 通道向 Passive 转发 ERA PNC信息。</p>
<p>PNCs can be set as gateway type or non-gateway type. The gateway type is mainly used for coordination when a local area network is connected to more than one channel. Channels can be configured as Active type or Passive type. The Passive type exists when a passively coordinated channel is connected to multiple PNC gateways.
If the PNC gateway function of ComM is enabled (ComMPNCGatewayEnabled = true), the ComM channels mapped to this gateway can be set as active or passive type (COMM_GATEWAY_TYPE_ACTIVE or COMM_GATEWAY_TYPE_PASSIVE). If a ComM channel is mapped to two different PNC gateways, only one gateway actively coordinates this channel, while the other coordinates it passively. This means that a PNC gateway is always mapped to at least one ComM channel of active type and can be mapped to one or more ComM channels of passive type.
When a PNC has at least one Active channel that receives a request in the ERA, the Passive channel sends an Nm Pdu indicating that the current PNC is requested; when all Active channels in the current Gateway’s PNC receive the ERA identifier indicating the PNC is released, they send an Nm Pdu indicating the current PNC is released. This behavior can be simply understood as the Gateway forwarding ERA PNC information from the Active channel to the Passive channel.</p>
<section id="channel-channel-state-machine">
<h5>Channel 状态机(Channel State Machine)<a class="headerlink" href="#channel-channel-state-machine" title="Link to this heading">¶</a></h5>
<p>ComM 为每个通道都实现了一个状态机，ComM 通道有三个主要状态，分别为 COMM_NO_COMMUNICATION、COMM_SILENT_COMMUNICATION 和
COMM_FULL_COMMUNICATION，其中 COMM_SILENT_COMMUNICATION 状态用于网络管理内部状态同步，用户不可请求。COMM_NO_COMMUNICATION 内部包
含 COMM_NO_COM_NO_PENDING_REQUEST 和 COMM_NO_COM_REQUEST_PENDING 两个子状态，COMM_FULL_COMMUNICATION 内部包含
COMM_FULL_COM_NETWORK_REQUESTED 和 COMM_FULL_COM_READY_SLEEP两个子状态。ComM通道状态机如下图所示。</p>
<p>ComM implements a state machine for each channel. The ComM channel has three main states: COMM_NO_COMMUNICATION, COMM_SILENT_COMMUNICATION, and COMM_FULL_COMMUNICATION. The COMM_SILENT_COMMUNICATION state is used for internal network management state synchronization and cannot be requested by users.
COMM_NO_COMMUNICATION internally includes two substates: COMM_NO_COM_NO_PENDING_REQUEST and COMM_NO_COM_REQUEST_PENDING. COMM_FULL_COMMUNICATION internally includes two substates: COMM_FULL_COM_NETWORK_REQUESTED and COMM_FULL_COM_READY_SLEEP. The ComM channel state machine is shown in the figure below.</p>
<figure class="align-center" id="id2">
<img alt="ComM 通道状态机(ComM Channel State Machine)" src="../../../_images/ComM%E9%80%9A%E9%81%93%E7%8A%B6%E6%80%81%E6%9C%BA.png" />
<figcaption>
<p><span class="caption-text">ComM 通道状态机 (ComM Channel State Machine)</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="pnc-pnc-state-machine">
<h5>PNC 状态机(PNC state machine)<a class="headerlink" href="#pnc-pnc-state-machine" title="Link to this heading">¶</a></h5>
<p>ComM 为每个 PNC(局域网集群)实现一个状态机，每个 PNC 都有其自己的状态，通过配置映射，PNC 的状态与 channel 的状态有关。ComM 用户可以请求
和释放 PNC，系统通道节点上所有 PNC 的状态通过网络管理报文进行交换。每个 PNC 在总线上使用网络管理报文中的 Pnc Bit Vector 中的专用位位置。
如果该节点上的本地 ComM 用户请求了 PNC，则该节点会将网络管理报文中 Pnc Bit Vector 中的相应位设置为 1。如果该 PNC 不再被请求，节点将网络
管理报文中 Pnc Bit Vector 中的相应位设置为 0。BusNm 收集网络管理报文中的 Pnc Bit Vector，传递给 Nm 模块，Nm 模块聚合接收到的 Pnc Bit
Vector 信息，并通过 ComM_Nm_UpdateEIRA/ComM_Nm_UpdateERA 提供给 ComM。</p>
<p>ComM implements a state machine for each PNC (Partial Network Cluster). Each PNC has its own state, and through configuration mapping, the state of a PNC is related to the state of the channel. ComM users can request and release PNCs. The states of all PNCs on the system channel nodes are exchanged through network management messages. Each PNC uses a dedicated bit position in the Pnc Bit Vector within the network management message on the bus. If a local ComM user on the node requests a PNC, the node sets the corresponding bit in the Pnc Bit Vector of the network management message to 1. If the PNC is no longer requested, the node sets the corresponding bit in the Pnc Bit Vector to 0. BusNm collects the Pnc Bit Vector from network management messages and passes it to the Nm module. The Nm module aggregates the received Pnc Bit Vector information and provides it to ComM through ComM_Nm_UpdateEIRA/ComM_Nm_UpdateERA.</p>
<p>在每个系统通道上，每个 PNC 在 Pnc Bit Vector 中使用相同的位位置。ComM 使用两种类型的位向量 EIRA 和 ERA 进行 PNC 状态信息交换。EIRA 体现
了当前节点与网络上其他节点对某一个 PNC 的请求与释放情况；EIRA 不区分物理通道，只针对不同的 PN，ERA 则是在网关节点才使用，用于表示不同的通道对
Pn 的外部请求。ComM PNC 有两个主要状态，分别为 COMM_PNC_NO_COMMUNICATION、COMM_PNC_FULL_COMMUNICATION。
COMM_PNC_FULL_COMMUNICATION 内部有 COMM_PNC_PREPARE_SLEEP，COMM_PNC_READY_SLEEP 和 COMM_PNC_REQUESTED三个子状态。
ComM PNC 的状态机如下图所示。</p>
<p>On each system channel, each PNC uses the same bit position in the Pnc Bit Vector. ComM uses two types of bit vectors, EIRA and ERA, for PNC state information exchange. EIRA reflects the request and release status of a specific PNC by the current node and other nodes on the network. EIRA does not distinguish between physical channels and is only for different PNs. ERA is used only in gateway nodes to represent external requests for PNs from different channels. ComM PNC has two main states: COMM_PNC_NO_COMMUNICATION and COMM_PNC_FULL_COMMUNICATION. COMM_PNC_FULL_COMMUNICATION internally includes three substates: COMM_PNC_PREPARE_SLEEP, COMM_PNC_READY_SLEEP, and COMM_PNC_REQUESTED. The ComM PNC state machine is shown in the figure below.</p>
<figure class="align-center" id="id3">
<img alt="ComM PNC 状态机(ComM PNC State Machine)" src="../../../_images/ComMPNC%E7%8A%B6%E6%80%81%E6%9C%BA.png" />
<figcaption>
<p><span class="caption-text">ComM PNC 状态机 (ComM PNC State Machine)</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="communication-suppression">
<h4>通信抑制(Communication suppression)<a class="headerlink" href="#communication-suppression" title="Link to this heading">¶</a></h4>
<p>通信抑制是 ComM 中的扩展功能，ComM 释放了功能抑制的接口与配置，功能抑制以通道为单位，各通道内的功能抑制相互独立。功能抑制分为唤醒抑制与无通信抑制。</p>
<p>Communication suppression is an extended feature in ComM. ComM provides function suppression interfaces and configurations. Function suppression operates on a per-channel basis, with suppression in each channel being independent. Function suppression is categorized into wake-up suppression and no-communication suppression.</p>
<p>唤醒抑制：表现为通道处于 COMM_NO_COMMUNICATION 或 COMM_SILENT_COMMUNICATION 状态时忽略 User 对通道的 FULL_COMMUNICATION 请求，但
通道的被动唤醒功能不受影响，当全局配置项打开的情况下，唤醒抑制可以通过API来控制。</p>
<p>Wake-up suppression: When a channel is in COMM_NO_COMMUNICATION or COMM_SILENT_COMMUNICATION state, it ignores user FULL_COMMUNICATION requests for that channel. However, the channel’s passive wake-up capability remains unaffected. When the global configuration is enabled, wake-up suppression can be controlled via API.</p>
<p>NoCom 抑制：表现为限制通道切换到 COMM_FULL_COMMUNICATION 与 COMM_SILENT_COMMUNICATION 状态，当全局配置项打开的情况下，NoCom 抑制也
可以通过 API 来控制。</p>
<p>NoCom suppression: It prevents channels from switching to COMM_FULL_COMMUNICATION and COMM_SILENT_COMMUNICATION states. When the global configuration is enabled, NoCom suppression can also be controlled through API.</p>
</section>
<section id="managed-managing-managed-channel-and-managing-channel">
<h4>managed 通道与 managing 通道(Managed channel and managing channel)<a class="headerlink" href="#managed-managing-managed-channel-and-managing-channel" title="Link to this heading">¶</a></h4>
<p>一个通道可以被配置为 managed 通道和 managing 通道，即被其他通道管理的通道和管理其他通道的通道。一个通道为 managed 通道还是 managing 通
道是由配置参数 ComMManageReference 来决定的，如果通道 1 通过配置项 ComMManageReference 引用了通道 2，那么通道 1 为 managed 通道，
通道 2 为 managing 通道。其中 managed 通道的 ComMNmVariant(配置参数)为 LIGHT， managing 通道的 ComMNmVariant 为 FULL。</p>
<p>A channel can be configured as either a managed channel or a managing channel, i.e., a channel managed by other channels or a channel that manages other channels. Whether a channel is a managed channel or a managing channel is determined by the configuration parameter ComMManageReference. If channel 1 references channel 2 through the ComMManageReference configuration item, then channel 1 is a managed channel and channel 2 is a managing channel. The ComMNmVariant (configuration parameter) for a managed channel is LIGHT, while for a managing channel it is FULL.</p>
<p>如果一个 managed 通道被用户主动或 ECUM 被动唤醒请求 FULL_COMMUNICATION ，那么它的 managing 通道也需要请求 FULL_COMMUNICATION。当一
个managing通道想要切换到 NO_COMMUNICATION 的时候，一定需要它的 managed 通道都没有请求 FULL_COMMUNICATION 时才能切换状态。</p>
<p>If a managed channel is requested for FULL_COMMUNICATION by an active user request or a passive wake-up from EcuM, its managing channel must also request FULL_COMMUNICATION. When a managing channel attempts to switch to NO_COMMUNICATION, it can only do so when none of its managed channels have pending FULL_COMMUNICATION requests.</p>
</section>
</section>
<section id="deviation">
<h3>偏差(Deviation)<a class="headerlink" href="#deviation" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p>不支持 ComMNmVariant = SLAVE_ACTIVE | SLAVE_PASSIVE。</p>
<p>ComMNmVariant = SLAVE_ACTIVE | SLAVE_PASSIVE is not supported.</p>
<p>因为 ComM_BusSM_BusSleepMode 和 LinSM 模块在时序上有冲突 ，所以未实现，相关功能可用 ComMNmVariant = LIGHT 代替。</p>
<p>This is not implemented due to timing conflicts between ComM_BusSM_BusSleepMode and the LinSM module. The related functionality can be replaced by using ComMNmVariant = LIGHT.</p>
</li>
<li><p>不支持 ComMTMinFullComModeDuration。</p>
<p>ComMTMinFullComModeDuration is not supported.</p>
<p>因为 ComMTMinFullComModeDuration 用于防止 ComMNmVariant = LIGHT | NONE 的通道状态在 COMM_NO_COMMUNICATION 和
COMM_FULL_COMMUNICATION 之间反复跳变，仅用于 LIGHT 通道可以通过 ComMLightTimeout 实现，NONE 通道不会切换到
COMM_NO_COMMUNICATION，不需要使用 ComMTMinFullComModeDuration。</p>
<p>ComMTMinFullComModeDuration is used to prevent channels with ComMNmVariant = LIGHT | NONE from repeatedly switching between COMM_NO_COMMUNICATION and COMM_FULL_COMMUNICATION. For LIGHT channels, this can be achieved through ComMLightTimeout. NONE channels do not switch to COMM_NO_COMMUNICATION, making ComMTMinFullComModeDuration unnecessary.</p>
</li>
<li><p>不支持 ComM0PncVectorAvoidance。</p>
<p>ComM0PncVectorAvoidance is not supported.</p>
</li>
<li><p>不支持 Dynamic PNC-to-channel-mapping。</p>
<p>Dynamic PNC-to-channel-mapping is not supported.</p>
</li>
<li><p>不支持模块间版本一致性检查。</p>
<p>Inter-module version consistency check is not supported.</p>
</li>
</ol>
</section>
<section id="extension">
<h3>扩展(Extension)<a class="headerlink" href="#extension" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
</section>
<section id="integration">
<h2>集成(Integration)<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
<section id="file-list">
<h3>文件列表(File List)<a class="headerlink" href="#file-list" title="Link to this heading">¶</a></h3>
<section id="static-files">
<h4>静态文件(Static Files)<a class="headerlink" href="#static-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ComM.h</p></td>
<td><p>ComM 外部接口实现头文件(ComM external interface implementation header file)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_BswM.h</p></td>
<td><p>ComM 为 BswM 提供的回调函数实现头文件(Header file for callback functions provided by ComM to BswM)</p></td>
</tr>
<tr class="row-even"><td><p>ComM_Dcm.h</p></td>
<td><p>ComM 为 Dcm 提供的回调函数实现头文件(Header file for callback functions provided by ComM to Dcm)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_EcuM.h</p></td>
<td><p>ComM 为 EcuM 提供的回调函数实现头文件(Header file for callback functions provided by ComM to EcuM)</p></td>
</tr>
<tr class="row-even"><td><p>ComM_Internal.h</p></td>
<td><p>ComM 内部实现公共头文件(ComM internal implementation common header file)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_Nm.h</p></td>
<td><p>ComM 为 Nm 提供的回调函数实现头文件(Header file for callback functions provided by ComM to Nm)</p></td>
</tr>
<tr class="row-even"><td><p>ComM_Channel.h</p></td>
<td><p>ComM 通道实现头文件(ComM channel implementation header file)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_Pnc.h</p></td>
<td><p>ComM PNC 实现头文件(ComM PNC implementation header file)</p></td>
</tr>
<tr class="row-even"><td><p>ComM_User.h</p></td>
<td><p>ComM 用户实现头文件(ComM user implementation header file)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_InternalSM.h</p></td>
<td><p>ComM Internal SM 实现头文件(ComM internal state machine implementation header file)</p></td>
</tr>
<tr class="row-even"><td><p>ComM_Channel.c</p></td>
<td><p>ComM 通道实现源文件(ComM channel implementation source file)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_Pnc.c</p></td>
<td><p>ComM PNC 实现源文件(ComM PNC implementation source file)</p></td>
</tr>
<tr class="row-even"><td><p>ComM_User.c</p></td>
<td><p>ComM 用户实现源文件(ComM user implementation source file)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_InternalSM.c</p></td>
<td><p>ComM Internal SM 实现源文件(ComM internal state machine implementation source file)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="dynamic-files">
<h4>动态文件(Dynamic Files)<a class="headerlink" href="#dynamic-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ComM_Cfg.h</p></td>
<td><p>ComM Pre-Compile 配置头文件(ComM pre-compile configuration header file)</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_Cfg.c</p></td>
<td><p>ComM Pre-Compile 配置源文件(ComM pre-compile configuration source file)</p></td>
</tr>
<tr class="row-even"><td><p>ComM_PBcfg.c</p></td>
<td><p>ComM Post-Build 配置源文件(ComM post-build configuration source file)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="error-handling">
<h3>错误处理(Error Handling)<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<section id="development-errors">
<h4>开发错误(Development Errors)<a class="headerlink" href="#development-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>COMM_E_UNINIT</p></td>
<td><p>0x01</p></td>
<td><p>API service used without module initialization.</p></td>
</tr>
<tr class="row-odd"><td><p>COMM_E_WRONG_PARAMETERS</p></td>
<td><p>0x02</p></td>
<td><p>API service used with wrong parameters.</p></td>
</tr>
<tr class="row-even"><td><p>COMM_E_PARAM_POINTER</p></td>
<td><p>0x03</p></td>
<td><p>API Service used with a null pointer.</p></td>
</tr>
<tr class="row-odd"><td><p>COMM_E_INVALID_PARTITION_CONTEXT</p></td>
<td><p>0x05</p></td>
<td><p>API service used on wrong partitions.</p></td>
</tr>
<tr class="row-even"><td><p>COMM_E_ALREADY_INITIALIZED</p></td>
<td><p>0x06</p></td>
<td><p>Multiple calls to Initialization functions.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="product-errors">
<h4>产品错误(Product Errors)<a class="headerlink" href="#product-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
<section id="runtime-errors">
<h4>运行时错误(Runtime Errors)<a class="headerlink" href="#runtime-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
</section>
</section>
<section id="interface-description">
<h2>接口描述(Interface Description)<a class="headerlink" href="#interface-description" title="Link to this heading">¶</a></h2>
<section id="type-definitions">
<h3>类型定义(Type Definitions)<a class="headerlink" href="#type-definitions" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ComM_InitStatusType</p></td>
<td><p>enum</p></td>
<td><p>Initialization status of ComM</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_StateType</p></td>
<td><p>enum</p></td>
<td><p>State and sub-state of ComM state machine</p></td>
</tr>
<tr class="row-even"><td><p>ComM_PncModeType</p></td>
<td><p>enum</p></td>
<td><p>Current mode of a PNC</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_ConfigType</p></td>
<td><p>struct</p></td>
<td><p>This type contains the implementation-specific post build configuration structure</p></td>
</tr>
<tr class="row-even"><td><p>ComM_InhibitionType</p></td>
<td><p>struct</p></td>
<td><p>Communication inhibition status and counter</p></td>
</tr>
</tbody>
</table>
</section>
<section id="services">
<h3>提供的服务(Services)<a class="headerlink" href="#services" title="Link to this heading">¶</a></h3>
<section id="comm-init">
<h4>ComM_Init<a class="headerlink" href="#comm-init" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Init</span><span class="p">(</span><span class="n">const</span> <span class="n">ComM_ConfigType</span> <span class="o">*</span><span class="n">ConfigPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the AUTOSAR Communication Manager and restarts the internal state machines.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Reentrant for different partitions. Non reentrant for the same partition.)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ConfigPtr</p></td>
<td><p>Pointer to post-build configuration data</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-deinit">
<h4>ComM_DeInit<a class="headerlink" href="#comm-deinit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_DeInit</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This API de-initializes the AUTOSAR Communication Manager.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Reentrant for different partitions. Non reentrant for the same partition.)</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-getstatus">
<h4>ComM_GetStatus<a class="headerlink" href="#comm-getstatus" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_GetStatus</span><span class="p">(</span><span class="n">ComM_InitStatusType</span> <span class="o">*</span><span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the initialization status of the AUTOSAR Communication Manager.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Reentrant for different partitions. Non reentrant for the same partition.)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>Status</p></td>
<td><p>COMM_UNINIT: The ComM is not initialized or not usable. Default value after startup or after</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully return of initialization status</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Return of initialization status failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-getversioninfo">
<h4>ComM_GetVersionInfo<a class="headerlink" href="#comm-getversioninfo" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_GetVersionInfo</span><span class="p">(</span><span class="n">Std_VersionInfoType</span> <span class="o">*</span><span class="n">Versioninfo</span><span class="p">)</span>
</pre></div>
</div>
<p>This function returns the version information of this module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>Versioninfo</p></td>
<td><p>See Std_VersionInfoType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-requestcommode">
<h4>ComM_RequestComMode<a class="headerlink" href="#comm-requestcommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_RequestComMode</span><span class="p">(</span><span class="n">ComM_UserHandleType</span> <span class="n">User</span><span class="p">,</span> <span class="n">ComM_ModeType</span> <span class="n">ComMode</span><span class="p">)</span>
</pre></div>
</div>
<p>Requesting of a Communication Mode by a user.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>User</p></td>
<td><p>Handle of the user who requests a mode</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ComMode</p></td>
<td><p>COMM_FULL_COMMUNICATION COMM_NO_COMMUNICATION</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully changed to the new mode</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Changing to the new mode failed</p></td>
</tr>
<tr class="row-even"><td><p>COMM_E_MODE_LIMITATION</p></td>
<td><p>Mode can not be granted because of mode inhibition.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-getmaxcommode">
<h4>ComM_GetMaxComMode<a class="headerlink" href="#comm-getmaxcommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_GetMaxComMode</span><span class="p">(</span><span class="n">ComM_UserHandleType</span> <span class="n">User</span><span class="p">,</span> <span class="n">ComM_ModeType</span> <span class="o">*</span><span class="n">ComMode</span><span class="p">)</span>
</pre></div>
</div>
<p>Function to query the maximum allowed Communication Mode of the corresponding user.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>User</p></td>
<td><p>Handle of the user who requests a mode</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>ComMode</p></td>
<td><p>See ComM_ModeType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully returned maximum allowed Communication Mode</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Return of maximum allowed Communication Mode failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-getrequestedcommode">
<h4>ComM_GetRequestedComMode<a class="headerlink" href="#comm-getrequestedcommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_GetRequestedComMode</span><span class="p">(</span><span class="n">ComM_UserHandleType</span> <span class="n">User</span><span class="p">,</span> <span class="n">ComM_ModeType</span> <span class="o">*</span><span class="n">ComMode</span><span class="p">)</span>
</pre></div>
</div>
<p>Function to query the currently requested Communication Mode of the corresponding user.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>User</p></td>
<td><p>Handle of the user who requests a mode</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>ComMode</p></td>
<td><p>Name of the requested mode</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully returned requested Communication Mode</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Return of requested Communication Mode failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-getcurrentcommode">
<h4>ComM_GetCurrentComMode<a class="headerlink" href="#comm-getcurrentcommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_GetCurrentComMode</span><span class="p">(</span><span class="n">ComM_UserHandleType</span> <span class="n">User</span><span class="p">,</span> <span class="n">ComM_ModeType</span> <span class="o">*</span><span class="n">ComMode</span><span class="p">)</span>
</pre></div>
</div>
<p>Function to query the current Communication Mode. ComM shall use the corresponding interfaces of the Bus State Managers to get the current Communication Mode of the network.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>User</p></td>
<td><p>Handle of the user who requests a mode</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>ComMode</p></td>
<td><p>See ComM_ModeType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully returned Communication Mode from Bus State Manager</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Return of Communication Mode from Bus State Manager failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-getcurrentpnccommode">
<h4>ComM_GetCurrentPNCComMode<a class="headerlink" href="#comm-getcurrentpnccommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_GetCurrentPNCComMode</span><span class="p">(</span><span class="n">ComM_UserHandleType</span> <span class="n">User</span><span class="p">,</span> <span class="n">ComM_ModeType</span> <span class="o">*</span><span class="n">ComMode</span><span class="p">)</span>
</pre></div>
</div>
<p>The function returns the current Communication Mode of the corresponding PNC the affected user is assigned to.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>User</p></td>
<td><p>Handle of the user who requests a mode</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>ComMode</p></td>
<td><p>See ComM_ModeType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully returned the state of the PNC referenced by the given ComMUser</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Return of the PNC state referenced by the given ComMUser failed</p></td>
</tr>
<tr class="row-even"><td><p>COMM_E_MULTIPLE_PNC_ASSIGNED</p></td>
<td><p>Function could not provide the current mode of the PNC, since multiple PNCs are assigned to the affected user</p></td>
</tr>
<tr class="row-odd"><td><p>COMM_E_NO_PNC_ASSIGNED</p></td>
<td><p>Function could not provide the current mode of the PNC, since no PNC is assigned to the affected user</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-preventwakeup">
<h4>ComM_PreventWakeUp<a class="headerlink" href="#comm-preventwakeup" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_PreventWakeUp</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Changes the inhibition status COMM_NO_WAKEUP for the corresponding channel.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>See NetworkHandleType</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Status</p></td>
<td><p>FALSE: Wake up inhibition is switched off TRUE: Wake up inhibition is switched on</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully changed wake up status for the channel</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Change of wake up status for the channel failed, e.g. ComMEcuGroupClassification disables the functionality (see ECUC_ComM_00563)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-limitchanneltonocommode">
<h4>ComM_LimitChannelToNoComMode<a class="headerlink" href="#comm-limitchanneltonocommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_LimitChannelToNoComMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Changes the inhibition status for the channel for changing from COMM_NO_COMMUNICATION to a higher Communication Mode. (See also ComM_LimitECUToNoComMode, same functionality but for all channels)</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>See NetworkHandleType</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Status</p></td>
<td><p>FALSE: Limit channel to COMM_NO_COMMUNICATION disabled. TRUE: Limit channel to COMM_NO_COMMUNICATION</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully changed inhibition status for the channel</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Change of inhibition status for the channel failed, e.g. ComMEcuGroupClassification disables the functionality (see ECUC_ComM_00563)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-limitecutonocommode">
<h4>ComM_LimitECUToNoComMode<a class="headerlink" href="#comm-limitecutonocommode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_LimitECUToNoComMode</span><span class="p">(</span><span class="n">boolean</span> <span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Changes the inhibition status for the ECU (=all channels) for changing from COMM_NO_COMMUNICATION to a higher Communication Mode. (See also ComM_LimitChannelToNo ComMode, same functionality but for a specific channels)</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Status</p></td>
<td><p>FALSE: Limit ECU to COMM_NO_COMMUNICATION disabled TRUE: Limit ECU to COMM_NO_COMMUNICATION enabled</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully changed inhibition status for the ECU</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Change of inhibition status for the ECU failed, e.g. ComMEcuGroupClassification disables the functionality (see ECUC_ComM_00563)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-getinhibitionstatus">
<h4>ComM_GetInhibitionStatus<a class="headerlink" href="#comm-getinhibitionstatus" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_GetInhibitionStatus</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">ComM_InhibitionStatusType</span> <span class="o">*</span><span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the inhibition status of a ComM channel.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>See NetworkHandleType</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>Status</p></td>
<td><p>See ComM_InhibitionStatusType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully returned Inhibition Status</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Return of Inhibition Status failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-readinhibitcounter">
<h4>ComM_ReadInhibitCounter<a class="headerlink" href="#comm-readinhibitcounter" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_ReadInhibitCounter</span><span class="p">(</span><span class="n">uint16</span> <span class="o">*</span><span class="n">CounterValue</span><span class="p">)</span>
</pre></div>
</div>
<p>This function returns the amount of rejected COMM_FULL_COMMUNICATION user requests.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>CounterValue</p></td>
<td><p>Amount of rejected COMM_FULL_COMMUNICATION user requests</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully returned Inhibition Counter</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Return of Inhibition Counter failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-resetinhibitcounter">
<h4>ComM_ResetInhibitCounter<a class="headerlink" href="#comm-resetinhibitcounter" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_ResetInhibitCounter</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This function resets the Inhibited COMM_FULL_COMMUNICATION request Counter.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully reset of Inhibit COMM_FULL_COMMUNICATION Counter</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Reset of Inhibit COMM_FULL_COMMUNICATION Counter failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-setecugroupclassification">
<h4>ComM_SetECUGroupClassification<a class="headerlink" href="#comm-setecugroupclassification" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">ComM_SetECUGroupClassification</span><span class="p">(</span><span class="n">ComM_InhibitionStatusType</span> <span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Changes the ECU Group Classification status.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Status</p></td>
<td><p>See ComM_InhibitionStatusType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Successfully change the ECU Group Classification Status</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Change of the ECU Group Classification Status failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="comm-bussm-modeindication">
<h4>ComM_BusSM_ModeIndication<a class="headerlink" href="#comm-bussm-modeindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_BusSM_ModeIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">ComM_ModeType</span> <span class="n">ComMode</span><span class="p">)</span>
</pre></div>
</div>
<p>Indication of the actual bus mode by the corresponding Bus State Manager. ComM shall propagate the indicated state to the users with means of the RTE and BswM.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>See NetworkHandleType</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ComMode</p></td>
<td><p>See ComM_ModeType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-communicationallowed">
<h4>ComM_CommunicationAllowed<a class="headerlink" href="#comm-communicationallowed" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_CommunicationAllowed</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">Allowed</span><span class="p">)</span>
</pre></div>
</div>
<p>EcuM or BswM shall indicate to ComM when communication is allowed. If EcuM/Flex is used: BswM.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Allowed</p></td>
<td><p>TRUE: Communication is allowed FALSE: Communication is not allowed</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-dcm-activediagnostic">
<h4>ComM_DCM_ActiveDiagnostic<a class="headerlink" href="#comm-dcm-activediagnostic" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_DCM_ActiveDiagnostic</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel needed for Diagnostic communication</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-dcm-inactivediagnostic">
<h4>ComM_DCM_InactiveDiagnostic<a class="headerlink" href="#comm-dcm-inactivediagnostic" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_DCM_InactiveDiagnostic</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel no longer needed for Diagnostic communication</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-ecum-wakeupindication">
<h4>ComM_EcuM_WakeUpIndication<a class="headerlink" href="#comm-ecum-wakeupindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_EcuM_WakeUpIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification of a wake up on the corresponding channel.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-ecum-pncwakeupindication">
<h4>ComM_EcuM_PNCWakeUpIndication<a class="headerlink" href="#comm-ecum-pncwakeupindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_EcuM_PNCWakeUpIndication</span><span class="p">(</span><span class="n">PNCHandleType</span> <span class="n">Pnc</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification of a wake up on the corresponding partial network cluster.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Pnc</p></td>
<td><p>Identifier of the partial network cluster</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-nm-networkstartindication">
<h4>ComM_Nm_NetworkStartIndication<a class="headerlink" href="#comm-nm-networkstartindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Nm_NetworkStartIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>See NetworkHandleType</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-nm-networkmode">
<h4>ComM_Nm_NetworkMode<a class="headerlink" href="#comm-nm-networkmode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Nm_NetworkMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-nm-preparebussleepmode">
<h4>ComM_Nm_PrepareBusSleepMode<a class="headerlink" href="#comm-nm-preparebussleepmode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Nm_PrepareBusSleepMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (but not for the same NM-Channel)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-nm-bussleepmode">
<h4>ComM_Nm_BusSleepMode<a class="headerlink" href="#comm-nm-bussleepmode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Nm_BusSleepMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-nm-restartindication">
<h4>ComM_Nm_RestartIndication<a class="headerlink" href="#comm-nm-restartindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Nm_RestartIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-nm-updateeira">
<h4>ComM_Nm_UpdateEIRA<a class="headerlink" href="#comm-nm-updateeira" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Nm_UpdateEIRA</span><span class="p">(</span><span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">PncBitVectorPtr</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>PncBitVectorPtr</p></td>
<td><p>Pointer to the PNC bit vector which contain the current aggregated internal and external PNC requests (EIRA)</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="comm-nm-updateera">
<h4>ComM_Nm_UpdateERA<a class="headerlink" href="#comm-nm-updateera" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_Nm_UpdateERA</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">Channel</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">PncBitVectorPtr</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Channel</p></td>
<td><p>Channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PncBitVectorPtr</p></td>
<td><p>PNC bit vector which contain the current external PNC requests (ERA) received on the given channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
<section id="configuration-function">
<h3>配置函数(Configuration Function)<a class="headerlink" href="#configuration-function" title="Link to this heading">¶</a></h3>
<section id="comm-mainfunction">
<h4>ComM_MainFunction<a class="headerlink" href="#comm-mainfunction" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ComM_MainFunction_</span><span class="o">&lt;</span><span class="n">ComMChannel</span><span class="o">.</span><span class="n">ShortName</span><span class="o">&gt;</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This function shall perform the processing of the AUTOSAR ComM activities that are not directly initiated by the calls
e.g. from the RTE. There shall be one dedicated Main Function for each channel of ComM.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
<section id="dependent-services">
<h3>依赖的服务(Dependent Services)<a class="headerlink" href="#dependent-services" title="Link to this heading">¶</a></h3>
<section id="mandatory-interfaces">
<h4>强制接口(Mandatory Interfaces)<a class="headerlink" href="#mandatory-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;Bus&gt;SM_RequestComMode</p></td>
<td><p>&lt;Bus&gt;SM.h</p></td>
<td><p>Function to request a communication mode from the &lt;Bus&gt; State Manager.</p></td>
</tr>
<tr class="row-odd"><td><p>BswM_ComM_CurrentMode</p></td>
<td><p>BswM_ComM.h</p></td>
<td><p>Function called by ComM to indicate the current communication mode of a ComM channel.</p></td>
</tr>
<tr class="row-even"><td><p>Dcm_ComM_FullComModeEntered</p></td>
<td><p>Dcm_ComM.h</p></td>
<td><p>This call informs the Dcm module about a ComM mode change to COMM_FULL_COMMUNICATION.</p></td>
</tr>
<tr class="row-odd"><td><p>Dcm_ComM_NoComModeEntered</p></td>
<td><p>Dcm_ComM.h</p></td>
<td><p>This call informs the Dcm module about a ComM mode change to COMM_NO_COMMUNICATION.</p></td>
</tr>
<tr class="row-even"><td><p>Dcm_ComM_SilentComModeEntered</p></td>
<td><p>Dcm_ComM.h</p></td>
<td><p>This call informs the Dcm module about a ComM mode change to COMM_SILENT_COMMUNICATION.</p></td>
</tr>
<tr class="row-odd"><td><p>Nm_NetworkRelease</p></td>
<td><p>Nm.h</p></td>
<td><p>This function calls the &lt;Bus&gt;Nm_NetworkRelease bus specific function in case NmBusType is not set to NM_BUSNM_LOCALNM (e.g. CanNm_NetworkRelease function is called if channel is configured as CAN).</p></td>
</tr>
<tr class="row-even"><td><p>Nm_NetworkRequest</p></td>
<td><p>Nm.h</p></td>
<td><p>This function calls the &lt;Bus&gt;Nm_NetworkRequest (e.g. CanNm_NetworkRequest function is called if channel is configured as CAN) function in case Nm BusType is not set to NM_BUSNM_LOCALNM.</p></td>
</tr>
<tr class="row-odd"><td><p>Nm_PassiveStartUp</p></td>
<td><p>Nm.h</p></td>
<td><p>This function calls the &lt;Bus&gt;Nm_PassiveStartUp function in case NmBusType is not set to NM_BUSNM_LOCALNM (e.g. CanNm_PassiveStartUp function is called for NM_BUSNM_CANNM)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="optional-interfaces">
<h4>可选接口(Optional Interfaces)<a class="headerlink" href="#optional-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BswM_ComM_CurrentPNCMode</p></td>
<td><p>BswM_ComM.h</p></td>
<td><p>Function is called by ComM to indicate the current mode of the PNC.</p></td>
</tr>
<tr class="row-odd"><td><p>BswM_ComM_InitiateReset</p></td>
<td><p>BswM_ComM.h</p></td>
<td><p>Function is called by ComM to signal a shutdown.</p></td>
</tr>
<tr class="row-even"><td><p>Det_ReportError</p></td>
<td><p>Det.h</p></td>
<td><p>Service to report development errors.</p></td>
</tr>
<tr class="row-odd"><td><p>Nm_UpdateIRA</p></td>
<td><p>Nm.h</p></td>
<td><p>Tndication by ComM of internal PNC requests. This is used to aggregate the internal PNC requests.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-interfaces">
<h4>配置接口(Configuration Interfaces)<a class="headerlink" href="#configuration-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SchM_Enter_ComM_Global</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area Global.</p></td>
</tr>
<tr class="row-odd"><td><p>SchM_Exit_ComM_Global</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area Global.</p></td>
</tr>
<tr class="row-even"><td><p>SchM_Enter_ComM_Pnc</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area Pnc.</p></td>
</tr>
<tr class="row-odd"><td><p>SchM_Exit_ComM_Pnc</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area Pnc.</p></td>
</tr>
<tr class="row-even"><td><p>SchM_Enter_ComM_UM</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area UM.</p></td>
</tr>
<tr class="row-odd"><td><p>SchM_Exit_ComM_UM</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area UM.</p></td>
</tr>
<tr class="row-even"><td><p>SchM_Enter_ComM_CommunicationInhibition</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area CommunicationInhibition.</p></td>
</tr>
<tr class="row-odd"><td><p>SchM_Exit_ComM_CommunicationInhibition</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area CommunicationInhibition.</p></td>
</tr>
<tr class="row-even"><td><p>SchM_Enter_ComM_Channel</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area Channel.</p></td>
</tr>
<tr class="row-odd"><td><p>SchM_Exit_ComM_Channel</p></td>
<td><p>SchM_ComM.h</p></td>
<td><p>Enter exclusive area Channel.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="configuration">
<h2>配置(Configuration)<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<section id="nvm-configuration-dependency-on-nvm-in-the-communication-suppression-function">
<h3>通信抑制功能中对 NvM 的配置依赖(Configuration dependency on NvM in the communication suppression function)<a class="headerlink" href="#nvm-configuration-dependency-on-nvm-in-the-communication-suppression-function" title="Link to this heading">¶</a></h3>
<p>如果要启用 NvM 存储功能， <strong>ComMGlobalNvMBlockDescriptor</strong> 必须被配置，反之亦然。ComM 不会主动读写 NVRAM block，相关工作需要在工程集成
时完成。</p>
<p>To enable the NvM storage function, <strong>ComMGlobalNvMBlockDescriptor</strong> must be configured, and vice versa. ComM does not actively read from or write to NVRAM blocks; the related tasks must be completed during project integration.</p>
<figure class="align-center" id="commglobalnvmblockdescriptor">
<img alt="../../../_images/ComMGlobalNvMBlockDescriptor.png" src="../../../_images/ComMGlobalNvMBlockDescriptor.png" />
<figcaption>
<p><span class="caption-text">ComMGlobalNvMBlockDescriptor</span><a class="headerlink" href="#commglobalnvmblockdescriptor" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>ComM 提供 <strong>ComM_InhibitionData</strong> 和 <strong>ComM_InhibitionDefault</strong> 用于 <strong>NvMRamBlockDataAddress</strong> 和 <strong>NvMRomBlockDataAddress</strong> 的配置。
<strong>NvMBlockHeaderInclude</strong> 需要配置为 “ComM.h”。</p>
<p>ComM provides <strong>ComM_InhibitionData</strong> and <strong>ComM_InhibitionDefault</strong> for configuring <strong>NvMRamBlockDataAddress</strong> and <strong>NvMRomBlockDataAddress</strong>.
<strong>NvMBlockHeaderInclude</strong> must be configured as “ComM.h”.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>在 ComM_Init() 被调用之前， <cite>ComMGlobalNvMBlockDescriptor</cite> 对应的 NVRAM block 必须被读取完成。</p>
<p>The NVRAM block corresponding to <cite>ComMGlobalNvMBlockDescriptor</cite> must be fully read before ComM_Init() is called.</p>
<p>在 ComM_Deinit() 被调用之后，对应的 NVRAM block 需要被存储。</p>
<p>The corresponding NVRAM block needs to be stored after ComM_Deinit() is called.</p>
</div>
<p>NVRAM block 的大小根据结构类型 <strong>ComM_InhibitionType</strong> 计算得出，成员布局如下：</p>
<p>The size of the NVRAM block is calculated based on the structure type <strong>ComM_InhibitionType</strong>, with the member layout as follows:</p>
<ul class="simple">
<li><p>ComM_InhibitionStatusType::EcuGroupClassification 1Byte</p></li>
<li><p>uint16 InhibitCounter 2Byte</p></li>
<li><p>ComM_InhibitionStatusType::InhibitionStatus[] COMM_CHANNEL_NUMBER * 1Byte</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>计算结构体大小时要考虑结构体对齐，结构体大小和配置的通道数目有关。</p>
<p>Structure alignment must be considered when calculating the structure size. The structure size depends on the number of configured channels.</p>
</div>
</section>
<section id="multi-partition-deployment">
<h3>多分区部署 Multi-partition(Deployment)<a class="headerlink" href="#multi-partition-deployment" title="Link to this heading">¶</a></h3>
<p>配置项 <strong>ComMEcucPartitionRef</strong> 决定了 ComM 的 API 能够在哪些分区上使用，在单分区系统上不需要配置该参数。</p>
<p>The configuration item <strong>ComMEcucPartitionRef</strong> determines on which partitions the ComM API can be used. This parameter does not need to be configured in single-partition systems.</p>
<p>ComM 支持将通道和 User 分配到不同的分区，通过配置项 <strong>ComMChannelPartitionRef</strong> 和 <strong>ComMUserEcucPartitionRef</strong> 来实现。在多分区
系统中，所有通道和 User 都必须分配到特定分区。</p>
<p>ComM supports assigning channels and Users to different partitions through the configuration items <strong>ComMChannelPartitionRef</strong> and <strong>ComMUserEcucPartitionRef</strong>. In multi-partition systems, all channels and Users must be assigned to specific partitions.</p>
<figure class="align-center" id="commchannelpartitionref">
<img alt="../../../_images/ComMChannelPartitionRef.png" src="../../../_images/ComMChannelPartitionRef.png" />
<figcaption>
<p><span class="caption-text">ComMChannelPartitionRef</span><a class="headerlink" href="#commchannelpartitionref" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="commuserecucpartitionref">
<img alt="../../../_images/ComMUserEcucPartitionRef.png" src="../../../_images/ComMUserEcucPartitionRef.png" />
<figcaption>
<p><span class="caption-text">ComMUserEcucPartitionRef</span><a class="headerlink" href="#commuserecucpartitionref" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>ComM_Init() 和 ComM_Deinit() 需要为每一个 <strong>ComMEcucPartitionRef</strong> 中配置的分区调用。</p>
<p>ComM_Init() and ComM_Deinit() must be called for each partition configured in <strong>ComMEcucPartitionRef</strong>.</p>
</div>
<p>与特定通道有关的 API 仅能在通道被分配的分区上使用：</p>
<p>APIs related to specific channels can only be used in the partitions to which those channels are assigned:</p>
<ul class="simple">
<li><p>ComM_PreventWakeUp</p></li>
<li><p>ComM_LimitChannelToNoComMode</p></li>
<li><p>ComM_GetInhibitionStatus</p></li>
<li><p>ComM_Nm_NetworkStartIndication</p></li>
<li><p>ComM_Nm_NetworkMode</p></li>
<li><p>ComM_Nm_PrepareBusSleepMode</p></li>
<li><p>ComM_Nm_BusSleepMode</p></li>
<li><p>ComM_Nm_RestartIndication</p></li>
<li><p>ComM_Nm_UpdateERA</p></li>
<li><p>ComM_DCM_ActiveDiagnostic</p></li>
<li><p>ComM_DCM_InactiveDiagnostic</p></li>
<li><p>ComM_EcuM_WakeUpIndication</p></li>
<li><p>ComM_CommunicationAllowed</p></li>
<li><p>ComM_BusSM_ModeIndication</p></li>
</ul>
<p>与特定 User 有关的 API 仅能在 User 被分配的分区上使用：</p>
<p>APIs related to specific Users can only be used in the partitions to which those Users are assigned:</p>
<ul class="simple">
<li><p>ComM_RequestComMode</p></li>
<li><p>ComM_GetMaxComMode</p></li>
<li><p>ComM_GetRequestedComMode</p></li>
<li><p>ComM_GetCurrentComMode</p></li>
<li><p>ComM_GetCurrentPNCComMode</p></li>
</ul>
<p>其余 API 仅能在 <strong>ComMEcucPartitionRef</strong> 中配置的分区中使用。</p>
<p>The remaining APIs can only be used in the partitions configured in <strong>ComMEcucPartitionRef</strong>.</p>
</section>
<section id="critical-section">
<h3>临界区(Critical Section)<a class="headerlink" href="#critical-section" title="Link to this heading">¶</a></h3>
<p>ComM 使用的临界区如下，推荐的配置如下，这一部分在 Rte 模块中配置。</p>
<p>The critical sections used by ComM and their recommended configurations are listed below. This configuration is done in the Rte module.</p>
<blockquote>
<div><ul>
<li><p>ComM_Global</p>
<ul>
<li><p>多核场景使用 <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code> for multi-core scenarios</p>
</li>
<li><p>单核多分区场景使用 <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code> for single-core multi-partition scenarios</p>
</li>
<li><p>其他场景使用 <code class="docutils literal notranslate"><span class="pre">NONE</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">NONE</span></code> for other scenarios</p>
</li>
</ul>
</li>
<li><p>Pnc，如果不使用 Pnc 功能，配置为 <code class="docutils literal notranslate"><span class="pre">NONE</span></code>，否则</p>
<p>Pnc: Configure as <code class="docutils literal notranslate"><span class="pre">NONE</span></code> if Pnc functionality is not used; otherwise:</p>
<ul>
<li><p>多核场景使用 <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code> for multi-core scenarios</p>
</li>
<li><p>单核场景使用 <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code> for single-core scenarios</p>
</li>
</ul>
</li>
<li><p>UM，如果不使用模式切换接口 ComM_CurrentMode，配置为 <code class="docutils literal notranslate"><span class="pre">NONE</span></code>，否则</p>
<p>UM: Configure as <code class="docutils literal notranslate"><span class="pre">NONE</span></code> if the mode switching interface ComM_CurrentMode is not used; otherwise:</p>
<ul>
<li><p>多核场景使用 <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code> for multi-core scenarios</p>
</li>
<li><p>单核场景使用 <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code> for single-core scenarios</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>CommunicationInhibition，如果不使用通信抑制功能，配置为 <code class="docutils literal notranslate"><span class="pre">NONE</span></code>，否则</p>
<p>CommunicationInhibition: Configure as <code class="docutils literal notranslate"><span class="pre">NONE</span></code> if the communication inhibition function is not used; otherwise:</p>
<ul>
<li><p>多核场景使用 <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">OS_SPINLOCK</span></code> for multi-core scenarios</p>
</li>
<li><p>单核场景使用 <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code> for single-core scenarios</p>
</li>
</ul>
</li>
<li><p>Channel，配置为 <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code></p>
<p>Channel: Configure as <code class="docutils literal notranslate"><span class="pre">ALL_INTERRUPT_BLOCKING</span></code></p>
</li>
</ul>
</div></blockquote>
</section>
<section id="rte-comm-types-h-generation-of-rte-comm-types-h-file">
<h3>Rte_ComM_Types.h文件生成 Generation of Rte_ComM_Types.h file<a class="headerlink" href="#rte-comm-types-h-generation-of-rte-comm-types-h-file" title="Link to this heading">¶</a></h3>
<p>请参考《普华基础软件_参考手册_ORIENTAIS Configurator_V2_使用指南.pdf》的3.6.3章节服务封装使用步骤内容。</p>
<p>Please refer to Section 3.6.3 “Service Encapsulation Usage Steps” in the document <em>“ORIENTAIS_Configurator_V2.2_User_Manual.pdf”</em>.</p>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../Com/Com.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>Com
    </a>
    <a class="float-right" href="../Crc/Crc.html" title="Next">
        Crc <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">ComM</a><ul>
<li><a class="reference internal" href="#document-information">文档信息(Document Information)</a><ul>
<li><a class="reference internal" href="#version-history">版本历史(Version History)</a></li>
<li><a class="reference internal" href="#references">参考文档(References)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terms-and-abbreviations">术语与简写(Terms and Abbreviations)</a><ul>
<li><a class="reference internal" href="#terms">术语(Terms)</a></li>
<li><a class="reference internal" href="#abbreviations">简写(Abbreviations)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">简介(Introduction)</a></li>
<li><a class="reference internal" href="#functional-description">功能描述(Functional Description)</a><ul>
<li><a class="reference internal" href="#features">特性(Features)</a><ul>
<li><a class="reference internal" href="#channel-pnc-channel-and-pnc-status-management-function">Channel 与 PNC 状态管理功能(Channel and PNC Status Management Function)</a><ul>
<li><a class="reference internal" href="#channel-channel-state-machine">Channel 状态机(Channel State Machine)</a></li>
<li><a class="reference internal" href="#pnc-pnc-state-machine">PNC 状态机(PNC state machine)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#communication-suppression">通信抑制(Communication suppression)</a></li>
<li><a class="reference internal" href="#managed-managing-managed-channel-and-managing-channel">managed 通道与 managing 通道(Managed channel and managing channel)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deviation">偏差(Deviation)</a></li>
<li><a class="reference internal" href="#extension">扩展(Extension)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration">集成(Integration)</a><ul>
<li><a class="reference internal" href="#file-list">文件列表(File List)</a><ul>
<li><a class="reference internal" href="#static-files">静态文件(Static Files)</a></li>
<li><a class="reference internal" href="#dynamic-files">动态文件(Dynamic Files)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">错误处理(Error Handling)</a><ul>
<li><a class="reference internal" href="#development-errors">开发错误(Development Errors)</a></li>
<li><a class="reference internal" href="#product-errors">产品错误(Product Errors)</a></li>
<li><a class="reference internal" href="#runtime-errors">运行时错误(Runtime Errors)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interface-description">接口描述(Interface Description)</a><ul>
<li><a class="reference internal" href="#type-definitions">类型定义(Type Definitions)</a></li>
<li><a class="reference internal" href="#services">提供的服务(Services)</a><ul>
<li><a class="reference internal" href="#comm-init">ComM_Init</a></li>
<li><a class="reference internal" href="#comm-deinit">ComM_DeInit</a></li>
<li><a class="reference internal" href="#comm-getstatus">ComM_GetStatus</a></li>
<li><a class="reference internal" href="#comm-getversioninfo">ComM_GetVersionInfo</a></li>
<li><a class="reference internal" href="#comm-requestcommode">ComM_RequestComMode</a></li>
<li><a class="reference internal" href="#comm-getmaxcommode">ComM_GetMaxComMode</a></li>
<li><a class="reference internal" href="#comm-getrequestedcommode">ComM_GetRequestedComMode</a></li>
<li><a class="reference internal" href="#comm-getcurrentcommode">ComM_GetCurrentComMode</a></li>
<li><a class="reference internal" href="#comm-getcurrentpnccommode">ComM_GetCurrentPNCComMode</a></li>
<li><a class="reference internal" href="#comm-preventwakeup">ComM_PreventWakeUp</a></li>
<li><a class="reference internal" href="#comm-limitchanneltonocommode">ComM_LimitChannelToNoComMode</a></li>
<li><a class="reference internal" href="#comm-limitecutonocommode">ComM_LimitECUToNoComMode</a></li>
<li><a class="reference internal" href="#comm-getinhibitionstatus">ComM_GetInhibitionStatus</a></li>
<li><a class="reference internal" href="#comm-readinhibitcounter">ComM_ReadInhibitCounter</a></li>
<li><a class="reference internal" href="#comm-resetinhibitcounter">ComM_ResetInhibitCounter</a></li>
<li><a class="reference internal" href="#comm-setecugroupclassification">ComM_SetECUGroupClassification</a></li>
<li><a class="reference internal" href="#comm-bussm-modeindication">ComM_BusSM_ModeIndication</a></li>
<li><a class="reference internal" href="#comm-communicationallowed">ComM_CommunicationAllowed</a></li>
<li><a class="reference internal" href="#comm-dcm-activediagnostic">ComM_DCM_ActiveDiagnostic</a></li>
<li><a class="reference internal" href="#comm-dcm-inactivediagnostic">ComM_DCM_InactiveDiagnostic</a></li>
<li><a class="reference internal" href="#comm-ecum-wakeupindication">ComM_EcuM_WakeUpIndication</a></li>
<li><a class="reference internal" href="#comm-ecum-pncwakeupindication">ComM_EcuM_PNCWakeUpIndication</a></li>
<li><a class="reference internal" href="#comm-nm-networkstartindication">ComM_Nm_NetworkStartIndication</a></li>
<li><a class="reference internal" href="#comm-nm-networkmode">ComM_Nm_NetworkMode</a></li>
<li><a class="reference internal" href="#comm-nm-preparebussleepmode">ComM_Nm_PrepareBusSleepMode</a></li>
<li><a class="reference internal" href="#comm-nm-bussleepmode">ComM_Nm_BusSleepMode</a></li>
<li><a class="reference internal" href="#comm-nm-restartindication">ComM_Nm_RestartIndication</a></li>
<li><a class="reference internal" href="#comm-nm-updateeira">ComM_Nm_UpdateEIRA</a></li>
<li><a class="reference internal" href="#comm-nm-updateera">ComM_Nm_UpdateERA</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-function">配置函数(Configuration Function)</a><ul>
<li><a class="reference internal" href="#comm-mainfunction">ComM_MainFunction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dependent-services">依赖的服务(Dependent Services)</a><ul>
<li><a class="reference internal" href="#mandatory-interfaces">强制接口(Mandatory Interfaces)</a></li>
<li><a class="reference internal" href="#optional-interfaces">可选接口(Optional Interfaces)</a></li>
<li><a class="reference internal" href="#configuration-interfaces">配置接口(Configuration Interfaces)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">配置(Configuration)</a><ul>
<li><a class="reference internal" href="#nvm-configuration-dependency-on-nvm-in-the-communication-suppression-function">通信抑制功能中对 NvM 的配置依赖(Configuration dependency on NvM in the communication suppression function)</a></li>
<li><a class="reference internal" href="#multi-partition-deployment">多分区部署 Multi-partition(Deployment)</a></li>
<li><a class="reference internal" href="#critical-section">临界区(Critical Section)</a></li>
<li><a class="reference internal" href="#rte-comm-types-h-generation-of-rte-comm-types-h-file">Rte_ComM_Types.h文件生成 Generation of Rte_ComM_Types.h file</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
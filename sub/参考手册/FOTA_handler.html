

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FOTA_handler产品参考手册 &mdash; EasyXMen_docs 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="IoHwAb产品参考手册" href="IoHwAb.html" />
    <link rel="prev" title="FiM产品参考手册" href="FiM.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            EasyXMen_docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BswM.html">BswM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanIf.html">CanIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanNm.html">CanNm产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanSM.html">CanSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTp.html">CanTp产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTrcv.html">CanTrcv产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CanTSyn.html">CanTSyn产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Com.html">Com产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComM.html">ComM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="ComXf.html">ComXf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRC.html">CRC产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CryIf.html">CryIf 产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crypto.html">Crypto驱动产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="CSM.html">CSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="DCM.html">DCM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dem.html">Dem产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Det.html">DET产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dlt.html">DLT产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="DoIP.html">DoIP产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EL.html">E2EL产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2EXf.html">E2EXf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ea.html">EA产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuC.html">EcuC产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EcuM.html">EcuM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthIf.html">EthIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSM.html">EthSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthSwt.html">EthSwt产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTrcv.html">EthTrcv产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="EthTSyn.html">EthTSyn产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fee.html">Fee产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="FiM.html">FiM产品参考手册</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FOTA_handler产品参考手册</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">简介</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">参考资料</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id3">功能描述</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">信息存储与恢复功能</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">信息存储与恢复功能介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">信息存储与恢复功能实现</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">数据下载功能</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8">数据下载功能介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">数据下载功能实现</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id10">断点续传功能</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id11">断点续传功能介绍</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">功能实现</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id13">源文件描述</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api">API接口</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">类型定义</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-writememoryrangetype">CDD_FOTA_WriteMemoryRangeType类型定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-statustype">CDD_FOTA_StatusType类型定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-memoryinfotype">CDD_FOTA_MemoryInfoType类型定义</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id15">输入函数描述</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">静态接口函数定义</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-preinit">CDD_FOTA_PreInit函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-init">CDD_FOTA_Init函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-getfotastatus">CDD_FOTA_GetFOTAStatus函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-getappversion">CDD_FOTA_GetAppVersion函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-setappversion">CDD_FOTA_SetAppVersion函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-getfotaprocessedinfo">CDD_FOTA_GetFOTAProcessedInfo函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-getfotabreakpointinfo">CDD_FOTA_GetFOTAbreakpointInfo函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-processdownload">CDD_FOTA_Processdownload函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-stopprotocol">CDD_FOTA_StopProtocol函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-cancelinstall">CDD_FOTA_CancelInstall函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-processtransferdatawrite">CDD_FOTA_ProcessTransferDataWrite函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-erase">CDD_FOTA_Erase函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-processexit">CDD_FOTA_ProcessExit函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-setfotaactivate">CDD_FOTA_SetFOTAActivate函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-setfotarollback">CDD_FOTA_SetFOTARollback函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-verification">CDD_FOTA_Verification函数定义</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cdd-fota-mainfunction">CDD_FOTA_MainFunction函数定义</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id17">可配置函数定义</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id18">配置</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fotageneral">FOTAGeneral</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fotaconfigset">FOTAConfigSet</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fotawritememoryappa">FOTAWriteMemoryAppA</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fotawritememoryappb">FOTAWriteMemoryAppB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fotabreakpoint">FOTABreakpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fotawritememorysbl">FOTAWriteMemorySBL</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="IoHwAb.html">IoHwAb产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="IpduM.html">IpduM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeyM.html">KeyM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="LdCom.html">LdCom产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinIf.html">LinIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinSM.html">LinSM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="MemIf.html">MemIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="NmIf.html">NmIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="NvM.html">NvM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="OS.html">OS模块参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="PduR.html">PduR产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sd.html">Sd产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SecOC.html">SecOC产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SoAd.html">SoAd产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpTp.html">SomeIpTp产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="SomeIpXf.html">SomeIpXf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="StbM.html">StbM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="TcpIp.html">TcpIp产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tm.html">Tm产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="UdpNm.html">UdpNm产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgIf.html">WdgIf产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="WdgM.html">WdgM产品参考手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="XCP.html">XCP产品参考手册</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OS.html">OS_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OS_%E6%B7%BB%E5%8A%A0%E8%AE%A2%E9%98%85.html">OS添加订阅</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG_集成手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP_集成手册</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/%E5%B0%8F%E6%BB%A1S32K148%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E.html">小满S32K148示例工程说明</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EasyXMen_docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">FOTA_handler产品参考手册</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/sub/参考手册/FOTA_handler.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fota-handler">
<h1>FOTA_handler产品参考手册<a class="headerlink" href="#fota-handler" title="Link to this heading"></a></h1>
<p><strong>缩写词注解</strong></p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>**
缩写
词**</p></td>
<td><p><strong>英文全名</strong></p></td>
<td><p>**
解释/描述**</p></td>
</tr>
<tr class="row-even"><td><p>ECU</p></td>
<td><p>Electronic control unit</p></td>
<td><p>电控单元</p></td>
</tr>
<tr class="row-odd"><td><p>DCM</p></td>
<td><p>Diagnostic Communication Manager (AUTOSAR BSW
Module, Classic Platform) (Surprisingly not
yet listed!)</p></td>
<td><p>诊断通
信管理模块</p></td>
</tr>
<tr class="row-even"><td><p>FOTA</p></td>
<td><p>Firmware Over-The-Air</p></td>
<td><p>固
件无线升级</p></td>
</tr>
<tr class="row-odd"><td><p>NvM</p></td>
<td><p>Non-Volatile Memory, BSW Module, sometimes
referred to as NV Memory (Surprisingly not yet
listed!)</p></td>
<td><p>非
易失数据存
储管理模块</p></td>
</tr>
<tr class="row-even"><td><p>OTA</p></td>
<td><p>Over-The-Air technologies in general,
regardless of AUTOSAR</p></td>
<td><p>空
中下载技术</p></td>
</tr>
<tr class="row-odd"><td><p>SW</p></td>
<td><p>Soft ware</p></td>
<td><p>软件</p></td>
</tr>
<tr class="row-even"><td><p>CDD</p></td>
<td><p>Complex Driver</p></td>
<td><p>复杂驱动</p></td>
</tr>
<tr class="row-odd"><td><p>FOTA
Ma
ster</p></td>
<td><p>Firmware Over-The-Air of Master</p></td>
<td><p>固件无线升
级的客户端</p></td>
</tr>
<tr class="row-even"><td><p>Nv</p></td>
<td><p>Non-Volatile Memory</p></td>
<td><p>非易失存储</p></td>
</tr>
</tbody>
</table>
<section id="id1">
<h2>简介<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>FOTA方法将引入一个通用的机制来在运行时更新ECU软件。当当前的ECU软件已经执行并且从功能角度(例如在驱动过程中)完全可用时，新的ECU软件应该在后台(安装阶段)进行编程。在安装时，可以中断和继续在几个驱动周期，新的SW的真实性和完整性应得到验证。如果验证结果为真，ECU将能够激活新的SW。SW的激活总是需要一个特殊的ECU模式(例如启动)，因此新SW的激活不能在开车时启动，甚至不能在开车时执行。启动应在车辆安全状态下进行，如停止、关闭发动机和使用驻车制动。如果在新SW激活后或激活期间发现异常或错误，ECU应该能够实现ECU内部回滚到以前的SW。ECU内部回滚意味着，以前的SW仍然存在于ECU上，可以重新激活。</p>
<p><a class="reference internal" href="../../_images/image1103.png"><img alt="image1" src="../../_images/image1103.png" style="width: 5.71944in; height: 2.87986in;" /></a></p>
<p>图1-1 FOTA_handler架构布局</p>
<p>如上图所示，FOTA_handler是处于DCM模块和存储栈之间的一个CDD模块，FOTA
Handler被DCM模块所调用，DCM模块将接收到的数据流传递给FOTA
Handler，然后FOTA
Handler经过相应的处理之后将数据传递给flash驱动，并写入到flash中。在写入的过程中会产生一些需要NvM模块存储的用户数据，FOTA
Handler通过调用NvM模块的接口来存储和恢复相应的数据，这些数据也会被DCM模块所获取反馈给FOTA
Master，FOTA Master通过数据发送相应的指令或数据给DCM模块。</p>
<section id="id2">
<h3>参考资料<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>[1] AUTOSAR_EXP_FirmwareOverTheAir.pdf,R19-11</p>
<p>[2] AUTOSAR_RS_FirmwareOverTheAir.pdf,R19-11</p>
<p>[3] AUTOSAR_EXP_CDDDesignAndIntegrationGuideline.pdf,4.2.2</p>
<p>[4] AUTOSAR_SWS_DiagnosticEventManager.pdf,4.2.2</p>
<p>[5] AUTOSAR_SWS_NVRAMManager.pdf,R19-11</p>
<ul class="simple">
<li></li>
<li></li>
</ul>
</section>
</section>
<section id="id3">
<h2>功能描述<a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<section id="id4">
<h3>信息存储与恢复功能<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<section id="id5">
<h4>信息存储与恢复功能介绍<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<p>FOTA模块在完成一次数据安装后，会通过NvM模块将更新后的相关地址信息等存储到Nv数据块中。在ECU启动阶段，当NvM模块readall完成之后，通过调用FOTA模块的预初始化函数，将上一个电源周期存储的相关地址信息恢复到FOTA模块，以便FOTA
Master继续进行相应的数据传输与安装。</p>
</section>
<section id="id6">
<h4>信息存储与恢复功能实现<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<p>FOTA模块在NvM模块readall完成之后被调用预初始化函数。在NvM模块数据正确情况下恢复以前存储的地址信息，在NvM模块数据不正确情况下重新初始化相应的地址信息。在FOTA进行预初始化的时候，需要通过NVM的Nvm_GetErrorStatus接口获取相关block的状态信息，当读取成功时（状态为NVM_REQ_OK），恢复读取到的数据，读取不成功时（状态不为NVM_REQ_OK），使用默认值进行初始化。在FOTA状态进行更新时，需要及时更新存储的数据，通知NVM进行写操作。当FOTA需要进行存储的时候，调用Nvm_WriteBlock接口进行存储。</p>
</section>
</section>
<section id="id7">
<h3>数据下载功能<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<section id="id8">
<h4>数据下载功能介绍<a class="headerlink" href="#id8" title="Link to this heading"></a></h4>
<p>数据下载是指新的ECU软件从FOTA主ECU转移到FOTA目标ECU。由于一次性将整个ECU软件完全转移到FOTA目标ECU是不方便的，所以这个过程是使用数据块来实现的。这意味着安装过程甚至可以在几个驱动周期内处于活动状态。当没有更多的数据块需要传输到FOTA目标ECU，并且所有数据块都被成功地写入到内存堆栈时，安装过程就完成了。此外，安装过程还包括由FOTA目标ECU中的程序flash驱动程序将软件实际写入到不活动的目标分区。</p>
</section>
<section id="id9">
<h4>数据下载功能实现<a class="headerlink" href="#id9" title="Link to this heading"></a></h4>
<p>FOTA在进行预初始化后，会进入到IDLE状态，然后通过FOTA
Master的控制进行初始化后会进入到INIT状态，当FOTA
Master进行下载请求后进入到WAIT状态。在WAIT状态下，FOTA
Master进行数据下载是进入到PROCESSING状态，处理完成后回到WAIT状态，当FOTA
Master请求退出下载时回到IDLE状态，当所有数据下载完成后会进入到READY状态。在READY状态下，可以选择进行校验（进入VERIFY状态,校验完成后会进入激活状态）或者进行激活，进入到ACTIVATE状态。此外FOTA还有一个ERROR状态，在任何时候都可能进入，进入ERROR状态后需要进行ROLLBACK。</p>
</section>
</section>
<section id="id10">
<h3>断点续传功能<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
<section id="id11">
<h4>断点续传功能介绍<a class="headerlink" href="#id11" title="Link to this heading"></a></h4>
<p>由于在整个下载过程中可能会存在多次中断，需要重新下载，并擦除一定的flash进行后续的写，所以提供断点的获取，包括默认断点和自定义配置断点两种。</p>
</section>
<section id="id12">
<h4>功能实现<a class="headerlink" href="#id12" title="Link to this heading"></a></h4>
<p>默认断点是将刷的的block的起始地址进行反馈，自定义断点则是根据刷写的实际位置进行检索，找到最匹配的自定义断点进行反馈。</p>
</section>
</section>
</section>
<section id="id13">
<h2>源文件描述<a class="headerlink" href="#id13" title="Link to this heading"></a></h2>
<p>表3-1 FiM组件文件描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>文件</strong></p></td>
<td><p><strong>说明</strong></p></td>
</tr>
<tr class="row-even"><td><p>CDD_FOTA_Cfg.h</p></td>
<td><p>定义FOTA模块预编译时用到的配置参数。</p></td>
</tr>
<tr class="row-odd"><td><p>CDD_FOTA_Cfg.c</p></td>
<td><p>定义FOTA模块配置相关的配置参数。</p></td>
</tr>
<tr class="row-even"><td><p>CDD_FOTA_CallOut.c</p></td>
<td><p>定义FOTA模块callout函数。</p></td>
</tr>
<tr class="row-odd"><td><p>CDD_FOTA.h</p></td>
<td><p>FOTA模块头文件，包
含了API函数的扩展声明并定义了端口的数据结构。</p></td>
</tr>
<tr class="row-even"><td><p>CDD_FOTA .c</p></td>
<td><p>FOTA模块源文件，包含了API函数的实现。</p></td>
</tr>
<tr class="row-odd"><td><p>CDD_FOTA _MemMap.h</p></td>
<td><p>包含FOTA模块的内存抽象。</p></td>
</tr>
<tr class="row-even"><td><p>CDD_FOTA _Types.h</p></td>
<td><p>包含FOTA模块需要使用的类型定义。</p></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image250.png"><img alt="image2" src="../../_images/image250.png" style="width: 5.76736in; height: 4.45833in;" /></a></p>
<p>图3-1 FOTA组件文件交互关系图</p>
</section>
<section id="api">
<h2>API接口<a class="headerlink" href="#api" title="Link to this heading"></a></h2>
<section id="id14">
<h3>类型定义<a class="headerlink" href="#id14" title="Link to this heading"></a></h3>
<section id="cdd-fota-writememoryrangetype">
<h4>CDD_FOTA_WriteMemoryRangeType类型定义<a class="headerlink" href="#cdd-fota-writememoryrangetype" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>CDD_FOTA_WriteMemoryRangeType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint32 WriteMemoryRangeLow;</p>
<p>uint32 WriteMemoryRangeHigh;</p>
<p>uint32 length;</p>
<p>boolean UncompressEnable;</p>
</td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>数据下载地址范围</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-statustype">
<h4>CDD_FOTA_StatusType类型定义<a class="headerlink" href="#cdd-fota-statustype" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>CDD_FOTA_StatusType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>CDD_FOTA_IDLE
/CDD_FOTA_INIT/CDD_FOTA_WAIT/CDD_FOTA_PROCESSING/CDD_FOT
A_READY/CDD_FOTA_VERIFY/CDD_FOTA_ACTIVATE/CDD_FOTA_ERROR</p></td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>FOTA状态</p></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-memoryinfotype">
<h4>CDD_FOTA_MemoryInfoType类型定义<a class="headerlink" href="#cdd-fota-memoryinfotype" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>名称</p></td>
<td><p>CDD_FOTA_MemoryInfoType</p></td>
</tr>
<tr class="row-even"><td><p>类型</p></td>
<td><p>uint32 MemoryAddress;</p>
<p>uint32 MemorySize;</p>
<p>P2CONST(uint8, AUTOMATIC, CDD_FOTA_VAR) MemoryData;</p>
</td>
</tr>
<tr class="row-odd"><td><p>范围</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td><p>描述</p></td>
<td><p>与DCM交互的参数合集</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id15">
<h3>输入函数描述<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>输入模块</strong></p></td>
<td><p><strong>API</strong></p></td>
</tr>
<tr class="row-even"><td><p>NVM</p></td>
<td><p>NvM_GetErrorStatus</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>NvM_WriteBlock</p></td>
</tr>
<tr class="row-even"><td><p>DET</p></td>
<td><p>Det_ReportError</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id16">
<h3>静态接口函数定义<a class="headerlink" href="#id16" title="Link to this heading"></a></h3>
<section id="cdd-fota-preinit">
<h4>CDD_FOTA_PreInit函数定义<a class="headerlink" href="#cdd-fota-preinit" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOTA_PreInit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void, CDD_FOTA_CODE)
CDD_FOTA_PreInit(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x00</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值
域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>FOTA模块预初始化</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-init">
<h4>CDD_FOTA_Init函数定义<a class="headerlink" href="#cdd-fota-init" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOTA_Init</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)</p>
<p>CDD_FO
TA_Init(P2VAR(CDD
_FOTA_StatusType,
AUTOMATIC,
CDD_FOTA_VAR)
FOTAStatus)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x01</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>FOTAStatus</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>初始化FOTA</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-getfotastatus">
<h4>CDD_FOTA_GetFOTAStatus函数定义<a class="headerlink" href="#cdd-fota-getfotastatus" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_F
OTA_GetFOTAStatus</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
CDD_FOTA_GetFOT
AStatus(P2VAR(CDD
_FOTA_StatusType,
AUTOMATIC,
CDD_FOTA_VAR)
FOTAStatus)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x02</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>FOTAStatus</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取FOTA状态</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-getappversion">
<h4>CDD_FOTA_GetAppVersion函数定义<a class="headerlink" href="#cdd-fota-getappversion" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_F
OTA_GetAppVersion</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
C
DD_FOTA_GetAppVer
sion(P2VAR(uint8,
AUTOMATIC,
CDD_FOTA_VAR)
AppVersion)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x10</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>AppVersion</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取APP版本信息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-setappversion">
<h4>CDD_FOTA_SetAppVersion函数定义<a class="headerlink" href="#cdd-fota-setappversion" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_F
OTA_SetAppVersion</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
CDD
_FOTA_SetAppVersi
on(P2CONST(uint8,
AUTOMATIC,
CDD_FOTA_VAR)
AppVersion)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x11</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>AppVersion</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>设置APP版本信息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-getfotaprocessedinfo">
<h4>CDD_FOTA_GetFOTAProcessedInfo函数定义<a class="headerlink" href="#cdd-fota-getfotaprocessedinfo" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOTA_Get
FOTAProcessedInfo</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
<a href="#id19"><span class="problematic" id="id20">CDD_FOTA_</span></a>
GetFOTAProcessedI
nfo(P2VAR(uint32,
AUTOMATIC,
CDD_FOTA_VAR)
MemoryAddress)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x03</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取编程信息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-getfotabreakpointinfo">
<h4>CDD_FOTA_GetFOTAbreakpointInfo函数定义<a class="headerlink" href="#cdd-fota-getfotabreakpointinfo" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOTA_GetF
OTAbreakpointInfo</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)</p>
<p>CDD_FOTA_G
etFOTAbreakpointI
nfo(P2VAR(uint32,
AUTOMATIC,
CDD_FOTA_VAR)
MemoryAddress)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0F</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>MemoryAddress</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>获取断点地址信息</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-processdownload">
<h4>CDD_FOTA_Processdownload函数定义<a class="headerlink" href="#cdd-fota-processdownload" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOT
A_Processdownload</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
CDD_FOTA_Proce
ssdownload(uint32
MemoryAddress,</p>
<p>uint32
MemorySize,</p>
<p>P2VAR(uint32,
AUTOMATIC,
CDD_FOTA_VAR)
BlockLength,</p>
<p>P
2VAR(Dcm_Negative
ResponseCodeType,
AUTOMATIC,
CDD_FOTA_VAR)
ErrorCode)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0A</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>MemoryAddress</p></td>
<td><p>值域：</p></td>
<td><p>uint32</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>MemorySize</p></td>
<td><p>值域：</p></td>
<td><p>uint32</p></td>
</tr>
<tr class="row-even"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输出参数：</p></td>
<td><p>ErrorCode</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>BlockLength</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：
E_OK： 请求成功
E_NOT_OK：
请求失败</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>处理数据请求下载</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-stopprotocol">
<h4>CDD_FOTA_StopProtocol函数定义<a class="headerlink" href="#cdd-fota-stopprotocol" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p><a href="#id21"><span class="problematic" id="id22">CDD_</span></a>
FOTA_StopProtocol</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnTy
pe,CDD_FOTA_CODE)
CDD_F
OTA_StopProtocol(</p>
<p>Dcm_ProtocolType
ProtocolID)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0c</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>ProtocolID</p></td>
<td><p>值域：</p></td>
<td><p>Enum</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>协议停止回调接口</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-cancelinstall">
<h4>CDD_FOTA_CancelInstall函数定义<a class="headerlink" href="#cdd-fota-cancelinstall" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_F
OTA_CancelInstall</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Std_ReturnTy
pe,CDD_FOTA_CODE)
CDD_FOTA_Ca
ncelInstall(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x0D</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求取消下载安装</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-processtransferdatawrite">
<h4>CDD_FOTA_ProcessTransferDataWrite函数定义<a class="headerlink" href="#cdd-fota-processtransferdatawrite" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOTA_Process
TransferDataWrite</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(Dcm_Retur
nWriteMemoryType,
CDD_FOTA_CODE)
CDD_FOTA_ProcessT
ransferDataWrite(</p>
<p>Dcm_OpStatusType
OpStatus,</p>
<p>CDD_FO
TA_MemoryInfoType
CDD
_FOTA_MemoryInfo,</p>
<p>P
2VAR(Dcm_Negative
ResponseCodeType,
AUTOMATIC,
CDD_FOTA_VAR)
ErrorCode)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x04</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>OpStatus</p></td>
<td><p>值域：</p></td>
<td><p>Enum</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>CD
D_FOTA_MemoryInfo</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>ErrorCode</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Dcm_Retu
rnWriteMemoryType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>处理下载的数据</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-erase">
<h4>CDD_FOTA_Erase函数定义<a class="headerlink" href="#cdd-fota-erase" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函
数名称：</p></td>
<td><p>CDD_FOTA_Erase</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函
数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
CDD_FOTA_CODE)
CDD_FOTA_Erase(</p>
<p>P2CONST(uint8, AUTOMATIC,
DCM_VAR) InBuffer,</p>
<p>P2VAR(Dcm
_NegativeResponseCodeType,
AUTOMATIC, DCM_VAR)
ErrorCode)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服
务编号：</p></td>
<td><p>0x0E</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步
/异步：</p></td>
<td><p>异步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是否
可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输
入参数：</p></td>
<td><p>InBuffer</p></td>
<td><p>值
域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入输
出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输
出参数：</p></td>
<td><p>ErrorCode</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功
能概述：</p></td>
<td><p>请求擦除</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-processexit">
<h4>CDD_FOTA_ProcessExit函数定义<a class="headerlink" href="#cdd-fota-processexit" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函
数名称：</p></td>
<td><p>CDD_FOTA_ProcessExit</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函
数原型：</p></td>
<td><p>FUNC(Std_ReturnType,
CDD_FOTA_CODE)
CDD_FOTA_ProcessExit(</p>
<p>P2CONST(uint8, AUTOMATIC,
CDD_FOTA_VAR)
trans
ferRequestParameterRecord,</p>
<p>uint32
transferR
equestParameterRecordSize,</p>
<p>P2VAR(uint32, AUTOMATIC,
CDD_FOTA_VAR)
transferRe
sponseParameterRecordSize,</p>
<p>P2VAR(Dcm
_NegativeResponseCodeType,
AUTOMATIC, CDD_FOTA_VAR)
ErrorCode)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服
务编号：</p></td>
<td><p>0x0B</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步
/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是否
可重入：</p></td>
<td><p>否</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输
入参数：</p></td>
<td><p>tran
sferRequestParameterRecord</p></td>
<td><p>值
域：</p></td>
<td><p>uint8</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>transfer
RequestParameterRecordSize</p></td>
<td><p>值
域：</p></td>
<td><p>uint32</p></td>
</tr>
<tr class="row-even"><td><p>输入输
出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>输
出参数：</p></td>
<td><p>transferR
esponseParameterRecordSize</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>ErrorCode</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功
能概述：</p></td>
<td><p>请求退出下载</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-setfotaactivate">
<h4>CDD_FOTA_SetFOTAActivate函数定义<a class="headerlink" href="#cdd-fota-setfotaactivate" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOT
A_SetFOTAActivate</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
CDD_FOTA_SetF
OTAActivate(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x05</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType：
E_OK： 请求成功
E_NOT_OK：
请求失败</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>设置
FOTA进入激活状态</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-setfotarollback">
<h4>CDD_FOTA_SetFOTARollback函数定义<a class="headerlink" href="#cdd-fota-setfotarollback" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p>CDD_FOT
A_SetFOTARollback</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
CDD_FOTA_SetF
OTARollback(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x06</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>设置
FOTA进入回滚状态</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-verification">
<h4>CDD_FOTA_Verification函数定义<a class="headerlink" href="#cdd-fota-verification" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p><a href="#id23"><span class="problematic" id="id24">CDD_</span></a>
FOTA_Verification</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUN
C(Std_ReturnType,
CDD_FOTA_CODE)
CDD_F
OTA_Verification(</p>
<p>P2VAR(boolean,
AUTOMATIC,
DEM_VAR)
V
erificationStatus</p>
<p>)</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x07</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>V
erificationStatus</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>Std_ReturnType</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>请求FOTA进行校验</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cdd-fota-mainfunction">
<h4>CDD_FOTA_MainFunction函数定义<a class="headerlink" href="#cdd-fota-mainfunction" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>函数名称：</p></td>
<td><p><a href="#id25"><span class="problematic" id="id26">CDD_</span></a>
FOTA_MainFunction</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>函数原型：</p></td>
<td><p>FUNC(void,
DEM_CODE)
CDD_FOTA_M
ainFunction(void)</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>服务编号：</p></td>
<td><p>0x08</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>同步/异步：</p></td>
<td><p>同步</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>是
否可重入：</p></td>
<td><p>是</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输入参数：</p></td>
<td><p>无</p></td>
<td><p>值域：</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td><p>输入
输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>输出参数：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>返回值：</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>功能概述：</p></td>
<td><p>F
OTA任务处理主函数</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id17">
<h3>可配置函数定义<a class="headerlink" href="#id17" title="Link to this heading"></a></h3>
<p>无。</p>
</section>
</section>
<section id="id18">
<h2>配置<a class="headerlink" href="#id18" title="Link to this heading"></a></h2>
<section id="fotageneral">
<h3>FOTAGeneral<a class="headerlink" href="#fotageneral" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="../../_images/image338.png"><img alt="image3" src="../../_images/image338.png" style="width: 4.68348in; height: 5.85477in;" /></a></p>
<p>图5-1 FOTAGeneral容器配置图</p>
<p>表5-1 FOTAGeneral属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAVe
rsionInfoApi</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>版本信息
获取接口使能开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOTADe
vErrorDetect</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>DET检查使能开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAUnco
mpressEnable</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>解压缩使能开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOTAUncompre
ssBufferSize</p></td>
<td><p>取值范围</p></td>
<td><p>0 ..
4,294,967,295</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>解压
缩缓存buffer大小</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>FOTAUncomp
ressEnable为true</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTACrc</p></td>
<td><p>取值范围</p></td>
<td><p>CDD_FOTA_CRC8/CD
D_FOTA_CRC8H2F/C
DD_FOTA_CRC16/CD
D_FOTA_CRC16ARC/
CDD_FOTA_CRC32/C
DD_FOTA_CRC32P4/
CDD_FOTA_CRC64/C
DD_FOTA_NONE_CRC</p></td>
<td><p>默认取值</p></td>
<td><p>CDD
_FOTA_CRC8</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>CRC计算类型</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOTAC
rcBy37Enable</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>CRC计算是
否通过37服务传入</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAVirificC
alloutEnable</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>校验
回调接口使能开关</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOT
AProgramSize</p></td>
<td><p>取值范围</p></td>
<td><p>0.. 4294836225</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>一次编程大小</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>F
OTAEraseSize</p></td>
<td><p>取值范围</p></td>
<td><p>0.. 4294836225</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>一次擦除大小</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOTAProgr
amSizeOneReq</p></td>
<td><p>取值范围</p></td>
<td><p>0.. 4294836225</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>一次36请求缓
存的下载数据大小</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAVe
rificCallout</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>校验
回调函数配置接口</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>FOTAVirificCal
loutEnable为true</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOTA
JumpAddressA</p></td>
<td><p>取值范围</p></td>
<td><p>0.. 4294836225</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>APP A的跳转地址</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTA
JumpAddressB</p></td>
<td><p>取值范围</p></td>
<td><p>0.. 4294836225</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>APP B的跳转地址</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOTAHeaderF
ileInclusion</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>头文件包含</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTANvR
amBlockIdRef</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>存储NV块的关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FO
TAProtocolId</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>DCM协议ID关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="fotaconfigset">
<h3>FOTAConfigSet<a class="headerlink" href="#fotaconfigset" title="Link to this heading"></a></h3>
<section id="fotawritememoryappa">
<h4>FOTAWriteMemoryAppA<a class="headerlink" href="#fotawritememoryappa" title="Link to this heading"></a></h4>
<p><a class="reference internal" href="../../_images/image430.png"><img alt="image4" src="../../_images/image430.png" style="width: 4.47023in; height: 0.93408in;" /></a></p>
<p>图5-2 FOTAWriteMemoryAppA容器配置图</p>
<p>表5-2 FOTAWriteMemoryAppA属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAWriteMe
moryRangeRef</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>DCM中
写地址范围的关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>F
OTABlockUnco
mpressEnable</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>当前
块是否进行解压缩</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>FOTA
UncompressEnable</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="fotawritememoryappb">
<h4>FOTAWriteMemoryAppB<a class="headerlink" href="#fotawritememoryappb" title="Link to this heading"></a></h4>
<p><a class="reference internal" href="../../_images/image527.png"><img alt="image5" src="../../_images/image527.png" style="width: 4.74323in; height: 0.98577in;" /></a></p>
<p>图5-3 FOTAWriteMemoryAppB容器配置图</p>
<p>表5-3 FOTAWriteMemoryAppB属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAWriteMe
moryRangeRef</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>DCM中
写地址范围的关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>F
OTABlockUnco
mpressEnable</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>当前
块是否进行解压缩</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>FOTA
UncompressEnable</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="fotabreakpoint">
<h4>FOTABreakpoint<a class="headerlink" href="#fotabreakpoint" title="Link to this heading"></a></h4>
<p><a class="reference internal" href="../../_images/image626.png"><img alt="image6" src="../../_images/image626.png" style="width: 5.76736in; height: 1.25139in;" /></a></p>
<p>图5-4 FOTABreakpoint容器配置图</p>
<p>表5-4 FOTABreakpoint属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAWriteMe
moryRangeRef</p></td>
<td><p>取值范围</p></td>
<td><p>0 ..
4,294,967,295</p></td>
<td><p>默认取值</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>断点，不配
置的情况下使用块
起始地址作为断点</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="fotawritememorysbl">
<h4>FOTAWriteMemorySBL<a class="headerlink" href="#fotawritememorysbl" title="Link to this heading"></a></h4>
<p><a class="reference internal" href="../../_images/image723.png"><img alt="image7" src="../../_images/image723.png" style="width: 4.49406in; height: 0.87392in;" /></a></p>
<p>图5-5 FOTAWriteMemorySBL容器配置图</p>
<p>表5-5 FOTAWriteMemorySBL属性描述</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>UI名称</strong></p></td>
<td><p><strong>描述</strong></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>FOTAWriteMe
moryRangeRef</p></td>
<td><p>取值范围</p></td>
<td><p>无</p></td>
<td><p>默认取值</p></td>
<td><p>无</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>参数描述</p></td>
<td><p>DCM中
写地址范围的关联</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td></td>
<td><p>依赖关系</p></td>
<td><p>无</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>F
OTABlockUnco
mpressEnable</p></td>
<td><p>取值范围</p></td>
<td><p>True/False</p></td>
<td><p>默认取值</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>参数描述</p></td>
<td><p>当前
块是否进行解压缩</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>依赖关系</p></td>
<td><p>FOTA
UncompressEnable</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="FiM.html" class="btn btn-neutral float-left" title="FiM产品参考手册" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="IoHwAb.html" class="btn btn-neutral float-right" title="IoHwAb产品参考手册" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, i-soft.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>Ea &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="Eep_62" href="../Eep_62/Eep_62.html" />
            <link rel="prev" title="EcuM" href="../EcuM/EcuM.html" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Os/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">Ea</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/Ea/Ea.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="ea">
<h1>Ea<a class="headerlink" href="#ea" title="Link to this heading">¶</a></h1>
<section id="document-information">
<h2>文档信息 Document Information<a class="headerlink" href="#document-information" title="Link to this heading">¶</a></h2>
<section id="version-history">
<h3>版本历史 Version History<a class="headerlink" href="#version-history" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>日期(Date)</p></th>
<th class="head"><p>作者(Author)</p></th>
<th class="head"><p>版本(Version)</p></th>
<th class="head"><p>状态(Status)</p></th>
<th class="head"><p>说明(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2025/03/13</p></td>
<td><p>peng.wu</p></td>
<td><p>V0.1</p></td>
<td><p>发布(Release)</p></td>
<td><p>首次发布(First release)</p></td>
</tr>
<tr class="row-odd"><td><p>2025/04/04</p></td>
<td><p>peng.wu</p></td>
<td><p>V1.0</p></td>
<td><p>发布(Release)</p></td>
<td><p>正式发布(Official release)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="references">
<h3>参考文档 References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号(Number)</p></th>
<th class="head"><p>分类(Classification)</p></th>
<th class="head"><p>标题(Title)</p></th>
<th class="head"><p>版本(Version)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SRS_MemoryHWAbstractionLayer.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SWS_EEPROMAbstraction.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terms-and-abbreviations">
<h2>术语与简写 Terms and Abbreviations<a class="headerlink" href="#terms-and-abbreviations" title="Link to this heading">¶</a></h2>
<section id="terms">
<h3>术语 Terms<a class="headerlink" href="#terms" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 27.3%" />
<col style="width: 72.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>术语(Terms)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>(Logical) block</p></td>
<td><p>模块用户可见的最小可写/可擦除单元。由一个或多个虚拟页（virtual pages）构成。(The minimum writable/erasable unit visible to the module user. It is composed of one or more virtual pages.)</p></td>
</tr>
<tr class="row-odd"><td><p>Virtual page</p></td>
<td><p>可由一个或多个物理页构成，以简化逻辑块的处理与地址计算流程(It can be composed of one or more physical pages to simplify the processing of logical blocks and address calculation procedures.)</p></td>
</tr>
<tr class="row-even"><td><p>Virtual address</p></td>
<td><p>由16位块编号和逻辑块内的16位偏移量组成。(It is composed of a 16-bit block number and a 16-bit offset within the logical block.)</p></td>
</tr>
<tr class="row-odd"><td><p>Physical address</p></td>
<td><p>设备特定格式的地址信息（取决于底层EEPROM驱动程序和设备）用于访问逻辑块。(Address information in a device-specific format (depending on the underlying EEPROM driver and device) used to access logical blocks.)</p></td>
</tr>
<tr class="row-even"><td><p>Dataset</p></td>
<td><p>非易失性内存管理器（NVRAM manager）中的概念：用户可寻址的、由相同大小块组成的数组。例如，对于应用软件（如车门模块）完全相同的ECU，该数组可用于为CAN驱动程序提供不同的配置设置（如CAN标识符、过滤器设置等）。(A concept in the NVRAM (Non-Volatile RAM) Manager: an array of blocks of the same size that can be addressed by the user. For example, for ECUs with identical application software (such as door modules), this array can be used to provide different configuration settings (such as CAN identifiers, filter settings, etc.) for the CAN driver.)</p></td>
</tr>
<tr class="row-odd"><td><p>Redundant copy</p></td>
<td><p>非易失性内存管理器（NVRAM manager）中的概念：将相同信息存储两次，以提高数据存储的可靠性。(A concept in the NVRAM (Non-Volatile RAM) Manager: storing the same information twice to improve the reliability of data storage.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="abbreviations">
<h3>简写 Abbreviations<a class="headerlink" href="#abbreviations" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 33.3%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>简写(Abbreviation)</p></th>
<th class="head"><p>全称(Full name)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EA</p></td>
<td><p>EEPROM Abstraction</p></td>
<td><p>EEPROM抽象.</p></td>
</tr>
<tr class="row-odd"><td><p>EEPROM</p></td>
<td><p>Electrically Erasable and Programmable ROM (Read Only Memory).</p></td>
<td><p>电可擦可编程只读存储器(只读型存储器)</p></td>
</tr>
<tr class="row-even"><td><p>MemIf</p></td>
<td><p>Memory Abstraction Interface</p></td>
<td><p>内存抽象接口.</p></td>
</tr>
<tr class="row-odd"><td><p>NvM</p></td>
<td><p>NVRAM Manager</p></td>
<td><p>非易失RAM管理.</p></td>
</tr>
<tr class="row-even"><td><p>MemAcc</p></td>
<td><p>Module name of ECU State Manager</p></td>
<td><p>AUTOSAR基本软件模块存储器访问.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="introduction">
<h2>简介 Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>EA模块是对设备特定地址结构和分段的抽象，它为上层提供虚拟的地址结构和分段，并提供无限的擦除周期；ECU抽象层中的EA模块是对底层EEPROM设备的抽象。用户能访问到的存储器API都是针对EEPROM的；EA不直接操作硬件，所有硬件操作由EEPROM驱动模块完成。</p>
<p>The EA module is an abstraction of the device-specific address structure and segmentation. It provides a virtual address structure and segmentation for the upper layer, and offers unlimited erasure cycles; The EA module in the ECU Abstraction Layer is an abstraction of the underlying EEPROM device. All memory APIs accessible to users are for EEPROM; The EA module does not directly operate the hardware. All hardware operations are performed by the EEPROM driver module.</p>
</section>
<section id="functional-description">
<h2>功能描述 Functional Description<a class="headerlink" href="#functional-description" title="Link to this heading">¶</a></h2>
<section id="features">
<h3>特性 Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h3>
<section id="module-initialization">
<h4>模块初始化 Module initialization<a class="headerlink" href="#module-initialization" title="Link to this heading">¶</a></h4>
<p>Ea模块必须在初始化接口调用后才能开始运行。在初始化阶段，Ea不需要读取数据，只需要初始化相关的变量即可，所以Ea初始化采用了同步方式。</p>
<p>The Ea module can only start running after the initialization interface is called. During the initialization phase, the Ea module does not need to read data, but only needs to initialize relevant variables. Therefore, the Ea module uses a synchronous method for initialization.</p>
</section>
<section id="task-processing">
<h4>任务处理 Task Processing<a class="headerlink" href="#task-processing" title="Link to this heading">¶</a></h4>
<p>EA的主要工作是对EEPROM内存块进行逻辑块的划分（逻辑块的大小根据配置可能不同），以及地址映射。EA的读取、写入、擦除的最小单位为逻辑块。</p>
<p>The main task of EA is to divide the EEPROM memory blocks into logical blocks (the size of logical blocks may vary according to configuration) and perform address mapping. The minimum unit for reading, writing, and erasing of the EA module is a logical block.</p>
<p>EA模块一次只能接受一个作业任务，即模块不能为挂起的作业提供队列。</p>
<p>The EA module can only accept one job task at a time, which means the module cannot provide a queue for pending jobs.</p>
</section>
<section id="data-storage-management">
<h4>数据存储管理 Data Storage Management<a class="headerlink" href="#data-storage-management" title="Link to this heading">¶</a></h4>
<p>管理EEPROM中的逻辑块（Logical Blocks），每个逻辑块可以存储一定量的数据。支持对逻辑块的读写、擦除操作。</p>
<p>Manages logical blocks in the EEPROM. Each logical block can store a certain amount of data. Supports read, write, and erase operations on logical blocks.</p>
</section>
<section id="error-detection-and-handling">
<h4>错误检测与处理 Error Detection and Handling<a class="headerlink" href="#error-detection-and-handling" title="Link to this heading">¶</a></h4>
<p>检测EEPROM操作中的错误（如写入失败、读取失败等）。提供错误通知机制，将错误信息传递给上层模块。</p>
<p>Detects errors during EEPROM operations (such as write failure, read failure, etc.). Provides an error notification mechanism to pass error information to the upper layer modules.</p>
</section>
<section id="erasure-cycle-limitation">
<h4>擦除周期限制 Erasure Cycle Limitation<a class="headerlink" href="#erasure-cycle-limitation" title="Link to this heading">¶</a></h4>
<p>如果下层EEPROM设备或者设备驱动不提供配置每个物理存储单元的最小擦除/写入周期数，EA模块的配置必须在配置参数EaNumberOfWriteCycles中定义每个逻辑块所期望的擦擦/写入操作周期。</p>
<p>If the underlying EEPROM device or device driver does not provide the configuration of the minimum number of erasure/write cycles for each physical storage unit, the configuration of the EA module must define the expected erasure/write operation cycles for each logical block in the configuration parameter EaNumberOfWriteCycles.</p>
</section>
<section id="managing-logical-block-information">
<h4>管理逻辑块信息 Managing Logical Block Information<a class="headerlink" href="#managing-logical-block-information" title="Link to this heading">¶</a></h4>
<p>Ea模块应该从EA模块的角度来管理每个块的信息，即该块是否为“有效”。该一致性信息仅涉及块的内部处理，而不涉及块的内容；当块写入操作启动时，Ea模块将相应的块标记为不一致。在块写入操作成功结束后，Ea模块应将块标记为一致（再次）。</p>
<p>The Ea module shall manage the information of each block from the perspective of the EA module, i.e., whether the block is “valid”. This consistency information is only related to the internal processing of the block, not the content of the block; when a block write operation starts, the Ea module marks the corresponding block as inconsistent. After the block write operation ends successfully, the Ea module shall mark the block as consistent (again).</p>
</section>
</section>
<section id="deviation">
<h3>偏差 Deviation<a class="headerlink" href="#deviation" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>初始化的同步方式</p></li>
</ol>
<ol class="arabic simple">
<li><p>Synchronous Initialization Method</p></li>
</ol>
<p>Ea的初始化可以分为异步和同步两种方式，但是由于Ea初始化暂不需要读取数据，所以当前实现采用了同步方式，异步方式暂未实现。</p>
<p>The initialization of Ea can be divided into asynchronous and synchronous methods. However, since the Ea initialization does not need to read data temporarily, the current implementation adopts the synchronous method, and the asynchronous method has not been implemented yet.</p>
</section>
<section id="extension">
<h3>扩展 Extension<a class="headerlink" href="#extension" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
</section>
<section id="integration">
<h2>集成 Integration<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
<section id="file-list">
<h3>文件列表 File List<a class="headerlink" href="#file-list" title="Link to this heading">¶</a></h3>
<section id="static-files">
<h4>静态文件 Static Files<a class="headerlink" href="#static-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ea.h</p></td>
<td><p>API declarations and macro definitions of Ea module; including macro definitions, and external function declarations that need to be used.</p></td>
</tr>
<tr class="row-odd"><td><p>Ea.c</p></td>
<td><p>API implementation of Ea module; contains internal functions, and global functions that need to be used.</p></td>
</tr>
<tr class="row-even"><td><p>Ea_MemMap.h</p></td>
<td><p>Contains the memory abstraction of Ea module.</p></td>
</tr>
<tr class="row-odd"><td><p>Ea_Types.h</p></td>
<td><p>API declaration and macro definition of Ea module; including macro definition, type definition, and configuration structure declaration that need to be used.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="dynamic-files">
<h4>动态文件 Dynamic Files<a class="headerlink" href="#dynamic-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ea_Cfg.h</p></td>
<td><p>Configuration parameters required for the implementation of Ea; Contains macro definitions, version information.</p></td>
</tr>
<tr class="row-odd"><td><p>Ea_Lfg.c</p></td>
<td><p>Link time definitions of Ea; Contains the block information that need to be used.</p></td>
</tr>
<tr class="row-even"><td><p>Ea_Lfg.h</p></td>
<td><p>Link time declaration of Ea; Contains macro definitions, version information.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="error-handling">
<h3>错误处理 Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<section id="development-errors">
<h4>开发错误 Development Errors<a class="headerlink" href="#development-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EA_E_NO_ERROR</p></td>
<td><p>0x0u</p></td>
<td><p>API function called with no det error</p></td>
</tr>
<tr class="row-odd"><td><p>EA_E_UNINIT</p></td>
<td><p>0x01u</p></td>
<td><p>API service called while module is not (yet) initialized</p></td>
</tr>
<tr class="row-even"><td><p>EA_E_INVALID_BLOCK_NO</p></td>
<td><p>0x02u</p></td>
<td><p>API service called with invalid block number</p></td>
</tr>
<tr class="row-odd"><td><p>EA_E_INVALID_BLOCK_OFS</p></td>
<td><p>0x03u</p></td>
<td><p>API service called with invalid block offset</p></td>
</tr>
<tr class="row-even"><td><p>EA_E_PARAM_POINTER</p></td>
<td><p>0x04u</p></td>
<td><p>API service called with invalid pointer argument</p></td>
</tr>
<tr class="row-odd"><td><p>EA_E_INVALID_BLOCK_LEN</p></td>
<td><p>0x05u</p></td>
<td><p>API service called with invalid block length information</p></td>
</tr>
</tbody>
</table>
</section>
<section id="runtime-errors">
<h4>运行时错误 Runtime Errors<a class="headerlink" href="#runtime-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EA_E_BUSY</p></td>
<td><p>0x06u</p></td>
<td><p>API service called while module is busy</p></td>
</tr>
<tr class="row-odd"><td><p>EA_E_INVALID_CANCEL</p></td>
<td><p>0x08u</p></td>
<td><p>Ea_Cancel called while no job was pending</p></td>
</tr>
</tbody>
</table>
</section>
<section id="product-errors">
<h4>产品错误 Product Errors<a class="headerlink" href="#product-errors" title="Link to this heading">¶</a></h4>
<p>无 None</p>
</section>
</section>
</section>
<section id="interface-description">
<h2>接口描述 Interface Description<a class="headerlink" href="#interface-description" title="Link to this heading">¶</a></h2>
<section id="type-definitions">
<h3>类型定义 Type Definitions<a class="headerlink" href="#type-definitions" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 37.5%" />
<col style="width: 12.5%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ea_ConfigType</p></td>
<td><p>struct</p></td>
<td><p>Configuration data structure of the Ea module</p></td>
</tr>
</tbody>
</table>
</section>
<section id="services">
<h3>提供的服务 Services<a class="headerlink" href="#services" title="Link to this heading">¶</a></h3>
<section id="ea-det-reporterror">
<h4>Ea_Det_ReportError<a class="headerlink" href="#ea-det-reporterror" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EA_LOCAL_INLINE</span> <span class="n">void</span> <span class="n">Ea_Det_ReportError</span><span class="p">(</span><span class="n">uint8</span> <span class="n">ApiId</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">ErrorId</span><span class="p">)</span>
</pre></div>
</div>
<p>Report Develop Error.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ApiId</p></td>
<td><p>Specifies which API reported the error.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ErrorId</p></td>
<td><p>Specify which error was reported.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>EA_LOCAL_INLINE void</p>
</dd>
</dl>
</section>
<section id="ea-det-reportruntimeerror">
<h4>Ea_Det_ReportRunTimeError<a class="headerlink" href="#ea-det-reportruntimeerror" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EA_LOCAL_INLINE</span> <span class="n">void</span> <span class="n">Ea_Det_ReportRunTimeError</span><span class="p">(</span><span class="n">uint8</span> <span class="n">ApiId</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">ErrorId</span><span class="p">)</span>
</pre></div>
</div>
<p>Report Running Time Error.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ApiId</p></td>
<td><p>Specifies which API reported the error.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ErrorId</p></td>
<td><p>Specify which error was reported.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>EA_LOCAL_INLINE void</p>
</dd>
</dl>
</section>
<section id="ea-init">
<h4>Ea_Init<a class="headerlink" href="#ea-init" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Ea_Init</span><span class="p">(</span><span class="n">const</span> <span class="n">Ea_ConfigType</span> <span class="o">*</span><span class="n">ConfigPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the EEPROM abstraction module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ConfigPtr</p></td>
<td><p>Pointer to the selected configuration set</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="ea-read">
<h4>Ea_Read<a class="headerlink" href="#ea-read" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Ea_Read</span><span class="p">(</span><span class="n">uint16</span> <span class="n">BlockNumber</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">BlockOffset</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataBufferPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">Length</span><span class="p">)</span>
</pre></div>
</div>
<p>Reads Length bytes of block BlockNumber at offset BlockOffset into the buffer DataBufferPtr.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>BlockNumber</p></td>
<td><p>Number of logical block, also denoting start address of that block in EEPROM.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>BlockOffset</p></td>
<td><p>Read address offset inside the block(read offset within block)</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>DataBufferPtr</p></td>
<td><p>Pointer to data buffer</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Length</p></td>
<td><p>Number of bytes to read(Length of read job)</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The requested job has been accepted by the module</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The requested job has not been accepted by the module</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ea-write">
<h4>Ea_Write<a class="headerlink" href="#ea-write" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Ea_Write</span><span class="p">(</span><span class="n">uint16</span> <span class="n">BlockNumber</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">DataBufferPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Writes the contents of the DataBufferPtr to the block BlockNumber.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>BlockNumber</p></td>
<td><p>Number of logical block, also denoting start address of that block in EEPROM</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>DataBufferPtr</p></td>
<td><p>Pointer to data buffer</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The requested job has been accepted by the module</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The requested job has not been accepted by the module</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ea-cancel">
<h4>Ea_Cancel<a class="headerlink" href="#ea-cancel" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Ea_Cancel</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Cancels the ongoing asynchronous operation.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="ea-getstatus">
<h4>Ea_GetStatus<a class="headerlink" href="#ea-getstatus" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MemIf_StatusType</span> <span class="n">Ea_GetStatus</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to return the status.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>MemIf_StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MEMIF_UNINIT</p></td>
<td><p>The EA module has not been initialized</p></td>
</tr>
<tr class="row-odd"><td><p>MEMIF_IDLE</p></td>
<td><p>The EA module is currently idle</p></td>
</tr>
<tr class="row-even"><td><p>MEMIF_BUSY</p></td>
<td><p>The EA module is currently busy</p></td>
</tr>
<tr class="row-odd"><td><p>MEMIF_BUSY_INTERNAL</p></td>
<td><p>The EA module is busy with internal management operations.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ea-getjobresult">
<h4>Ea_GetJobResult<a class="headerlink" href="#ea-getjobresult" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MemIf_JobResultType</span> <span class="n">Ea_GetJobResult</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to return the job result.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>MemIf_JobResultType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MEMIF_JOB_OK</p></td>
<td><p>The last job has been finished successfully</p></td>
</tr>
<tr class="row-odd"><td><p>MEMIF_JOB_PENDING</p></td>
<td><p>The last job is waiting for execution or currently being executed</p></td>
</tr>
<tr class="row-even"><td><p>MEMIF_JOB_CANCELED</p></td>
<td><p>The last job has been canceled (which means it failed)</p></td>
</tr>
<tr class="row-odd"><td><p>MEMIF_JOB_FAILED</p></td>
<td><p>The last job has not been finished successfully (it failed)</p></td>
</tr>
<tr class="row-even"><td><p>MEMIF_BLOCK_INCONSISTENT</p></td>
<td><p>The requested block is inconsistent, it may contain corrupted data</p></td>
</tr>
<tr class="row-odd"><td><p>MEMIF_BLOCK_INVALID</p></td>
<td><p>The requested block has been invalidated, the requested read operation can not be performed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ea-invalidateblock">
<h4>Ea_InvalidateBlock<a class="headerlink" href="#ea-invalidateblock" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Ea_InvalidateBlock</span><span class="p">(</span><span class="n">uint16</span> <span class="n">BlockNumber</span><span class="p">)</span>
</pre></div>
</div>
<p>Invalidates the block BlockNumber.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>BlockNumber</p></td>
<td><p>Number of logical block, also denoting start address of that block in EEPROM</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The requested job has been accepted by the module</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><ul class="simple">
<li><p>only if DET is enabled: The requested job has not been accepted by the EA module.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="ea-getversioninfo">
<h4>Ea_GetVersionInfo<a class="headerlink" href="#ea-getversioninfo" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Ea_GetVersionInfo</span><span class="p">(</span><span class="n">Std_VersionInfoType</span> <span class="o">*</span><span class="n">VersionInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to get the version information of EA module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>VersionInfoPtr</p></td>
<td><p>Pointer to standard version information structure</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="ea-eraseimmediateblock">
<h4>Ea_EraseImmediateBlock<a class="headerlink" href="#ea-eraseimmediateblock" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Ea_EraseImmediateBlock</span><span class="p">(</span><span class="n">uint16</span> <span class="n">BlockNumber</span><span class="p">)</span>
</pre></div>
</div>
<p>Erases the block BlockNumber.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>FALSE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>BlockNumber</p></td>
<td><p>Number of logical block, also denoting start address of that block in EEPROM.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The requested job has been accepted by the module</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><ul class="simple">
<li><p>only if DET is enabled: The requested job has not been accepted by the EA module.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="ea-jobendnotification">
<h4>Ea_JobEndNotification<a class="headerlink" href="#ea-jobendnotification" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Ea_JobEndNotification</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to report to this module the successful end of an asynchronous operation.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
<section id="applicable-services">
<h3>依赖的服务 Applicable Services<a class="headerlink" href="#applicable-services" title="Link to this heading">¶</a></h3>
<section id="optional-interface">
<h4>可选接口 Optional Interface<a class="headerlink" href="#optional-interface" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Det_ReportError</p></td>
<td><p>Det.h</p></td>
<td><p>Service to report development errors</p></td>
</tr>
</tbody>
</table>
</section>
<section id="compulsory-interface">
<h4>强制接口 Compulsory interface<a class="headerlink" href="#compulsory-interface" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Det_ReportRuntimeError</p></td>
<td><p>Det.h</p></td>
<td><p>Service to report runtime errors.If a callout has been configured then this callout shall be called.</p></td>
</tr>
<tr class="row-odd"><td><p>Eep_Cancel</p></td>
<td><p>Eep.h</p></td>
<td><p>Cancels a running job</p></td>
</tr>
<tr class="row-even"><td><p>Eep_Erase</p></td>
<td><p>Eep.h</p></td>
<td><p>Service for erasing EEPROM sections</p></td>
</tr>
<tr class="row-odd"><td><p>Eep_GetJobResult</p></td>
<td><p>Eep.h</p></td>
<td><p>This service returns the result of the last job</p></td>
</tr>
<tr class="row-even"><td><p>Eep_GetStatus</p></td>
<td><p>Eep.h</p></td>
<td><p>Returns the EEPROM status</p></td>
</tr>
<tr class="row-odd"><td><p>Eep_Read</p></td>
<td><p>Eep.h</p></td>
<td><p>Reads from EEPROM</p></td>
</tr>
<tr class="row-even"><td><p>Eep_SetMode</p></td>
<td><p>Eep.h</p></td>
<td><p>Sets the mode</p></td>
</tr>
<tr class="row-odd"><td><p>Eep_Write</p></td>
<td><p>Eep.h</p></td>
<td><p>Writes to EEPROM</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-interfaces">
<h4>配置接口 Configuration Interfaces<a class="headerlink" href="#configuration-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NvM_JobEndNotification</p></td>
<td><p>NvM_MemIf.h</p></td>
<td><p>Function to be used by the underlying memory abstraction to signal end of job without error</p></td>
</tr>
<tr class="row-odd"><td><p>NvM_JobErrorNotification</p></td>
<td><p>NvM_MemIf.h</p></td>
<td><p>Function to be used by the underlying memory abstraction to signal end of job with error</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="configuration">
<h2>配置 Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<section id="header-file-including">
<h3>头文件包含 Header File Including<a class="headerlink" href="#header-file-including" title="Link to this heading">¶</a></h3>
<p>在Ea模块使用过程中，需要使用到下层EEPROM Driver模块，由于MCAL厂商的文件命名差异，可能会涉及文件名和类型名字不匹配的问题，所以在Ea模块中，需要在配置中包含EEPROM Driver的头文件xxx.h。</p>
<p>During the use of the Ea module, the underlying EEPROM Driver module needs to be used. Due to differences in file naming by MCAL vendors, problems such as mismatched file names and type names may occur.Therefore, in the Ea module, the header file xxx.h of the EEPROM Driver needs to be included in the configuration.</p>
<p>如图 <a class="reference internal" href="#eaheaderfile"><span class="std std-ref">EaHeaderFile Including</span></a> 所示。</p>
<p>As shown in Figure <a class="reference internal" href="#eaheaderfile"><span class="std std-ref">EaHeaderFile Including</span></a>.</p>
<figure class="align-center" id="eaheaderfile">
<img alt="EaHeaderFile配置图 (EaHeaderFile Configuration Diagram)" src="../../../_images/EaHeaderFile.png" />
<figcaption>
<p><span class="caption-text">EaHeaderFile Including</span><a class="headerlink" href="#eaheaderfile" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="eavirtualpagesize">
<h3>EaVirtualPageSize<a class="headerlink" href="#eavirtualpagesize" title="Link to this heading">¶</a></h3>
<p>如图 <a class="reference internal" href="#id1"><span class="std std-ref">EaVirtualPageSize Including</span></a> 所示，</p>
<p>As shown in Figure <a class="reference internal" href="#id1"><span class="std std-ref">EaVirtualPageSize Including</span></a>,</p>
<figure class="align-center" id="id1">
<img alt="EaVirtualPageSize配置图 (EaVirtualPageSize Configuration Diagram)" src="../../../_images/EaVirtualPageSize.png" />
<figcaption>
<p><span class="caption-text">EaVirtualPageSize Including</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>在Ea模块中，配置的虚拟页EaVirtualPageSize的大小，必须为(EaBlockConfiguration/EaBlockSize + EaPublishedInformation/EaBlockOverhead)的倍数。</p>
<p>In the Ea module, the size of the configured virtual page EaVirtualPageSize must be a multiple of (EaBlockConfiguration/EaBlockSize + EaPublishedInformation/EaBlockOverhead).</p>
<p>即(EaBlockSize + EaBlockOverhead) % EaVirtualPageSize != 0</p>
<p>That is, (EaBlockSize + EaBlockOverhead) % EaVirtualPageSize != 0</p>
<figure class="align-center" id="eablocksize">
<img alt="EaBlockSize配置图 (EaBlockSize Configuration Diagram)" src="../../../_images/EaBlockSize.png" />
<figcaption>
<p><span class="caption-text">EaBlockSize Including</span><a class="headerlink" href="#eablocksize" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="eablockoverhead">
<img alt="EaBlockOverhead配置图 (EaBlockOverhead Configuration Diagram)" src="../../../_images/EaBlockOverhead.png" />
<figcaption>
<p><span class="caption-text">EaBlockOverhead Including</span><a class="headerlink" href="#eablockoverhead" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="eepapi">
<h3>EepApi<a class="headerlink" href="#eepapi" title="Link to this heading">¶</a></h3>
<p>如图 <a class="reference internal" href="#id2"><span class="std std-ref">EepApi Including</span></a> 所示，可以关联底层Eep模块，并设置底层Eep模块对应的接口。</p>
<p>As shown in Figure <a class="reference internal" href="#id2"><span class="std std-ref">EepApi Including</span></a>, the underlying Eep module can be associated, and the corresponding interface of the underlying Eep module can be set.</p>
<figure class="align-center" id="id2">
<img alt="EepApi配置图 (EepApi Configuration Diagram)" src="../../../_images/EepApi.png" />
<figcaption>
<p><span class="caption-text">EepApi Including</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../EcuM/EcuM.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>EcuM
    </a>
    <a class="float-right" href="../Eep_62/Eep_62.html" title="Next">
        Eep_62 <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">Ea</a><ul>
<li><a class="reference internal" href="#document-information">文档信息 Document Information</a><ul>
<li><a class="reference internal" href="#version-history">版本历史 Version History</a></li>
<li><a class="reference internal" href="#references">参考文档 References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terms-and-abbreviations">术语与简写 Terms and Abbreviations</a><ul>
<li><a class="reference internal" href="#terms">术语 Terms</a></li>
<li><a class="reference internal" href="#abbreviations">简写 Abbreviations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">简介 Introduction</a></li>
<li><a class="reference internal" href="#functional-description">功能描述 Functional Description</a><ul>
<li><a class="reference internal" href="#features">特性 Features</a><ul>
<li><a class="reference internal" href="#module-initialization">模块初始化 Module initialization</a></li>
<li><a class="reference internal" href="#task-processing">任务处理 Task Processing</a></li>
<li><a class="reference internal" href="#data-storage-management">数据存储管理 Data Storage Management</a></li>
<li><a class="reference internal" href="#error-detection-and-handling">错误检测与处理 Error Detection and Handling</a></li>
<li><a class="reference internal" href="#erasure-cycle-limitation">擦除周期限制 Erasure Cycle Limitation</a></li>
<li><a class="reference internal" href="#managing-logical-block-information">管理逻辑块信息 Managing Logical Block Information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deviation">偏差 Deviation</a></li>
<li><a class="reference internal" href="#extension">扩展 Extension</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration">集成 Integration</a><ul>
<li><a class="reference internal" href="#file-list">文件列表 File List</a><ul>
<li><a class="reference internal" href="#static-files">静态文件 Static Files</a></li>
<li><a class="reference internal" href="#dynamic-files">动态文件 Dynamic Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">错误处理 Error Handling</a><ul>
<li><a class="reference internal" href="#development-errors">开发错误 Development Errors</a></li>
<li><a class="reference internal" href="#runtime-errors">运行时错误 Runtime Errors</a></li>
<li><a class="reference internal" href="#product-errors">产品错误 Product Errors</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interface-description">接口描述 Interface Description</a><ul>
<li><a class="reference internal" href="#type-definitions">类型定义 Type Definitions</a></li>
<li><a class="reference internal" href="#services">提供的服务 Services</a><ul>
<li><a class="reference internal" href="#ea-det-reporterror">Ea_Det_ReportError</a></li>
<li><a class="reference internal" href="#ea-det-reportruntimeerror">Ea_Det_ReportRunTimeError</a></li>
<li><a class="reference internal" href="#ea-init">Ea_Init</a></li>
<li><a class="reference internal" href="#ea-read">Ea_Read</a></li>
<li><a class="reference internal" href="#ea-write">Ea_Write</a></li>
<li><a class="reference internal" href="#ea-cancel">Ea_Cancel</a></li>
<li><a class="reference internal" href="#ea-getstatus">Ea_GetStatus</a></li>
<li><a class="reference internal" href="#ea-getjobresult">Ea_GetJobResult</a></li>
<li><a class="reference internal" href="#ea-invalidateblock">Ea_InvalidateBlock</a></li>
<li><a class="reference internal" href="#ea-getversioninfo">Ea_GetVersionInfo</a></li>
<li><a class="reference internal" href="#ea-eraseimmediateblock">Ea_EraseImmediateBlock</a></li>
<li><a class="reference internal" href="#ea-jobendnotification">Ea_JobEndNotification</a></li>
</ul>
</li>
<li><a class="reference internal" href="#applicable-services">依赖的服务 Applicable Services</a><ul>
<li><a class="reference internal" href="#optional-interface">可选接口 Optional Interface</a></li>
<li><a class="reference internal" href="#compulsory-interface">强制接口 Compulsory interface</a></li>
<li><a class="reference internal" href="#configuration-interfaces">配置接口 Configuration Interfaces</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">配置 Configuration</a><ul>
<li><a class="reference internal" href="#header-file-including">头文件包含 Header File Including</a></li>
<li><a class="reference internal" href="#eavirtualpagesize">EaVirtualPageSize</a></li>
<li><a class="reference internal" href="#eepapi">EepApi</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
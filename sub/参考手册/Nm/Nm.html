<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>Nm &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="NvM" href="../NvM/NvM.html" />
            <link rel="prev" title="MemLayout" href="../MemLayout/MemLayout.html" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Os/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">Nm</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/Nm/Nm.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="nm">
<h1>Nm<a class="headerlink" href="#nm" title="Link to this heading">¶</a></h1>
<section id="document-information">
<h2>文档信息（Document Information）<a class="headerlink" href="#document-information" title="Link to this heading">¶</a></h2>
<section id="version-history">
<h3>版本历史（Version History）<a class="headerlink" href="#version-history" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>日期（Date）</p></th>
<th class="head"><p>作者（Author）</p></th>
<th class="head"><p>版本（Version）</p></th>
<th class="head"><p>状态（Status）</p></th>
<th class="head"><p>说明（Description）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2024/12/05</p></td>
<td><p>shuangyang.fu</p></td>
<td><p>V0.1</p></td>
<td><p>发布（Release）</p></td>
<td><p>首次发布（First release）</p></td>
</tr>
<tr class="row-odd"><td><p>2025/04/04</p></td>
<td><p>shuangyang.fu</p></td>
<td><p>V1.0</p></td>
<td><p>发布（Release）</p></td>
<td><p>正式发布（Official release）</p></td>
</tr>
</tbody>
</table>
</section>
<section id="reference-document">
<h3>参考文档（Reference Document）<a class="headerlink" href="#reference-document" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号（Number）</p></th>
<th class="head"><p>分类（Classification）</p></th>
<th class="head"><p>标题（Title）</p></th>
<th class="head"><p>版本（Version）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_SWS_NetworkManagementInterface.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_SWS_CANNetworkManagement.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_SWS_UDPNetworkManagement.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_SWS_PDURouter.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_SWS_COMManager.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terms-and-abbreviations">
<h2>术语与简写（Terms and Abbreviations）<a class="headerlink" href="#terms-and-abbreviations" title="Link to this heading">¶</a></h2>
<section id="term">
<h3>术语（Term）<a class="headerlink" href="#term" title="Link to this heading">¶</a></h3>
<blockquote>
<div></div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>术语（Term）</p></th>
<th class="head"><p>解释（Explanation）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NmCoordCluster</p></td>
<td><p>协同睡眠管理的集群，可以关联多个NmChannels。</p>
<p>A cluster for coordinated sleep management can be associated with multiple NmChannels.</p>
</td>
</tr>
<tr class="row-odd"><td><p>NmActiveCoordinator</p></td>
<td><p>指示某个channel在协同睡眠集群中是主动协同还是被动协同。</p>
<p>Indicates whether a certain channel is an active coordinator or a passive coordinator in the coordinated sleep cluster.</p>
</td>
</tr>
<tr class="row-even"><td><p>topmost</p></td>
<td><p>如果一个集群内的所有channel的NmActiveCoordinator都配置为TRUE，那么这个集群就被称为topmost，用于嵌套网络。</p>
<p>If the NmActiveCoordinator of all channels in a cluster is configured as TRUE, then this cluster is called topmost, which is used for nested networks.</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="abbreviation">
<h3>简写（Abbreviation）<a class="headerlink" href="#abbreviation" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 33.3%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>简写（Abbreviation）</p></th>
<th class="head"><p>全称（Full name）</p></th>
<th class="head"><p>解释（Explanation）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ComM</p></td>
<td><p>Communication management</p></td>
<td><p>通讯管理模块</p></td>
</tr>
<tr class="row-odd"><td><p>BswM</p></td>
<td><p>BSW Mode Manager</p></td>
<td><p>基础软件管理模块</p></td>
</tr>
<tr class="row-even"><td><p>DET</p></td>
<td><p>Default Error Tracer</p></td>
<td><p>默认错误检测模块</p></td>
</tr>
<tr class="row-odd"><td><p>NM</p></td>
<td><p>Network Management</p></td>
<td><p>网络管理</p></td>
</tr>
<tr class="row-even"><td><p>CWU</p></td>
<td><p>CWU</p></td>
<td><p>车辆唤醒</p></td>
</tr>
<tr class="row-odd"><td><p>CBV</p></td>
<td><p>Control Bit Vector</p></td>
<td><p>控制位向量</p></td>
</tr>
<tr class="row-even"><td><p>PDU</p></td>
<td><p>Protocol Data Unit</p></td>
<td><p>协议数据单元</p></td>
</tr>
<tr class="row-odd"><td><p>BusNm</p></td>
<td><p>Bus Network Management</p></td>
<td><p>与总线相关的网络管理模块</p></td>
</tr>
<tr class="row-even"><td><p>PN</p></td>
<td><p>Partial Network</p></td>
<td><p>部分网络</p></td>
</tr>
<tr class="row-odd"><td><p>PNC</p></td>
<td><p>Partial Network Cluster</p></td>
<td><p>部分网络集群</p></td>
</tr>
<tr class="row-even"><td><p>ERA</p></td>
<td><p>External Request Array</p></td>
<td><p>外部请求集合</p></td>
</tr>
<tr class="row-odd"><td><p>EIRA</p></td>
<td><p>External and Internal Request Array</p></td>
<td><p>外部和内部请求集合</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="introduction">
<h2>简介（Introduction）<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>NmIf 的基本功能是作为AUTOSAR ComM 模块和 AUTOSAR 总线特定的
网络管理模块（例如CAN网络管理和以太网网络管理）之间的适配层。
NmIf 的另一个功能是协调功能，网关ECUs使用的NM协调器功能可以同
步关闭一个或多个总线。当协调集群的所有网络都准备好进入睡眠状态或已经处
于总线睡眠模式时，NM协调器应在所有唤醒的网络上启动协调关机。协调关机
的目的是使集群中唤醒的网络同步关闭。NmIf协调功能的支持是可选的。NmIf
可以仅支持基本功能，也可以同时支持基本功能和NM 协调功能。</p>
<p>The basic function of NmIf is to serve as an adaptation layer between the AUTOSAR ComM module and AUTOSAR bus-specific network management modules (such as CAN network management and Ethernet network management). Another function of NmIf is the coordination function. The NM coordinator function used by gateway ECUs can synchronously shut down one or more buses. When all networks in the coordination cluster are ready to enter the sleep state or are already in the bus sleep mode, the NM coordinator shall initiate a coordinated shutdown on all awakened networks. The purpose of the coordinated shutdown is to synchronously shut down the awakened networks in the cluster. Support for the NmIf coordination function is optional. NmIf can support only the basic function, or both the basic function and the NM coordination function.</p>
<figure class="align-center" id="id17">
<img alt="NmIf 在 AUTOSAR中 的位置" src="../../../_images/%E6%A8%A1%E5%9D%97%E5%B1%82%E6%AC%A1%E5%9B%BE1.png" />
<figcaption>
<p><span class="caption-text">NmIf 在 AUTOSAR中 的位置</span><a class="headerlink" href="#id17" title="Link to this image">¶</a></p>
<div class="legend">
<p>Position of NmIf in AUTOSAR</p>
</div>
</figcaption>
</figure>
</section>
<section id="functional-description">
<h2>功能描述（Functional Description）<a class="headerlink" href="#functional-description" title="Link to this heading">¶</a></h2>
<section id="features">
<h3>特性（Features）<a class="headerlink" href="#features" title="Link to this heading">¶</a></h3>
<section id="basic-functions">
<h4>基本功能（Basic Functions）<a class="headerlink" href="#basic-functions" title="Link to this heading">¶</a></h4>
<p>Nm 模块完成基本功能的原理是通过调用BusNm模块的接口和ComM模块
的接口来实现的，以网络请求功能为例，ComM需要请求网络时，调用Nm模块
的网络请求API，由Nm模块调用相应总线的网络请求API，从而简化上层对不
同总线类型的网络请求。</p>
<p>The principle by which the Nm module accomplishes its basic functions is through calling the interfaces of the BusNm module and the ComM module. Taking the network request function as an example, when the ComM needs to request a network, it calls the network request API of the Nm module, and the Nm module then calls the corresponding bus-specific network request API, thereby simplifying network requests from the upper layer for different bus types.</p>
</section>
<section id="coordinated-shutdown-algorithm">
<h4>协调关闭算法（Coordinated Shutdown Algorithm）<a class="headerlink" href="#coordinated-shutdown-algorithm" title="Link to this heading">¶</a></h4>
<p>当NmCoordinatorSupportEnabled 使能时，Nm 启用网络协调功能。NM 协调器
功能是一种使用协调算法，来协调所有或ECU所连接的总线的一个或多个独
集群上的NM，使其协调关闭的功能。协调关闭的目的是为了使当前集群中所有
channel 对应的网络尽可能在同一时间关闭网络，如果集群中有的channel还未释
放网络，那么需要保证集群中的所有channel都请求着网络。</p>
<p>When NmCoordinatorSupportEnabled is activated, the Nm enables the network coordination function. The NM coordinator function is a function that uses a coordination algorithm to coordinate the NM on all or one or more independent clusters of buses connected to the ECU, enabling their coordinated shutdown. The purpose of coordinated shutdown is to ensure that all networks corresponding to channels in the current cluster shut down as simultaneously as possible. If some channels in the cluster have not yet released the network, it is necessary to ensure that all channels in the cluster are requesting the network.</p>
<p>协调关闭只能在协调集群的当前唤醒网络中进行协调。已经处于“总线睡眠模式”的网络仍应受到监
控，但不能进行协调。特定于总线的Nm 将通过调用回调函数
Nm_RemoteSleepIndication 和 Nm_RemoteSleepCancellation 指示总线是否准备好
进入睡眠状态。本地ECU 将使用 API 函数 Nm_NetworkRelease 和
Nm_NetworkRequest 指示底层是否准备好进入Readysleep 状态。如果channel被
配置为 SleepMaster，Nm 协调器认为该总线可以随时进入睡眠，而不需要等待
Nm_RemoteSleepIndication 的调用。</p>
<p>Coordinated shutdown can only be performed on the currently awakened networks in the coordination cluster. Networks already in “bus sleep mode” should still be monitored but cannot be coordinated. The bus-specific Nm will indicate whether the bus is ready to enter sleep mode by calling the callback functions Nm_RemoteSleepIndication and Nm_RemoteSleepCancellation. The local ECU will use the API functions Nm_NetworkRelease and Nm_NetworkRequest to indicate whether the underlying layer is ready to enter the ReadySleep state. If a channel is configured as SleepMaster, the Nm coordinator considers that the bus can enter sleep mode at any time without waiting for the call of Nm_RemoteSleepIndication.</p>
<p>非嵌套子网的协调关闭过程如下：当ComM调用Nm_NetworkRelease函数，
请求释放网络时，这个时候Nm 协调功能并不会调用 BusNm 的
BusNm_NetworkRelease 函数释放网络，而是需要在接收到
Nm_RemoteSleepIndication 的函数通知后，启动协调关闭定时器计时。协调关闭
定时器的作用是，如果各总线配置的从Readysleep状态进入到BusSleep状态的
时间不一样，协调关闭定时器可以做为一个补充定时器，以达到使各总线同步进
入休眠状态。定时器应设置为NmGlobalCoordinatorTime。 如果 NmBusType 未设
置为NM_BUSNM_LOCALNM，则应减去特定通道TSHUTDOWN_CHANNEL
的关闭时间。如果NmGlobalCoordinatorTime 为零，则所有通道的关闭延迟计时
器也应为零。当定时器超时后，Nm会调用BusNm_RequestBusSynchronization函
数，然后调用BusNm_NetworkRelease 函数释放底层网络。
TSHUTDOWN_CHANNEL时间计算：
CanNm: Ready Sleep Time + Prepare BusSleep Time
UdpNm: Ready Sleep Time + Prepare BusSleep Time</p>
<p>The coordinated shutdown process for non-nested subnets is as follows: When the ComM calls the Nm_NetworkRelease function to request network release, the Nm coordination function does not immediately call the BusNm_NetworkRelease function of BusNm to release the network. Instead, it starts the coordinated shutdown timer after receiving the notification from the Nm_RemoteSleepIndication function. The role of the coordinated shutdown timer is to serve as a supplementary timer if the time taken by each bus to transition from the ReadySleep state to the BusSleep state is different, ensuring that all buses enter the sleep state synchronously. The timer should be set to NmGlobalCoordinatorTime. If NmBusType is not set to NM_BUSNM_LOCALNM, the shutdown time of the specific channel TSHUTDOWN_CHANNEL should be subtracted. If NmGlobalCoordinatorTime is zero, the shutdown delay timers for all channels should also be zero. When the timer expires, the Nm will call the BusNm_RequestBusSynchronization function, followed by the BusNm_NetworkRelease function to release the underlying network.
TSHUTDOWN_CHANNEL time calculation:
CanNm: Ready Sleep Time + Prepare BusSleep Time
UdpNm: Ready Sleep Time + Prepare BusSleep Time</p>
<figure class="align-center" id="id18">
<img alt="协调算法" src="../../../_images/%E5%8D%8F%E8%B0%83%E7%AE%97%E6%B3%95.png" />
<figcaption>
<p><span class="caption-text">协调算法</span><a class="headerlink" href="#id18" title="Link to this image">¶</a></p>
<div class="legend">
<p>Coordination Algorithm</p>
</div>
</figcaption>
</figure>
<p>NmCoordinatorSyncSupport使能时，打开嵌套子网功能。</p>
<p>When NmCoordinatorSyncSupport is enabled, the nested subnet function is activated.</p>
<figure class="align-center" id="id19">
<img alt="嵌套子网示例图" src="../../../_images/%E5%B5%8C%E5%A5%97%E5%AD%90%E7%BD%91%E7%A4%BA%E4%BE%8B%E5%9B%BE.png" />
<figcaption>
<p><span class="caption-text">嵌套子网示例图</span><a class="headerlink" href="#id19" title="Link to this image">¶</a></p>
<div class="legend">
<p>Example Diagram of Nested Subnets</p>
</div>
</figcaption>
</figure>
<p>嵌套子网的协调关闭过程如下：嵌套子网会有一个topmost协调器负责启动其他协调器协调关闭，topmost在配置上的表现为集群中的所有channel的NmActiveCoordinator都配置为TRUE。（NmActiveCoordinator=TRUE，表示ActiveCoordinator通道, NmActiveCoordinator= FALSE，表示PassiveCoordinator通道。）而其他非topmost的协调器只有一个ActiveCoordinator通道，其余均为PassiveCoordinator通道，当topmost满足协调关闭的条件时，会在它的所有channel上调用BusNm_SetSleepReadyBit函数设置协调睡眠就绪位的值为1（CBV中Bit3=1），当其他协调器在PassiveCoordinator通道上接收到协调关闭的指令时，将在它的所有ActiveCoordinator通道上将指令转发出去。
总结，对于非topmost的节点，嵌套子网的协调集群的所有网络都准备好进入睡眠状态的条件是：</p>
<p>The coordinated shutdown process for nested subnets is as follows: A nested subnet will have a topmost coordinator responsible for initiating coordinated shutdowns by other coordinators. In terms of configuration, a topmost coordinator is characterized by all channels in the cluster having NmActiveCoordinator configured as TRUE. (NmActiveCoordinator = TRUE indicates an ActiveCoordinator channel; NmActiveCoordinator = FALSE indicates a PassiveCoordinator channel.) Other non-topmost coordinators have only one ActiveCoordinator channel, with the rest being PassiveCoordinator channels. When the topmost coordinator meets the conditions for coordinated shutdown, it will call the BusNm_SetSleepReadyBit function on all its channels to set the coordinated sleep ready bit to 1 (Bit3 = 1 in CBV). When other coordinators receive the coordinated shutdown instruction on their PassiveCoordinator channels, they will forward the instruction on all their ActiveCoordinator channels.
In summary, for non-topmost nodes, the conditions for all networks in the coordinated cluster of a nested subnet to be ready to enter the sleep state are:</p>
<ol class="arabic">
<li><p>ComM请求释放所有网络。</p>
<p>ComM requests the release of all networks.</p>
</li>
<li><p>NmActiveCoordinator =TRUE的channel接收到底层BusNm的RemoteSleepIndication通知指令和CBV中Bit3=1（Bit3为协调睡眠就绪位）的网络管理报文的通知指令。</p>
<p>The channel with NmActiveCoordinator = TRUE receives the RemoteSleepIndication notification instruction from the underlying BusNm and the notification instruction of the network management message with Bit3 = 1 in CBV (Bit3 is the coordinated sleep ready bit).</p>
</li>
<li><p>NmActiveCoordinator =FALSE的channel接收到CBV中Bit3=1（Bit3为协调睡眠就绪位）的网络管理报文的通知指令。</p>
<p>The channel with NmActiveCoordinator = FALSE receives the notification instruction of the network management message with Bit3 = 1 in CBV (Bit3 is the coordinated sleep ready bit).</p>
</li>
<li><p>如果使能了NmSynchronizingNetwork，要等待底层调用Nm_SynchronizationPoint接口(FrNm网络)。</p>
<p>If NmSynchronizingNetwork is enabled, wait for the underlying layer to call the Nm_SynchronizationPoint interface (FrNm network).</p>
</li>
</ol>
<p>对于topmost，嵌套子网的协调集群的所有网络都准备好进入睡眠状态的条件是：</p>
<p>For the topmost node, the conditions for all networks in the coordinated cluster of a nested subnet to be ready to enter the sleep state are:</p>
<ol class="arabic">
<li><p>ComM请求释放所有网络。</p>
<p>ComM requests the release of all networks.</p>
</li>
<li><p>接收到底层BusNm的RemoteSleepIndication通知指令。</p>
<p>Receives the RemoteSleepIndication notification instruction from the underlying BusNm.</p>
</li>
<li><p>如果使能了NmSynchronizingNetwork，要等待底层调用Nm_SynchronizationPoint接口(FrNm网络)。</p>
<p>If NmSynchronizingNetwork is enabled, wait for the underlying layer to call the Nm_SynchronizationPoint interface (FrNm network).</p>
</li>
</ol>
<section id="abort-of-coordinated-shutdown">
<h5>协调关闭中止（Abort of Coordinated Shutdown）<a class="headerlink" href="#abort-of-coordinated-shutdown" title="Link to this heading">¶</a></h5>
<p>对于嵌套子网和非嵌套子网，如果该NM协调群集中的任何网络有如下行为则应终止协调关闭：</p>
<p>For both nested and non-nested subnets, the coordinated shutdown shall be aborted if any network in the NM coordination cluster exhibits the following behaviors:</p>
<ol class="arabic">
<li><p>BusNm模块调用Nm_RemoteSleepCancellation（），场景为：在BusNm的Normal Operation State或Ready Sleep State又收到报文了。</p>
<p>The BusNm module calls Nm_RemoteSleepCancellation(), which occurs when a message is received again while BusNm is in the Normal Operation State or Ready Sleep State.</p>
</li>
<li><p>指示Nm_NetworkMode（），场景为：BusNm在Prepare Bus-Sleep Mode下又收到报文了。</p>
<p>Indicates Nm_NetworkMode(), which occurs when BusNm receives a message again while in the Prepare Bus-Sleep Mode.</p>
</li>
<li><p>BusNm模块调用Nm_CoordReadyToSleepCancellation（），场景为：BusNm收到了CBV中Bit3=0的报文。</p>
<p>The BusNm module calls Nm_CoordReadyToSleepCancellation(), which occurs when BusNm receives a message with Bit3 = 0 in CBV.</p>
</li>
<li><p>ComM使用Nm_NetworkRequest（）或Nm_PassiveStartUp（）请求网络，场景为：ComM重新请求通信。</p>
<p>ComM requests the network using Nm_NetworkRequest() or Nm_PassiveStartUp(), which occurs when ComM re-requests communication.</p>
</li>
</ol>
<p>另外：</p>
<p>In addition:</p>
<ol class="arabic">
<li><p>如果由于任何原因中止了协调关机，则NM Coordinator应调用对所有活动协调通道上的&lt;BusNm&gt;_SetSleepReadyBit的API将NMCoordinatorSleepReady位设置为UNSET（0）。</p>
<p>If the coordinated shutdown is aborted for any reason, the NM Coordinator shall call the &lt;BusNm&gt;_SetSleepReadyBit API on all active coordination channels to set the NMCoordinatorSleepReady bit to UNSET (0).</p>
</li>
<li><p>如果在被动协调的信道上收到Nm_CoordReadyToSleepCancellation（），则NmCoordinator应通过在所有主动协调的信道上通过调用&lt;BusNm&gt; _SetSleepReadyBit的API将NMCoordinatorSleepReady位设置为UNSET（0）。</p>
<p>If Nm_CoordReadyToSleepCancellation() is received on a passively coordinated channel, the NmCoordinator shall set the NMCoordinatorSleepReady bit to UNSET (0) by calling the &lt;BusNm&gt;_SetSleepReadyBit API on all actively coordinated channels.</p>
</li>
<li><p>如果协调关机被中止，则NM协调器应针对已经指示“总线睡眠”的所有网络调用ComM_Nm_RestartIndication（）。</p>
<p>If the coordinated shutdown is aborted, the NM coordinator shall call ComM_Nm_RestartIndication() for all networks that have indicated “bus sleep”.</p>
</li>
<li><p>如果协调关机被中止，则在BusNmType未设置为NM_BUSNM_LOCALNM的情况下，NM Coordinator将应向未指示“总线睡眠”的网络请求网络。</p>
<p>If the coordinated shutdown is aborted, and BusNmType is not set to NM_BUSNM_LOCALNM, the NM Coordinator shall request the network for networks that have not indicated “bus sleep”.</p>
</li>
<li><p>如果BusNmType设置为NM_BUSNM_LOCALNM，则Nm应通过调用ComM_Nm_NetworkMode（）来通知ComM网络启动。</p>
<p>If BusNmType is set to NM_BUSNM_LOCALNM, Nm shall notify ComM of network startup by calling ComM_Nm_NetworkMode().</p>
</li>
<li><p>如果协调算法已中止，则应重新评估保护协调关闭启动的所有条件。</p>
<p>If the coordination algorithm is aborted, all conditions that protect the initiation of coordinated shutdown shall be re-evaluated.</p>
</li>
</ol>
</section>
</section>
<section id="partial-network-management-functions">
<h4>部分网络管理功能（Partial Network Management Functions）<a class="headerlink" href="#partial-network-management-functions" title="Link to this heading">¶</a></h4>
<section id="pn-pn-filtering">
<h5>PN过滤（PN Filtering）<a class="headerlink" href="#pn-pn-filtering" title="Link to this heading">¶</a></h5>
<p>PNC是Partial Network Cluster的缩写，它是指为了在车辆网络中支持一个或多个车辆功能而由多个ECU构成的集群。PNC 对应的bit数值为1，则表示当前PN网络被请求，为0则表示网络释放。
通过配置参数NmPnFilterMaskByte，Nm可以检测到哪个PN与ECU相关，而哪个与PN不相关。
NmPnFilterMaskByte的每个位具有以下含义：</p>
<p>PNC is the abbreviation of Partial Network Cluster, which refers to a cluster composed of multiple ECUs to support one or more vehicle functions in the vehicle network. A PNC corresponding to a bit value of 1 indicates that the current PN network is requested; a value of 0 indicates that the network is released.
By configuring the parameter NmPnFilterMaskByte, Nm can detect which PN is related to the ECU and which is not.
Each bit of NmPnFilterMaskByte has the following meanings:</p>
<p>0 PN请求与本ECU无关。如果接收的NM PDU中将该位置设置为1，也无法使ECU的通讯栈处于唤醒状态，因为该位的请求与本ECU是无关的。
1 PN请求与本ECU有关。如果已在接收的NM-PDU中将该位置设置为1，则ECU的通信堆栈将保持唤醒状态。
如果至少有一位与本ECU相关的PN请求，那么这条Nm PDU对于Nm来说就是有用的，需要进行处理，如果没有一位与本ECU相关的PN请求，那么这条NM PDU将被忽略。</p>
<p>0: The PN request is irrelevant to the ECU. If this bit is set to 1 in the received NM PDU, it cannot wake up the ECU’s communication stack because the request of this bit is irrelevant to the ECU.
1: The PN request is relevant to the ECU. If this bit is set to 1 in the received NM-PDU, the ECU’s communication stack will remain in the wake-up state.
If there is at least one PN request related to the ECU, this Nm PDU is useful for Nm and needs to be processed; if there is no PN request related to the ECU, this NM PDU will be ignored.</p>
</section>
<section id="eraeira">
<h5>ERA与EIRA<a class="headerlink" href="#eraeira" title="Link to this heading">¶</a></h5>
<p>ERA是指ECU外部的PN请求的聚合，当NmPnEraCalcEnabled使能(配置参数)，表示支持ERA功能。而EIRA是指ECU内部和外部Pn请求的聚合，当NmPnEiraCalcEnabled使能(配置参数)，表示支持EIRA功能。
ERA是在网关节点才使用，此时没有内部的请求，只有不同的Channel对Pn的外部请求，ERA会为每个channel的每个PN位都设置一个监测的定时器，当NmPnResetTime(配置参数)时间内未请求PN，则将该PN的请求状态设置为未请求，
每次请求状态有变化的时候都会通知上层ComM。</p>
<p>ERA refers to the aggregation of PN requests external to the ECU. When NmPnEraCalcEnabled is enabled (a configuration parameter), it indicates support for the ERA function. EIRA refers to the aggregation of internal and external Pn requests of the ECU. When NmPnEiraCalcEnabled is enabled (a configuration parameter), it indicates support for the EIRA function.
ERA is only used in gateway nodes, where there are no internal requests, only external PN requests from different Channels. ERA will set a monitoring timer for each PN bit of each channel. If no PN is requested within the NmPnResetTime (a configuration parameter), the request status of that PN will be set to unrequested, and the upper layer ComM will be notified whenever the request status changes.
EIRA reflects the request and release status of a certain PNC by the current node and other nodes on the network; EIRA does not distinguish between physical Channels, only targeting different PNs. EIRA will set a monitoring timer for each PN bit. If no PN is requested within the NmPnResetTime (a configuration parameter), the request status of that PN will be set to unrequested, and the upper layer ComM will be notified whenever the request status changes.</p>
<p>EIRA体现了当前节点与网络上其他节点对某一个PNC的请求与释放情况；EIRA不区分物理Channel，只针对不同的PN。EIRA会为每个PN位都设置一个监测的定时器，当NmPnResetTime(配置参数)时间内未请求PN，
则将该PN的请求状态设置为未请求，每次请求状态有变化的时候都会通知上层ComM。</p>
<p>EIRA reflects the status of requests for and releases of a specific PNC by the current node and other nodes on the network; EIRA does not distinguish between physical channels and only targets different PNs. EIRA will set a monitoring timer for each PN bit. If no PN is requested within the duration of NmPnResetTime (a configuration parameter), the request status of that PN will be set to “unrequested”. The upper-layer ComM will be notified whenever there is a change in the request status.</p>
<p>具体流程可参考下图：</p>
<p>Please refer to the following figure for the specific process:</p>
<figure class="align-center" id="id20">
<img alt="Nm_partial_network_functionality_part1" src="../../../_images/Nm_partial_network_functionality_part1.png" />
<figcaption>
<p><span class="caption-text">Nm_partial_network_functionality_part1</span><a class="headerlink" href="#id20" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id21">
<img alt="Nm_partial_network_functionality_part2" src="../../../_images/Nm_partial_network_functionality_part2.png" />
<figcaption>
<p><span class="caption-text">Nm_partial_network_functionality_part2</span><a class="headerlink" href="#id21" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="deviations">
<h3>偏差（Deviations）<a class="headerlink" href="#deviations" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p>不支持NmSynchronizedPncShutdown</p>
<p>因为该功能还未开发，将在后续版本中进行开发。</p>
<p>Does not support NmSynchronizedPncShutdown</p>
<p>This function has not yet been developed and will be developed in subsequent versions.</p>
</li>
</ol>
</section>
<section id="expansion">
<h3>扩展（Expansion）<a class="headerlink" href="#expansion" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
</section>
<section id="integration">
<h2>集成（Integration）<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
<section id="file-list">
<h3>文件列表（File List）<a class="headerlink" href="#file-list" title="Link to this heading">¶</a></h3>
<section id="static-files">
<h4>静态文件（Static Files）<a class="headerlink" href="#static-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件（File）</p></th>
<th class="head"><p>描述（Description）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Nm.h</p></td>
<td><p>Nm模块头文件，通过加载该头文件访问Nm公开的函数和数据类型</p>
<p>Nm module header files, through which the public functions and data types of Nm can be accessed by including the header files.</p>
</td>
</tr>
<tr class="row-odd"><td><p>NmStack_Types.h</p></td>
<td><p>Nm外部数据类型</p>
<p>Nm external data types</p>
</td>
</tr>
<tr class="row-even"><td><p>Nm_Internal.h</p></td>
<td><p>Nm模块运行时类型定义，内部宏定义头文件</p>
<p>Header file for Nm module runtime type definitions and internal macro definitions</p>
</td>
</tr>
<tr class="row-odd"><td><p>Nm.c</p></td>
<td><p>Nm模块实现源文件，各API实现在该文件中</p>
<p>Nm module implementation source file, where all API implementations are located</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="dynamic-files">
<h4>动态文件（Dynamic Files）<a class="headerlink" href="#dynamic-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件（File）</p></th>
<th class="head"><p>描述（Description）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Nm_Cfg.h</p></td>
<td><p>用于定义Nm模块预编译时用到的宏。</p>
<p>Used to define macros used by the Nm module during pre-compilation.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Nm_Lcfg.c</p></td>
<td><p>Link time配置参数</p>
<p>Link time configuration parameters</p>
</td>
</tr>
<tr class="row-even"><td><p>Nm_PBcfg.c</p></td>
<td><p>Post build配置参数</p>
<p>Post build configuration parameters</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="error-handling">
<h3>错误处理（Error handling）<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<section id="development-errors">
<h4>开发错误（Development errors）<a class="headerlink" href="#development-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NM_E_UNINIT</p></td>
<td><p>0x00</p></td>
<td><p>API service used without Nm interface initialization.</p></td>
</tr>
<tr class="row-odd"><td><p>NM_E_INVALID_CHANNEL</p></td>
<td><p>0x01</p></td>
<td><p>API Service called with wrong parameter but not with NULL-pointer.</p></td>
</tr>
<tr class="row-even"><td><p>NM_E_PARAM_POINTER</p></td>
<td><p>0x02</p></td>
<td><p>API service called with a NULL pointer.</p></td>
</tr>
<tr class="row-odd"><td><p>NM_E_ALREADY_INITIALIZED</p></td>
<td><p>0x03</p></td>
<td><p>Nm_Init was called multiple times.</p></td>
</tr>
<tr class="row-even"><td><p>NM_E_INVALID_PARTITION_CONTEXT</p></td>
<td><p>0x0F</p></td>
<td><p>API service used on wrong partitions.</p></td>
</tr>
<tr class="row-odd"><td><p>NM_E_NO_ERROR</p></td>
<td><p>0xFF</p></td>
<td><p>API service called with no errors.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="product-errors">
<h4>产品错误（Product Errors）<a class="headerlink" href="#product-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
<section id="runtime-error">
<h4>运行时错误（Runtime error）<a class="headerlink" href="#runtime-error" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
</section>
</section>
<section id="interface-description">
<h2>接口描述（Interface Description）<a class="headerlink" href="#interface-description" title="Link to this heading">¶</a></h2>
<section id="type-definition">
<h3>类型定义（Type definition）<a class="headerlink" href="#type-definition" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 37.5%" />
<col style="width: 12.5%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Nm_ChannelIndexType</p></td>
<td><p>uint8</p></td>
<td><p>the type used to indicate the index of channel.</p></td>
</tr>
<tr class="row-odd"><td><p>Nm_FuncCycTimeType</p></td>
<td><p>uint16</p></td>
<td><p>the type used to indicate the period of mainfunction.</p></td>
</tr>
<tr class="row-even"><td><p>Nm_ShutDownTimeType</p></td>
<td><p>uint16</p></td>
<td><p>the type used to indicate the time of shutdown timer.</p></td>
</tr>
<tr class="row-odd"><td><p>Nm_ConfigType</p></td>
<td><p>struct</p></td>
<td><p>post-build configuration parameter type definitions.</p></td>
</tr>
<tr class="row-even"><td><p>Nm_ModeType</p></td>
<td><p>enum</p></td>
<td><p>Operational modes of the network management.</p></td>
</tr>
<tr class="row-odd"><td><p>Nm_StateType</p></td>
<td><p>enum</p></td>
<td><p>States of the network management state machine.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="provided-service">
<h3>提供的服务（ Provided service）<a class="headerlink" href="#provided-service" title="Link to this heading">¶</a></h3>
<section id="nm-init">
<h4>Nm_Init<a class="headerlink" href="#nm-init" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_Init</span><span class="p">(</span><span class="n">const</span> <span class="n">Nm_ConfigType</span> <span class="o">*</span><span class="n">configPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>This function initializes the NM.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>configPtr</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Passive startup of network management has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-passivestartup">
<h4>Nm_PassiveStartUp<a class="headerlink" href="#nm-passivestartup" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_PassiveStartUp</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>This function calls the BusNm PassiveStartUp function.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same networkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Passive startup of network management has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-networkrequest">
<h4>Nm_NetworkRequest<a class="headerlink" href="#nm-networkrequest" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_NetworkRequest</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>This function calls the &lt;BusNm&gt;_NetworkRequest function.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Requesting of bus communication has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-networkrelease">
<h4>Nm_NetworkRelease<a class="headerlink" href="#nm-networkrelease" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_NetworkRelease</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>This function calls the &lt;BusNm&gt;_NetworkRelease function.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same networkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Releasing of bus communication has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-disablecommunication">
<h4>Nm_DisableCommunication<a class="headerlink" href="#nm-disablecommunication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_DisableCommunication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>disables the NM PDU transmission ability.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Disabling of NM PDU transmission ability has</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-enablecommunication">
<h4>Nm_EnableCommunication<a class="headerlink" href="#nm-enablecommunication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_EnableCommunication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Enables the NM PDU transmission ability.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same networkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Enabling of NM PDU transmission ability has</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-setuserdata">
<h4>Nm_SetUserData<a class="headerlink" href="#nm-setuserdata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_SetUserData</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmUserDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Set user data for NM messages transmitted next on the bus.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>nmUserDataPtr</p></td>
<td><p>User data for the next transmitted NM message</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Setting of user data has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-getuserdata">
<h4>Nm_GetUserData<a class="headerlink" href="#nm-getuserdata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_GetUserData</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmUserDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Get user data out of the last successfully received NM message.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same networkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmUserDataPtr</p></td>
<td><p>User data for the next transmitted NM message</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of user data has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-getpdudata">
<h4>Nm_GetPduData<a class="headerlink" href="#nm-getpdudata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_GetPduData</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmPduData</span><span class="p">)</span>
</pre></div>
</div>
<p>Get the whole PDU data out of the most recently received NM message. For that purpose &lt;BusNm&gt;_GetPduData shall be called in case NmBusType is not set to NM_BUSNM_LOCALNM. (e.g. CanNm_GetPduData function is called if channel is configured as CAN).</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmPduData</p></td>
<td><p>Pointer where NM PDU shall be copied to.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of NM PDU data has failed NetworkHandle does not exist (development only) Module not yet initialized (development only)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-repeatmessagerequest">
<h4>Nm_RepeatMessageRequest<a class="headerlink" href="#nm-repeatmessagerequest" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_RepeatMessageRequest</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Set Repeat Message Request Bit for NM messages transmitted next on the bus. For that purpose &lt;Bus&gt;Nm_RepeatMessageRequest shall be called in case NmBusType is not set to NM_BUSNM_LOCALNM. (e.g. CanNm_RepeatMessageRequest function is called if channel is configured as CAN). This will force all nodes on the bus to transmit NM messages so that they can be identified.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same networkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Setting of Repeat Message Request Bit has failed networkHandle does not exist (development only) Module not yet initialized (development only)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-getnodeidentifier">
<h4>Nm_GetNodeIdentifier<a class="headerlink" href="#nm-getnodeidentifier" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_GetNodeIdentifier</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmNodeIdPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Get node identifier out of the last successfully received NM-message. The function &lt;Bus&gt;Nm_GetNodeIdentifier shall be called in case NmBusType is not set to NM_BUSNM_LOCALNM. (e.g. CanNm_GetNodeIdentifier function is called if channel is configured as CAN).</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmNodeIdPtr</p></td>
<td><p>Pointer where node identifier out of the last successfully received NM-message shall be</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of the node identifier out of the last received NM-message has failed NetworkHandle does not exist (development only) Module not yet initialized (development only)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-getlocalnodeidentifier">
<h4>Nm_GetLocalNodeIdentifier<a class="headerlink" href="#nm-getlocalnodeidentifier" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_GetLocalNodeIdentifier</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">nmNodeIdPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Get node identifier configured for the local node. For that purpose &lt;Bus&gt;Nm_GetLocalNodeIdentifier shall be called in case NmBusType is not set to NM_BUSNM_LOCALNM. (e.g. CanNm_GetLocalNodeIdentifier function is called if channel is configured as CAN).</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmNodeIdPtr</p></td>
<td><p>Pointer where node identifier out of the last successfully received NM-message shall be copied to</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of the node identifier of the local node has failed NetworkHandle does not exist (development only) Module not yet initialized (development only)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-checkremotesleepindication">
<h4>Nm_CheckRemoteSleepIndication<a class="headerlink" href="#nm-checkremotesleepindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_CheckRemoteSleepIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">boolean</span> <span class="o">*</span><span class="n">remoteSleepIndPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Check if remote sleep indication takes place or not.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same networkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>remoteSleepIndPtr</p></td>
<td><p>Pointer where check result of remote</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Checking of remote sleep indication bits has failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-getstate">
<h4>Nm_GetState<a class="headerlink" href="#nm-getstate" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">Nm_GetState</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">,</span> <span class="n">Nm_StateType</span> <span class="o">*</span><span class="n">nmStatePtr</span><span class="p">,</span> <span class="n">Nm_ModeType</span> <span class="o">*</span><span class="n">nmModePtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the state of the network management. The function &lt;Bus&gt;Nm_GetState shall be called in case NmBusType is not set to NM_BUSNM_LOCALNM. (e.g. CanNm_GetState function is called if channel is configured as CAN).</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>nmStatePtr</p></td>
<td><p>Pointer where state of the network management</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>nmModePtr</p></td>
<td><p>Pointer to the location where the mode of the network management shall be copied to</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Getting of NM state has failed NetworkHandle does not exist (development only) Module not yet initialized (development only)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="nm-getversioninfo">
<h4>Nm_GetVersionInfo<a class="headerlink" href="#nm-getversioninfo" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_GetVersionInfo</span><span class="p">(</span><span class="n">Std_VersionInfoType</span> <span class="o">*</span><span class="n">nmVerInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>This service returns the version information of this module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>nmVerInfoPtr</p></td>
<td><p>Pointer to where to store the version information</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-networkstartindication">
<h4>Nm_NetworkStartIndication<a class="headerlink" href="#nm-networkstartindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_NetworkStartIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that a NM-message has been received in the Bus-Sleep Mode, what indicates that some nodes in the network have already entered the Network Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-networkmode">
<h4>Nm_NetworkMode<a class="headerlink" href="#nm-networkmode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_NetworkMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Network Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-bussleepmode">
<h4>Nm_BusSleepMode<a class="headerlink" href="#nm-bussleepmode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_BusSleepMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-preparebussleepmode">
<h4>Nm_PrepareBusSleepMode<a class="headerlink" href="#nm-preparebussleepmode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_PrepareBusSleepMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Prepare Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-remotesleepindication">
<h4>Nm_RemoteSleepIndication<a class="headerlink" href="#nm-remotesleepindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_RemoteSleepIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has detected that all other nodes on the network are ready to enter Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-remotesleepcancellation">
<h4>Nm_RemoteSleepCancellation<a class="headerlink" href="#nm-remotesleepcancellation" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_RemoteSleepCancellation</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has detected that not all other nodes on the network are longer ready to enter Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-synchronizationpoint">
<h4>Nm_SynchronizationPoint<a class="headerlink" href="#nm-synchronizationpoint" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_SynchronizationPoint</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification to the NM Coordinator functionality that this is a suitable point in time to initiate the coordinated shutdown on.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-coordreadytosleepindication">
<h4>Nm_CoordReadyToSleepIndication<a class="headerlink" href="#nm-coordreadytosleepindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_CoordReadyToSleepIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets an indication, when the NM Coordinator Sleep Ready bit in the Control Bit Vector is set.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-coordreadytosleepcancellation">
<h4>Nm_CoordReadyToSleepCancellation<a class="headerlink" href="#nm-coordreadytosleepcancellation" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_CoordReadyToSleepCancellation</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Cancels an indication, when the NM Coordinator Sleep Ready bit in the Control Bit Vector is set back to 0.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-pdurxindication">
<h4>Nm_PduRxIndication<a class="headerlink" href="#nm-pdurxindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_PduRxIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that a NM message has been received.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-statechangenotification">
<h4>Nm_StateChangeNotification<a class="headerlink" href="#nm-statechangenotification" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_StateChangeNotification</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">,</span> <span class="n">Nm_StateType</span> <span class="n">nmPreviousState</span><span class="p">,</span> <span class="n">Nm_StateType</span> <span class="n">nmCurrentState</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the state of the lower layer &lt;Bus&gt;Nm has changed.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>nmPreviousState</p></td>
<td><p>previous state of the NM-channel</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmCurrentState</p></td>
<td><p>current state of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-repeatmessageindication">
<h4>Nm_RepeatMessageIndication<a class="headerlink" href="#nm-repeatmessageindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_RepeatMessageIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to indicate that an NM message with set Repeat Message Request Bit has been received.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-txtimeoutexception">
<h4>Nm_TxTimeoutException<a class="headerlink" href="#nm-txtimeoutexception" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_TxTimeoutException</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to indicate that an attempt to send an NM message failed.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-carwakeupindication">
<h4>Nm_CarWakeUpIndication<a class="headerlink" href="#nm-carwakeupindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_CarWakeUpIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is called by a &lt;Bus&gt;Nm to indicate reception of a CWU request.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-mainfunction">
<h4>Nm_MainFunction<a class="headerlink" href="#nm-mainfunction" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_MainFunction</span><span class="p">(</span><span class="n">uint8</span> <span class="n">chIdx</span><span class="p">)</span>
</pre></div>
</div>
<p>implements the processes of the NM Interface which need a fix cyclic scheduling.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Asynchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>chIdx</p></td>
<td><p>the configured channel index</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-synchronizemode">
<h4>Nm_SynchronizeMode<a class="headerlink" href="#nm-synchronizemode" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_SynchronizeMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Synchronize Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-updateira">
<h4>Nm_UpdateIRA<a class="headerlink" href="#nm-updateira" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_UpdateIRA</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">pncBitVectorPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Indication by ComM of internal PNC requests. This is used to aggregate the internal PNC requests.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant for the same NetworkHandle, reentrant otherwise</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>pncBitVectorPtr</p></td>
<td><p>Pointer to the bit vector with all PNC bits set to “1” of internal requested PNCs (IRA)</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-pncbitvectortxindication">
<h4>Nm_PncBitVectorTxIndication<a class="headerlink" href="#nm-pncbitvectortxindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_PncBitVectorTxIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">pncBitVectorPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Function called by &lt;Bus&gt;Nms to request the aggregated internal PNC requests for transmission within the Nm message.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous (Non-reentrant for the same NetworkHandle, reentrant otherwise)</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant for the same NetworkHandle, reentrant otherwise</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>pncBitVectorPtr</p></td>
<td><p>Pointer to the bit vector with all PNC bits set to 1 of internal requested PNCs</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="nm-pncbitvectorrxindication">
<h4>Nm_PncBitVectorRxIndication<a class="headerlink" href="#nm-pncbitvectorrxindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_PncBitVectorRxIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">networkHandle</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">pncBitVectorPtr</span><span class="p">,</span> <span class="n">boolean</span> <span class="o">*</span><span class="n">relevantPncRequestDetectedPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>The function evaluate if a relevant PNC request (PNC bit set to ’1’) is available in the given PNC bit vector.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous (Non-reentrant for the same networkHandle, reentrant otherwise)</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant for the same networkHandle, reentrant otherwise</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>networkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>pncBitVectorPtr</p></td>
<td><p>Pointer to the bit vector with all PNC bits set to “1” of external requested PNCs</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>relevantPncRequestDetectedPtr</p></td>
<td><p>Pointer to a boolean variable which indicates, if a relevant PNC request</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id1">
<h4>Nm_NetworkStartIndication<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_NetworkStartIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that a NM-message has been received in the Bus-Sleep Mode, what indicates that some nodes in the network have already entered the Network Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id2">
<h4>Nm_NetworkMode<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_NetworkMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Network Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id3">
<h4>Nm_BusSleepMode<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_BusSleepMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id4">
<h4>Nm_PrepareBusSleepMode<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_PrepareBusSleepMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Prepare Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id5">
<h4>Nm_RemoteSleepIndication<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_RemoteSleepIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has detected that all other nodes on the network are ready to enter Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id6">
<h4>Nm_RemoteSleepCancellation<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_RemoteSleepCancellation</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has detected that not all other nodes on the network are longer ready to enter Bus-Sleep Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id7">
<h4>Nm_SynchronizationPoint<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_SynchronizationPoint</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification to the NM Coordinator functionality that this is a suitable point in time to initiate the coordinated shutdown on.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id8">
<h4>Nm_CoordReadyToSleepIndication<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_CoordReadyToSleepIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets an indication, when the NM Coordinator Sleep Ready bit in the Control Bit Vector is set.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id9">
<h4>Nm_CoordReadyToSleepCancellation<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_CoordReadyToSleepCancellation</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Cancels an indication, when the NM Coordinator Sleep Ready bit in the Control Bit Vector is set back to 0.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id10">
<h4>Nm_PduRxIndication<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_PduRxIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that a NM message has been received.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id11">
<h4>Nm_StateChangeNotification<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_StateChangeNotification</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">,</span> <span class="n">Nm_StateType</span> <span class="n">nmPreviousState</span><span class="p">,</span> <span class="n">Nm_StateType</span> <span class="n">nmCurrentState</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the state of the lower layer &lt;Bus&gt;Nm has changed.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>nmPreviousState</p></td>
<td><p>previous state of the NM-channel</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmCurrentState</p></td>
<td><p>current state of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id12">
<h4>Nm_RepeatMessageIndication<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_RepeatMessageIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to indicate that an NM message with set Repeat Message Request Bit has been received.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id13">
<h4>Nm_TxTimeoutException<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_TxTimeoutException</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Service to indicate that an attempt to send an NM message failed.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id14">
<h4>Nm_CarWakeUpIndication<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_CarWakeUpIndication</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmChannelHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is called by a &lt;Bus&gt;Nm to indicate reception of a CWU request.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmChannelHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="id15">
<h4>Nm_SynchronizeMode<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_SynchronizeMode</span><span class="p">(</span><span class="n">NetworkHandleType</span> <span class="n">nmNetworkHandle</span><span class="p">)</span>
</pre></div>
</div>
<p>Notification that the network management has entered Synchronize Mode.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>nmNetworkHandle</p></td>
<td><p>Identification of the NM-channel</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
<section id="configuration-functions">
<h3>配置函数（Configuration Functions）<a class="headerlink" href="#configuration-functions" title="Link to this heading">¶</a></h3>
<section id="id16">
<h4>Nm_MainFunction<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">Nm_MainFunction_</span><span class="o">&lt;</span><span class="n">NmChannel</span><span class="o">.</span><span class="n">ShortName</span><span class="o">&gt;</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This function shall perform the processing of the AUTOSAR ComM activities that are not directly initiated by
the calls. e.g. from the RTE. There shall be one dedicated Main Function for each channel of ComM.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>Synchronous</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
<section id="dependent-services">
<h3>依赖的服务（Dependent Services）<a class="headerlink" href="#dependent-services" title="Link to this heading">¶</a></h3>
<section id="mandatory-interfaces">
<h4>强制接口（Mandatory Interfaces）<a class="headerlink" href="#mandatory-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ComM_Nm_BusSleepMode</p></td>
<td><p>ComM_Nm.h</p></td>
<td><p>Notification that the network management has entered Bus-Sleep Mode. This callback function should perform a transition of the hardware and
transceiver to bus-sleep mode.</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_Nm_NetworkMode</p></td>
<td><p>ComM_Nm.h</p></td>
<td><p>Notification that the network management has entered Network Mode.</p></td>
</tr>
<tr class="row-even"><td><p>ComM_Nm_NetworkStartIndication</p></td>
<td><p>ComM_Nm.h</p></td>
<td><p>Indication that a NM-message has been received in the Bus Sleep Mode, what indicates that some nodes in the network have already entered the Network Mode.</p></td>
</tr>
<tr class="row-odd"><td><p>ComM_Nm_PrepareBusSleepMode</p></td>
<td><p>ComM_Nm.h</p></td>
<td><p>Notification that the network management has entered Prepare Bus-Sleep Mode. Reentrancy: Reentrant (but not for the same NM-Channel).</p></td>
</tr>
<tr class="row-even"><td><p>ComM_Nm_RestartIndication</p></td>
<td><p>ComM_Nm.h</p></td>
<td><p>If NmIf has started to shut down the coordinated busses, AND not all coordinated busses have indicated bus sleep state, AND on at least on one of the coordinated busses NM is restarted, THEN the
NM Interface shall call the callback function ComM_Nm_RestartIndication with the nmNetworkHandle of the channels which have already indicated bus sleep state.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="optional-interfaces">
<h4>可选接口（Optional Interfaces）<a class="headerlink" href="#optional-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BswM_Nm_CarWakeUpIndication</p></td>
<td><p>BswM_ComM.h</p></td>
<td><p>Function called by Nm to indicate a CarWakeup.</p></td>
</tr>
<tr class="row-odd"><td><p>CanNm_PassiveStartUp</p></td>
<td><p>CanNm.h</p></td>
<td><p>Passive startup of the AUTOSAR CAN NM. It triggers the transition from Bus-Sleep Mode or Prepare Bus Sleep Mode to the Network Mode in Repeat Message State.
Caveats: CanNm is initialized correctly.</p></td>
</tr>
<tr class="row-even"><td><p>Com_SendSignal</p></td>
<td><p>Com.h</p></td>
<td><p>The service Com_SendSignal updates the signal object identified by SignalId with the signal referenced by the SignalDataPtr parameter.</p></td>
</tr>
<tr class="row-odd"><td><p>Det_ReportError</p></td>
<td><p>Det.h</p></td>
<td><p>Service to report development errors.</p></td>
</tr>
<tr class="row-even"><td><p>FrNm_PassiveStartUp</p></td>
<td><p>FrNm.h</p></td>
<td><p>Initiates the Passive Startup of the FlexRay NM.</p></td>
</tr>
<tr class="row-odd"><td><p>J1939Nm_PassiveStartUp</p></td>
<td><p>J1939Nm.h</p></td>
<td><p>Passive startup of the NM. It triggers the transition from Bus-Sleep Mode to the Network Mode without requesting the network.</p></td>
</tr>
<tr class="row-even"><td><p>UdpNm_PassiveStartUp</p></td>
<td><p>UdpNm.h</p></td>
<td><p>Passive startup of the AUTOSAR UdpNm. It triggers the transition from Bus-Sleep Mode or Prepare Bus Sleep Mode to the Network Mode in Repeat Message State.
Caveats: UdpNm is initialized correctly.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-interfaces">
<h4>配置接口（Configuration Interfaces）<a class="headerlink" href="#configuration-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SchM_Enter_Nm_Coordinator</p></td>
<td><p>SchM_Nm.h</p></td>
<td><p>Enter exclusive area.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="configuration">
<h2>配置（configuration）<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<section id="coordinated-sleep-configuration">
<h3>协同睡眠配置（Coordinated Sleep Configuration）<a class="headerlink" href="#coordinated-sleep-configuration" title="Link to this heading">¶</a></h3>
<blockquote>
<div><div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>虽然可以配置多个协同睡眠集群CoordinateCluster，但是同一个Nm通道只能被协同睡眠集群Cluster关联一次。</p>
<p>Although multiple coordinated sleep clusters (CoordinateCluster) can be configured, the same Nm channel can only be associated with a coordinated sleep cluster (Cluster) once.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>一个协同睡眠集群CoordinateCluster至少有一个NmActiveCoordinator为TRUE的通道。 如果一个协同睡眠集群全部都是active协调的通道，则该集群称为topMost。如果一个协同睡眠集群存在有非active协调（即passive）的通道，则该集群为非topMost。</p>
<p>A coordinated sleep cluster (CoordinateCluster) must have at least one channel with NmActiveCoordinator set to TRUE. If all channels in a coordinated sleep cluster are active coordinator channels, the cluster is called topMost.
If a coordinated sleep cluster contains non-active coordinator (i.e., passive) channels, the cluster is non-topMost.</p>
</div>
</div></blockquote>
<p>在配置通道之前，需要进行Nm的全局配置：</p>
<p>Before configuring channels, global configuration of Nm is required:</p>
<blockquote>
<div><figure class="align-center" id="id22">
<img alt="Nm全局配置支持协同睡眠" src="../../../_images/Nm%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AEcoordinate.png" />
<figcaption>
<p><span class="caption-text">Nm全局配置支持协同睡眠</span><a class="headerlink" href="#id22" title="Link to this image">¶</a></p>
<div class="legend">
<p>Nm global configuration supports coordinated sleep</p>
</div>
</figcaption>
</figure>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>NmCoordinatorSupportEnabled 为使能协同睡眠的开关， NmCoordinatorSyncSupport 为是否开启协同睡眠嵌套。 协同睡眠嵌套指多个ECU的协同睡眠网络拓扑，开启之后，协同便不仅是在基于通道，而是基于ECU， 简而言之就是保证多个ECU上的通道同时睡眠。</p>
<p>NmCoordinatorSupportEnabled is the switch to enable coordinated sleep, and NmCoordinatorSyncSupport is whether to enable coordinated sleep nesting. Coordinated sleep nesting refers to the coordinated sleep network topology of multiple ECUs. When enabled, coordination is no longer based only on channels but on ECUs. In short, it ensures that channels on multiple ECUs sleep simultaneously.</p>
</div>
</div></blockquote>
<p>协同睡眠意味着需要配置多路Nm通道，将其关联到相应的ComM通道上，并且需要明确通道的协调模式是否为NmActiveCoordinator，明确所属的NmCoordClusterIndex，
以及是否是NmChannelSleepMaster。</p>
<p>Coordinated sleep requires configuring multiple Nm channels, associating them with corresponding ComM channels, and clearly defining whether the channel’s coordination mode is NmActiveCoordinator, specifying the associated NmCoordClusterIndex, and whether it is a NmChannelSleepMaster.</p>
<blockquote>
<div><figure class="align-center" id="id23">
<img alt="通道配置1" src="../../../_images/%E9%80%9A%E9%81%93%E9%85%8D%E7%BD%AE1.png" />
<figcaption>
<p><span class="caption-text">通道配置1</span><a class="headerlink" href="#id23" title="Link to this image">¶</a></p>
<div class="legend">
<p>Channel configuration 1</p>
</div>
</figcaption>
</figure>
<figure class="align-center" id="id24">
<img alt="通道配置2" src="../../../_images/%E9%80%9A%E9%81%93%E9%85%8D%E7%BD%AE3.png" />
<figcaption>
<p><span class="caption-text">通道配置2</span><a class="headerlink" href="#id24" title="Link to this image">¶</a></p>
<div class="legend">
<p>Channel configuration 2</p>
</div>
</figcaption>
</figure>
<figure class="align-center" id="id25">
<img alt="通道配置3" src="../../../_images/%E9%80%9A%E9%81%93%E9%85%8D%E7%BD%AE2.png" />
<figcaption>
<p><span class="caption-text">通道配置3</span><a class="headerlink" href="#id25" title="Link to this image">¶</a></p>
<div class="legend">
<p>Channel configuration 3</p>
</div>
</figcaption>
</figure>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>通道3配置了NmChannelSleepMaster。这个参数应该被设置来指明这个网络的睡眠是否可以仅由本地节点自己决定，并且没有其他节点可以干预它。
如果这个参数被设置为TRUE，Nm应该假定该信道总是准备好进入睡眠状态，并且这个信道的Nm不会发出
Nm_RemoteSleepIndication或Nm_RemoteSleepCancellation的调用。如果这个参数被设置为FALSE，Nm假定该网络没有准备好睡眠，
直到已经发出了Nm_RemoteSleepIndication的调用。</p>
<p>Channel 3 is configured with NmChannelSleepMaster. This parameter should be set to indicate whether the sleep of this network can be determined solely by the local node itself, with no other nodes able to intervene.
If this parameter is set to TRUE, Nm shall assume that the channel is always ready to enter sleep mode, and the Nm of this channel will not issue calls to Nm_RemoteSleepIndication or Nm_RemoteSleepCancellation. If this parameter is set to FALSE, Nm assumes that the network is not ready to sleep until the Nm_RemoteSleepIndication call has been issued.</p>
</div>
</div></blockquote>
</section>
<section id="partial-network-management-configuration">
<h3>部分网络管理配置（Partial Network Management Configuration）<a class="headerlink" href="#partial-network-management-configuration" title="Link to this heading">¶</a></h3>
<p>首先需要使能部分网络管理功能：</p>
<p>First, it is necessary to enable the partial network management function:</p>
<p>Nm的全局配置：</p>
<p>Global configuration of Nm:</p>
<figure class="align-center" id="id26">
<img alt="Nm全局配置支持部分网络管理" src="../../../_images/Nm%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AEpartialNetwork.png" />
<figcaption>
<p><span class="caption-text">Nm全局配置支持部分网络管理</span><a class="headerlink" href="#id26" title="Link to this image">¶</a></p>
<div class="legend">
<p>Nm global configuration supports partial network management</p>
</div>
</figcaption>
</figure>
<p>针对每个通道，也需要进行一下配置：</p>
<p>For each channel, the following configurations are also required:</p>
<p>通道配置：</p>
<p>Channel configuration:</p>
<figure class="align-center" id="id27">
<img alt="通道配置pn" src="../../../_images/NmPartialNetworkSupportEnabled1.png" />
<figcaption>
<p><span class="caption-text">通道配置pn</span><a class="headerlink" href="#id27" title="Link to this image">¶</a></p>
<div class="legend">
<p>Channel configuration pn</p>
</div>
</figcaption>
</figure>
<p>同时需要配置需要过滤的Pnc Bit：</p>
<p>It is also necessary to configure the Pnc Bit that needs to be filtered:</p>
<figure class="align-center" id="id28">
<img alt="通道配置NmPnFilterMaskByte" src="../../../_images/NmPnFilterMaskByte.png" />
<figcaption>
<p><span class="caption-text">通道配置NmPnFilterMaskByte</span><a class="headerlink" href="#id28" title="Link to this image">¶</a></p>
<div class="legend">
<p>Channel configuration NmPnFilterMaskByte</p>
</div>
</figcaption>
</figure>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../MemLayout/MemLayout.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>MemLayout
    </a>
    <a class="float-right" href="../NvM/NvM.html" title="Next">
        NvM <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">Nm</a><ul>
<li><a class="reference internal" href="#document-information">文档信息（Document Information）</a><ul>
<li><a class="reference internal" href="#version-history">版本历史（Version History）</a></li>
<li><a class="reference internal" href="#reference-document">参考文档（Reference Document）</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terms-and-abbreviations">术语与简写（Terms and Abbreviations）</a><ul>
<li><a class="reference internal" href="#term">术语（Term）</a></li>
<li><a class="reference internal" href="#abbreviation">简写（Abbreviation）</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">简介（Introduction）</a></li>
<li><a class="reference internal" href="#functional-description">功能描述（Functional Description）</a><ul>
<li><a class="reference internal" href="#features">特性（Features）</a><ul>
<li><a class="reference internal" href="#basic-functions">基本功能（Basic Functions）</a></li>
<li><a class="reference internal" href="#coordinated-shutdown-algorithm">协调关闭算法（Coordinated Shutdown Algorithm）</a><ul>
<li><a class="reference internal" href="#abort-of-coordinated-shutdown">协调关闭中止（Abort of Coordinated Shutdown）</a></li>
</ul>
</li>
<li><a class="reference internal" href="#partial-network-management-functions">部分网络管理功能（Partial Network Management Functions）</a><ul>
<li><a class="reference internal" href="#pn-pn-filtering">PN过滤（PN Filtering）</a></li>
<li><a class="reference internal" href="#eraeira">ERA与EIRA</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#deviations">偏差（Deviations）</a></li>
<li><a class="reference internal" href="#expansion">扩展（Expansion）</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration">集成（Integration）</a><ul>
<li><a class="reference internal" href="#file-list">文件列表（File List）</a><ul>
<li><a class="reference internal" href="#static-files">静态文件（Static Files）</a></li>
<li><a class="reference internal" href="#dynamic-files">动态文件（Dynamic Files）</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">错误处理（Error handling）</a><ul>
<li><a class="reference internal" href="#development-errors">开发错误（Development errors）</a></li>
<li><a class="reference internal" href="#product-errors">产品错误（Product Errors）</a></li>
<li><a class="reference internal" href="#runtime-error">运行时错误（Runtime error）</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interface-description">接口描述（Interface Description）</a><ul>
<li><a class="reference internal" href="#type-definition">类型定义（Type definition）</a></li>
<li><a class="reference internal" href="#provided-service">提供的服务（ Provided service）</a><ul>
<li><a class="reference internal" href="#nm-init">Nm_Init</a></li>
<li><a class="reference internal" href="#nm-passivestartup">Nm_PassiveStartUp</a></li>
<li><a class="reference internal" href="#nm-networkrequest">Nm_NetworkRequest</a></li>
<li><a class="reference internal" href="#nm-networkrelease">Nm_NetworkRelease</a></li>
<li><a class="reference internal" href="#nm-disablecommunication">Nm_DisableCommunication</a></li>
<li><a class="reference internal" href="#nm-enablecommunication">Nm_EnableCommunication</a></li>
<li><a class="reference internal" href="#nm-setuserdata">Nm_SetUserData</a></li>
<li><a class="reference internal" href="#nm-getuserdata">Nm_GetUserData</a></li>
<li><a class="reference internal" href="#nm-getpdudata">Nm_GetPduData</a></li>
<li><a class="reference internal" href="#nm-repeatmessagerequest">Nm_RepeatMessageRequest</a></li>
<li><a class="reference internal" href="#nm-getnodeidentifier">Nm_GetNodeIdentifier</a></li>
<li><a class="reference internal" href="#nm-getlocalnodeidentifier">Nm_GetLocalNodeIdentifier</a></li>
<li><a class="reference internal" href="#nm-checkremotesleepindication">Nm_CheckRemoteSleepIndication</a></li>
<li><a class="reference internal" href="#nm-getstate">Nm_GetState</a></li>
<li><a class="reference internal" href="#nm-getversioninfo">Nm_GetVersionInfo</a></li>
<li><a class="reference internal" href="#nm-networkstartindication">Nm_NetworkStartIndication</a></li>
<li><a class="reference internal" href="#nm-networkmode">Nm_NetworkMode</a></li>
<li><a class="reference internal" href="#nm-bussleepmode">Nm_BusSleepMode</a></li>
<li><a class="reference internal" href="#nm-preparebussleepmode">Nm_PrepareBusSleepMode</a></li>
<li><a class="reference internal" href="#nm-remotesleepindication">Nm_RemoteSleepIndication</a></li>
<li><a class="reference internal" href="#nm-remotesleepcancellation">Nm_RemoteSleepCancellation</a></li>
<li><a class="reference internal" href="#nm-synchronizationpoint">Nm_SynchronizationPoint</a></li>
<li><a class="reference internal" href="#nm-coordreadytosleepindication">Nm_CoordReadyToSleepIndication</a></li>
<li><a class="reference internal" href="#nm-coordreadytosleepcancellation">Nm_CoordReadyToSleepCancellation</a></li>
<li><a class="reference internal" href="#nm-pdurxindication">Nm_PduRxIndication</a></li>
<li><a class="reference internal" href="#nm-statechangenotification">Nm_StateChangeNotification</a></li>
<li><a class="reference internal" href="#nm-repeatmessageindication">Nm_RepeatMessageIndication</a></li>
<li><a class="reference internal" href="#nm-txtimeoutexception">Nm_TxTimeoutException</a></li>
<li><a class="reference internal" href="#nm-carwakeupindication">Nm_CarWakeUpIndication</a></li>
<li><a class="reference internal" href="#nm-mainfunction">Nm_MainFunction</a></li>
<li><a class="reference internal" href="#nm-synchronizemode">Nm_SynchronizeMode</a></li>
<li><a class="reference internal" href="#nm-updateira">Nm_UpdateIRA</a></li>
<li><a class="reference internal" href="#nm-pncbitvectortxindication">Nm_PncBitVectorTxIndication</a></li>
<li><a class="reference internal" href="#nm-pncbitvectorrxindication">Nm_PncBitVectorRxIndication</a></li>
<li><a class="reference internal" href="#id1">Nm_NetworkStartIndication</a></li>
<li><a class="reference internal" href="#id2">Nm_NetworkMode</a></li>
<li><a class="reference internal" href="#id3">Nm_BusSleepMode</a></li>
<li><a class="reference internal" href="#id4">Nm_PrepareBusSleepMode</a></li>
<li><a class="reference internal" href="#id5">Nm_RemoteSleepIndication</a></li>
<li><a class="reference internal" href="#id6">Nm_RemoteSleepCancellation</a></li>
<li><a class="reference internal" href="#id7">Nm_SynchronizationPoint</a></li>
<li><a class="reference internal" href="#id8">Nm_CoordReadyToSleepIndication</a></li>
<li><a class="reference internal" href="#id9">Nm_CoordReadyToSleepCancellation</a></li>
<li><a class="reference internal" href="#id10">Nm_PduRxIndication</a></li>
<li><a class="reference internal" href="#id11">Nm_StateChangeNotification</a></li>
<li><a class="reference internal" href="#id12">Nm_RepeatMessageIndication</a></li>
<li><a class="reference internal" href="#id13">Nm_TxTimeoutException</a></li>
<li><a class="reference internal" href="#id14">Nm_CarWakeUpIndication</a></li>
<li><a class="reference internal" href="#id15">Nm_SynchronizeMode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-functions">配置函数（Configuration Functions）</a><ul>
<li><a class="reference internal" href="#id16">Nm_MainFunction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dependent-services">依赖的服务（Dependent Services）</a><ul>
<li><a class="reference internal" href="#mandatory-interfaces">强制接口（Mandatory Interfaces）</a></li>
<li><a class="reference internal" href="#optional-interfaces">可选接口（Optional Interfaces）</a></li>
<li><a class="reference internal" href="#configuration-interfaces">配置接口（Configuration Interfaces）</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">配置（configuration）</a><ul>
<li><a class="reference internal" href="#coordinated-sleep-configuration">协同睡眠配置（Coordinated Sleep Configuration）</a></li>
<li><a class="reference internal" href="#partial-network-management-configuration">部分网络管理配置（Partial Network Management Configuration）</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>Interrupt Functions &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">Interrupt Functions</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/Os/02_Interrupt_func_api.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="interrupt-functions">
<h1>Interrupt Functions<a class="headerlink" href="#interrupt-functions" title="Link to this heading">¶</a></h1>
<p>处理中断的函数（中断服务程序：ISR）分为两类中断：</p>
<p>Functions that handle interrupts (Interrupt Service Routines: ISRs) are divided into two types of interrupts:</p>
<blockquote>
<div><ul>
<li><p>1类中断: 此类中断不使用操作系统服务。中断结束后，程序将在发生中断位置继续执行，即中断对任务管理没有影响。此类别的中断具有最小的开销。</p>
<p>Type 1 Interrupts: This type of interrupt does not use operating system services. After the interrupt ends, the program will continue execution from the location where the interrupt occurred, meaning the interrupt has no impact on task management. Interrupts of this type have minimal overhead.</p>
</li>
<li><p>2类中断: Os提供一个中断框架，为特定的用户程序提供运行环境。这类中断能够使用Os的系统服务。</p>
<p>Type 2 Interrupts: The Os provides an interrupt framework that offers a runtime environment for specific user programs. This type of interrupt can use the system services of the Os.</p>
</li>
</ul>
</div></blockquote>
<figure class="align-center" id="id1">
<img alt="ORIENTAIS OS的ISR类别" src="../../../_images/ISR%E7%B1%BB%E5%88%AB.png" />
<figcaption>
<p><span class="caption-text">ORIENTAIS OS的ISR类别（ISR Types of ORIENTAIS OS）</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="enableallinterrupts">
<h2>EnableAllInterrupts<a class="headerlink" href="#enableallinterrupts" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">EnableAllInterrupts</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service restores the state saved by DisableAllInterrupts.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TaskInit</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span> <span class="n">Autostart</span><span class="p">:</span><span class="kc">True</span>

<span class="n">TASK</span><span class="p">(</span><span class="n">TaskInit</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">DisableAllInterrupts</span><span class="p">();</span>
  <span class="o">/*</span><span class="n">user</span> <span class="n">action</span> <span class="k">except</span> <span class="n">system</span> <span class="n">service</span><span class="o">*/</span>
  <span class="n">EnableAllInterrupts</span><span class="p">();</span>
  <span class="o">......</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>该服务与DisableAllInterrupts服务相对应，后者必须在之前被调用，其目的是保障代码临界区的完整性。</p>
<p>This service corresponds to the DisableAllInterrupts service, which must have been called beforehand to ensure the integrity of the code critical section.</p>
</li>
</ul>
</div>
</section>
<section id="disableallinterrupts">
<h2>DisableAllInterrupts<a class="headerlink" href="#disableallinterrupts" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">DisableAllInterrupts</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service disables all interrupts for which the hardware supports disabling. The state before is saved for the EnableAllInterrupts call.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>主要用于某些不能使用ORIENTAIS OS API的临界段。</p>
<p>It is mainly used for certain critical sections where the ORIENTAIS OS API cannot be used.</p>
</li>
</ul>
</div>
</section>
<section id="resumeallinterrupts">
<h2>ResumeAllInterrupts<a class="headerlink" href="#resumeallinterrupts" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ResumeAllInterrupts</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service restores t he recognition status of all interrupts saved by the SuspendAllInterrupts service.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TaskInit</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span> <span class="n">Autostart</span><span class="p">:</span><span class="kc">True</span>

<span class="n">void</span> <span class="n">function_0</span><span class="p">()</span>
<span class="p">{</span>
<span class="n">SuspendAllInterrupts</span><span class="p">();</span>
  <span class="o">/*</span><span class="n">user</span> <span class="n">action</span> <span class="k">except</span> <span class="n">system</span> <span class="n">service</span><span class="o">*/</span>
  <span class="n">ResumeAllInterrupts</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">TASK</span><span class="p">(</span><span class="n">TaskInit</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">SuspendAllInterrupts</span><span class="p">();</span>
  <span class="o">/*</span><span class="n">user</span> <span class="n">action</span> <span class="k">except</span> <span class="n">system</span> <span class="n">service</span><span class="o">*/</span>
  <span class="n">ResumeAllInterrupts</span><span class="p">();</span>

<span class="n">SuspendAllInterrupts</span><span class="p">();</span>
  <span class="o">/*</span><span class="n">user</span> <span class="n">action</span> <span class="k">except</span> <span class="n">system</span> <span class="n">service</span><span class="o">*/</span>
  <span class="n">function_0</span><span class="p">();</span> <span class="o">/*</span><span class="n">nested</span> <span class="n">using</span><span class="o">*/</span>
  <span class="n">ResumeAllInterrupts</span><span class="p">();</span>
  <span class="o">......</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>SuspendAllInterrupts / ResumeAllInterrupts可以嵌套使用。如果嵌套调用SuspendAllInterrupts和ResumeAllInterrupts，SuspendAllInterrupts第一次调用时保存的中断识别状态将在ResumeAllInterrupts最后一次调用时恢复。</p>
<p>SuspendAllInterrupts / ResumeAllInterrupts can be used in a nested way. If SuspendAllInterrupts and ResumeAllInterrupts are called nestedly, the interrupt identification state saved during the first call of SuspendAllInterrupts will be restored during the last call of ResumeAllInterrupts.</p>
</li>
</ul>
</div>
</section>
<section id="suspendallinterrupts">
<h2>SuspendAllInterrupts<a class="headerlink" href="#suspendallinterrupts" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SuspendAllInterrupts</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service saves the re cognition status of all interrupts and disables all interrupts for which the hardware supports.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>主要用于某些不能使用ORIENTAIS OS API的临界段。</p>
<p>It is mainly used for certain critical sections where the ORIENTAIS OS API cannot be used.</p>
</li>
</ul>
</div>
</section>
<section id="resumeosinterrupts">
<h2>ResumeOSInterrupts<a class="headerlink" href="#resumeosinterrupts" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">ResumeOSInterrupts</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service restores the recognition status of interrupts saved by the SuspendOSInterrupts service.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>SuspendOSInterrupts / ResumeOSInterrupts可以嵌套使用。如果嵌套调用SuspendOSInterrupts和ResumeOSInterrupts，SuspendOSInterrupts的第一次调用时保存的中断识别状态将在ResumeAllInterrupts最后一次调用时恢复。</p>
<p>SuspendOSInterrupts / ResumeOSInterrupts can be used in a nested manner. If SuspendOSInterrupts and ResumeOSInterrupts are called nestedly, the interrupt identification state saved when SuspendOSInterrupts is first called will be restored when ResumeAllInterrupts is called for the last time.</p>
</li>
<li><p>SuspendOSInterrupts / ResumeOSInterrupts仅对2类中断有影响。</p>
<p>SuspendOSInterrupts / ResumeOSInterrupts only affect Type 2 Interrupts.</p>
</li>
</ul>
</div>
</section>
<section id="suspendosinterrupts">
<h2>SuspendOSInterrupts<a class="headerlink" href="#suspendosinterrupts" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SuspendOSInterrupts</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service saves the recognition status of interrupts of category 2 and disables the recognition of these interrupts.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>主要用于某些不能使用ORIENTAIS OS API的临界段。</p>
<p>It is mainly used for certain critical sections where the ORIENTAIS OS API cannot be used.</p>
</li>
</ul>
</div>
</section>
<section id="getisrid">
<h2>GetISRID<a class="headerlink" href="#getisrid" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ISRType</span> <span class="n">GetISRID</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service returns the identifier of the currently executing ISR.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>ISRType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Returns</p></td>
<td><p>the ID of CATEGORY_2 interrupt</p></td>
</tr>
<tr class="row-odd"><td><p>INVALID_ISR</p></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">App0</span><span class="p">:</span> <span class="n">Trusted</span>
<span class="n">TaskInit</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span> <span class="n">Autostart</span><span class="p">:</span><span class="kc">True</span>
  <span class="n">ERAY_INT0</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">101</span><span class="p">,</span> <span class="n">Category</span><span class="p">:</span> <span class="n">CATEGORY_2</span>

<span class="n">TASK</span><span class="p">(</span><span class="n">TaskInit</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ISRType</span> <span class="n">isr</span><span class="p">;</span>

  <span class="o">/*</span> <span class="n">OS_REG32</span><span class="p">(</span><span class="n">OS_SRC_ERAY_INT0_ADDR</span><span class="p">))</span> <span class="o">|=</span> <span class="mh">0x04000000</span><span class="o">*/</span>
  <span class="n">TriggerInterrupt</span><span class="p">(</span><span class="n">OS_SRC_ERAY_INT0_ADDR</span><span class="p">);</span>

<span class="n">ISRType</span> <span class="n">isr</span><span class="p">;</span>
  <span class="n">isr</span> <span class="o">=</span> <span class="n">GetISRID</span><span class="p">();</span>
  <span class="o">/*</span> <span class="n">isr</span> <span class="o">=</span> <span class="n">OS_ISR_INVALID</span> <span class="o">*/</span>
<span class="p">}</span>

<span class="n">ISR</span><span class="p">(</span><span class="n">ERAY_INT0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ISRType</span> <span class="n">isr</span><span class="p">;</span>
  <span class="n">isr</span> <span class="o">=</span> <span class="n">GetISRID</span><span class="p">();</span>
  <span class="o">/*</span> <span class="n">isr</span> <span class="o">=</span> <span class="n">CFG_ISR_ERAY_INT0_ID</span> <span class="o">*/</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="enableinterruptsource">
<h2>EnableInterruptSource<a class="headerlink" href="#enableinterruptsource" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">EnableInterruptSource</span><span class="p">(</span><span class="n">ISRType</span> <span class="n">ISRID</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">ClearPending</span><span class="p">)</span>
</pre></div>
</div>
<p>Enables the interrupt source by modifying the interrupt controller registers. Additionally it may clear the interrupt pending flag.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ISRID</p></td>
<td><p>The ID of a category 2 ISR.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ClearPending</p></td>
<td><p>Whether to clear the interrupt pending flag.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_NOFUNC</p></td>
<td><p>EnableInterruptSource is called for an interrupt source which is already enabled.</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ID</p></td>
<td><p>ISRID is not a valid category 2 ISR identifier.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong call context of the API function</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ACCESS</p></td>
<td><p>The calling application is not the owner of the ISR passed in ISRID</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>TaskInit: Priority:1, Preemptive Policy:FULL, Autostart:True

TASK(TaskInit)
{
  ……
  StatusType ret;
  ret = DisableInterruptSource(CFG_ISR_DMA_SF_DMA0_CH_10_ID);
  ……
  ret = EnableInterruptSource(CFG_ISR_DMA_SF_DMA0_CH_10_ID, TRUE);
  ……
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>该服务为了短时间屏蔽特定的中断或在特定时间内忽略特定源的中断请求。</p>
<p>This service is used to mask specific interrupts for a short period of time or ignore interrupt requests from specific sources within a specific time frame.</p>
</li>
</ul>
</div>
</section>
<section id="disableinterruptsource">
<h2>DisableInterruptSource<a class="headerlink" href="#disableinterruptsource" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">DisableInterruptSource</span><span class="p">(</span><span class="n">ISRType</span> <span class="n">ISRID</span><span class="p">)</span>
</pre></div>
</div>
<p>Disables the interrupt source by modifying the interrupt controller registers.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ISRID</p></td>
<td><p>The ID of a category 2 ISR.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_NOFUNC</p></td>
<td><p>DisableInterruptSource is called for an interrupt source which is already disabled.</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ID</p></td>
<td><p>ISRID is not a valid category 2 ISR identifier.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong call context of the API function</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ACCESS</p></td>
<td><p>The calling application is not the owner of the ISR passed in ISRID</p></td>
</tr>
</tbody>
</table>
</section>
<section id="clearpendinginterrupt">
<h2>ClearPendingInterrupt<a class="headerlink" href="#clearpendinginterrupt" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">ClearPendingInterrupt</span><span class="p">(</span><span class="n">ISRType</span> <span class="n">ISRID</span><span class="p">)</span>
</pre></div>
</div>
<p>Clears the interrupt pending flag by modifying the interrupt controller registers.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ISRID</p></td>
<td><p>The ID of a category 2 ISR.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No error</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ID</p></td>
<td><p>ISRID is not a valid category 2 ISR identifier.</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong call context of the API function</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ACCESS</p></td>
<td><p>The calling application is not the owner of the ISR passed in ISRID</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>TaskInit: Priority:1, Preemptive Policy:FULL, Autostart:True

    TASK(TaskInit)
    {
      ……
      StatusType ret;
      ret = DisableInterruptSource(CFG_ISR_DMA_SF_DMA0_CH_10_ID);
      ……
      ret = ClearPendingInterrupt(CFG_ISR_DMA_SF_DMA0_CH_10_ID);
      ……
    }
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>该服务为了短时间屏蔽特定的中断或在特定时间内忽略特定源的中断请求。</p>
<p>This service is used to mask specific interrupts for a short period of time or ignore interrupt requests from specific sources within a given time frame.</p>
</li>
</ul>
</div>
</section>
</section>

</main>
                        
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">Interrupt Functions</a><ul>
<li><a class="reference internal" href="#enableallinterrupts">EnableAllInterrupts</a></li>
<li><a class="reference internal" href="#disableallinterrupts">DisableAllInterrupts</a></li>
<li><a class="reference internal" href="#resumeallinterrupts">ResumeAllInterrupts</a></li>
<li><a class="reference internal" href="#suspendallinterrupts">SuspendAllInterrupts</a></li>
<li><a class="reference internal" href="#resumeosinterrupts">ResumeOSInterrupts</a></li>
<li><a class="reference internal" href="#suspendosinterrupts">SuspendOSInterrupts</a></li>
<li><a class="reference internal" href="#getisrid">GetISRID</a></li>
<li><a class="reference internal" href="#enableinterruptsource">EnableInterruptSource</a></li>
<li><a class="reference internal" href="#disableinterruptsource">DisableInterruptSource</a></li>
<li><a class="reference internal" href="#clearpendinginterrupt">ClearPendingInterrupt</a></li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
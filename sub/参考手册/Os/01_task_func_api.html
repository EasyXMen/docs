<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>Task Functions &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">Task Functions</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/Os/01_task_func_api.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="task-functions">
<h1>Task Functions<a class="headerlink" href="#task-functions" title="Link to this heading">¶</a></h1>
<p>ORIENTAIS OS提供两种类型的任务:</p>
<p>The ORIENTAIS OS provides two types of tasks:</p>
<ul class="simple">
<li><p>基本任务（Basic Task）</p></li>
<li><p>拓展任务（Extended Task）</p></li>
</ul>
<p>拓展任务与基本任务的区别是，拓展任务允许使用系统服务WaitEvent，这可能会使任务进入Waiting状态。</p>
<p>The difference between an Extended Task and a Basic Task is that the Extended Task is allowed to use the system service WaitEvent, which may cause the task to enter the Waiting state.</p>
<figure class="align-center" id="id1">
<img alt="Basic Task State Model" src="../../../_images/Basic_Task_State_Model.png" />
<figcaption>
<p><span class="caption-text">基本任务状态模型（Basic Task State Model）</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 14.3%" />
<col style="width: 14.3%" />
<col style="width: 14.3%" />
<col style="width: 57.1%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>过度（Transition）</p></th>
<th class="head"><p>历史状态（Previous State）</p></th>
<th class="head"><p>新状态（New State）</p></th>
<th class="head"><p>描述（Description）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>activate</strong></p></td>
<td><p>suspended</p></td>
<td><p>ready</p></td>
<td><p>系统服务将新任务设置为就绪状态。ORIENTAIS OS确保任务的执行将从第一条指令开始。</p>
<p>The system service sets the new task to the Ready state. ORIENTAIS OS ensures that the task execution starts from the first instruction.</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>start</strong></p></td>
<td><p>ready</p></td>
<td><p>running</p></td>
<td><p>执行调度器选择的就绪任务。</p>
<p>Execute the ready task selected by the scheduler.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>preempt</strong></p></td>
<td><p>running</p></td>
<td><p>ready</p></td>
<td><p>调度程序尝试启动另一个任务。正在运行的任务变为就绪状态。（通常是在低优先级任务的运行过程中，激活或者释放更高优先级任务）</p>
<p>The scheduler attempts to start another task. The currently running task transitions to the Ready state. (Typically, this occurs when a higher-priority task is activated or released during the execution of a lower-priority task)</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>terminate</strong></p></td>
<td><p>running</p></td>
<td><p>suspended</p></td>
<td><p>正在运行的任务通过系统服务使其转变为挂起状态。</p>
<p>The running task transitions to the Suspended state via a system service.</p>
</td>
</tr>
</tbody>
</table>
<figure class="align-center" id="id2">
<img alt="Extend Task State Model" src="../../../_images/Extend_Task_State_Model.png" />
<figcaption>
<p><span class="caption-text">拓展任务状态模型（Extended Task State Model）</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 14.3%" />
<col style="width: 14.3%" />
<col style="width: 14.3%" />
<col style="width: 57.1%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>过度（Transition）</p></th>
<th class="head"><p>历史状态（Previous State）</p></th>
<th class="head"><p>新状态（New State）</p></th>
<th class="head"><p>描述（Description）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>activate</strong></p></td>
<td><p>suspended</p></td>
<td><p>ready</p></td>
<td><p>系统服务将新任务设置为就绪状态。ORIENTAIS OS确保任务的执行将从第一条指令开始。</p>
<p>The system service sets the new task to the Ready state. ORIENTAIS OS ensures that the task execution starts from the first instruction.</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>start</strong></p></td>
<td><p>ready</p></td>
<td><p>running</p></td>
<td><p>执行调度器选择的就绪任务。</p>
<p>Execute the ready task selected by the scheduler.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>wait</strong></p></td>
<td><p>running</p></td>
<td><p>waiting</p></td>
<td><p>过渡到等待状态是由系统服务引起的（例如：WaitEvent）。为了任务能够继续运行，需要为该任务设置一个它所等待的事件。</p>
<p>The transition to the Waiting state is triggered by a system service (e.g., WaitEvent). For the task to resume running, an event that the task is waiting for must be set for it.</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>release</strong></p></td>
<td><p>waiting</p></td>
<td><p>ready</p></td>
<td><p>设置至少一个任务等待的事件。</p>
<p>Set at least one event that the task is waiting for.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>preempt</strong></p></td>
<td><p>running</p></td>
<td><p>ready</p></td>
<td><p>调度程序尝试启动另一个任务。正在运行的任务变为就绪状态。（通常是在低优先级任务的运行过程中，激活或者释放更高优先级任务）</p>
<p>The scheduler attempts to start another task. The currently running task transitions to the Ready state. (Typically, this happens when a higher-priority task is activated or released during the execution of a lower-priority task)</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>terminate</strong></p></td>
<td><p>running</p></td>
<td><p>suspended</p></td>
<td><p>正在运行的任务通过系统服务使其转变为挂起状态。</p>
<p>The running task transitions to the Suspended state through a system service.</p>
</td>
</tr>
</tbody>
</table>
<section id="activatetask">
<h2>ActivateTask<a class="headerlink" href="#activatetask" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">ActivateTask</span><span class="p">(</span><span class="n">TaskType</span> <span class="n">TaskID</span><span class="p">)</span>
</pre></div>
</div>
<p>The task&lt;TaskID&gt; is transferred from the suspended state into the ready state.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TaskID</p></td>
<td><p>Task reference.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No Error.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_LIMIT</p></td>
<td><p>The number of activations has exceeded the limit.</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ID</p></td>
<td><p>Invalid TaskID.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong calling environment.</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_DISABLEDINT</p></td>
<td><p>Unable to call system services because of interrupt disable/suspend.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ACCESS</p></td>
<td><p>Application state error/ No access to this object.</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_CORE</p></td>
<td><p>The remote core is not running.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ILLEGAL_ADDRESS</p></td>
<td><p>Parameter address access illegal, or rpcData is NULL_PTR.</p></td>
</tr>
<tr class="row-even"><td><p>E_BUSY</p></td>
<td><p>The free node can’t be gotten from free queue.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_TIMEOUT</p></td>
<td><p>waiting the execution result timeout.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Example.1
TaskInit: Priority:1, Preemptive Policy:FULL, Autostart:True

TASK(TaskInit)
{
    StatusType ret;
ret = ActivateTask(Task0);
/* If the priority of Task0 is greater than TaskInit&#39;s, the ActivateTask is don&#39;t return directly, and Task0 start to execute. If not, ActivateTask return ‘E_OK’ and program execution continues*/
......
}

Example.2
TaskInit: Priority:1, Preemptive Policy:FULL, Autostart:True
Task0: Priority:1, Preemptive Policy:FULL, Activation Limit:1

TASK(TaskInit)
{
    StatusType ret;
ret = ActivateTask(Task0);
/* ret = E_OK*/
ret = ActivateTask(Task0);
/* ret = E_OS_LIMIT */
......
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>如果有多个激活请求，ActivateTask不会立即更改任务状态。如果任务不为挂起状态，任务的激活次数将被记录，并在之后执行激活。</p>
<p>If there are multiple activation requests, ActivateTask will not change the task state immediately. If the task is not in the Suspended state, the number of activation times of the task will be recorded and the activation will be executed later.</p>
</li>
<li><p>ActivateTask激活一个与运行中的任务拥有相同内部资源的任务，该任务不会直接执行。</p>
<p>ActivateTask activates a task that shares the same internal resources as the running task, and this task will not be executed directly.</p>
</li>
<li><p>激活任务后，激活计数将增加。如果激活计数超过配置的计数值，那么本次ActivateTask的调用无效。</p>
<p>After the task is activated, the activation count will increase. If the activation count exceeds the configured count value, the current call to ActivateTask will be invalid.</p>
</li>
</ul>
</div>
</section>
<section id="terminatetask">
<h2>TerminateTask<a class="headerlink" href="#terminatetask" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">TerminateTask</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service causes the termination of the calling task. The calling task is transferred from the running state into the suspended state.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>this</p></td>
<td><p>function does not return in correct case</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_RESOURCE</p></td>
<td><p>Resources are still occupied by tasks</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_SPINLOCK</p></td>
<td><p>Spinlock are still occupied by tasks</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong calling environment</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_DISABLEDINT</p></td>
<td><p>Unable to call system services because of interrupt disable/suspend</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>OsResource: Type:INTERNAL
TaskInit: Priority:1, Preemptive Policy:FULL, Resource:OsResource, Autostart:True
Task0: Priority:2, Preemptive Policy:FULL
Task1: Priority:3, Preemptive Policy:FULL, Resource:OsResource

TASK(TaskInit)
{
  /*user code*/
  ActivateTask(Task1);
/* TaskInit and Task1 own same internal resource OsResource, therefore Task1 don’t preempt TaskInit. */
  ChainTask(Task0);
/*Task0 is activated. ChainTask release TaskInit’s internal resource, therefore Task1 executes firstly due to the highest priority, then Task0 executes. */
  ......
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>严格禁止在未调用TerminateTask或ChainTask的情况下结束任务功能（请勿使用“ return”），并且可能会使系统处于不确定状态。</p>
<p>It is strictly prohibited to terminate a task function without calling TerminateTask or ChainTask (do not use “return”), as this may leave the system in an undefined state.</p>
</li>
<li><p>任务必须释放占用的标准资源后才能使用该服务。</p>
<p>A task must release the standard resources it occupies before using this service.</p>
</li>
</ul>
</div>
</section>
<section id="chaintask">
<h2>ChainTask<a class="headerlink" href="#chaintask" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">ChainTask</span><span class="p">(</span><span class="n">TaskType</span> <span class="n">TaskID</span><span class="p">)</span>
</pre></div>
</div>
<p>This service causes the termination of the calling task. After termination of the calling task a succeeding task &lt;TaskID&gt; is activated.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TaskID</p></td>
<td><p>Task reference</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>this</p></td>
<td><p>function does not return in correct case</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_LIMIT</p></td>
<td><p>The number of activations has exceeded the limit</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ID</p></td>
<td><p>Invalid TaskID</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_RESOURCE</p></td>
<td><p>Resources are still occupied by tasks</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_SPINLOCK</p></td>
<td><p>Spinlock are still occupied by tasks</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong calling environment</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_DISABLEDINT</p></td>
<td><p>Unable to call system services because of interrupt disable/suspend</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ACCESS</p></td>
<td><p>Application state error/ No access to this object</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_CORE</p></td>
<td><p>The remote core is not running</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ILLEGAL_ADDRESS</p></td>
<td><p>Parameter address access illegal, or rpcData is NULL_PTR.</p></td>
</tr>
<tr class="row-even"><td><p>E_BUSY</p></td>
<td><p>The free node can’t be gotten from free queue.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_TIMEOUT</p></td>
<td><p>waiting the execution result timeout.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>OsResource: Type:INTERNAL
TaskInit: Priority:1, Preemptive Policy:FULL, Resource:OsResource, Autostart:True
Task0: Priority:2, Preemptive Policy:FULL
Task1: Priority:3, Preemptive Policy:FULL, Resource:OsResource

TASK(TaskInit)
{
  /*user code*/
  ActivateTask(Task1);
/* TaskInit and Task1 own same internal resource OsResource, therefore Task1 don’t preempt TaskInit. */
  ChainTask(Task0);
/*Task0 is activated. ChainTask release TaskInit’s internal resource, therefore Task1 executes firstly due to the highest priority, then Task0 executes. */
  ......
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>如果后续任务与当前任务相同，则不会导致多个请求。任务不会转移到挂起状态，但是会立即再次准备就绪。</p>
<p>If the subsequent task is the same as the current task, it will not result in multiple requests. The task will not transition to the Suspended state, but will immediately become Ready again.</p>
</li>
<li><p>即使后续任务与当前任务相同，分配给调用任务的内部资源也会自动释放。</p>
<p>Even if the subsequent task is the same as the current task, the internal resources allocated to the calling task will be automatically released.</p>
</li>
<li><p>调用任务所占用的非内部资源应在调用ChainTask之前释放。</p>
<p>The non-internal resources occupied by the calling task should be released before calling ChainTask.</p>
</li>
<li><p>激活任务后，计数将增加。如果激活计数超过配置的计数，本次ChainTask调用无效。</p>
<p>After the task is activated, the count will increase. If the activation count exceeds the configured count, the current call to ChainTask will be invalid.</p>
</li>
</ul>
</div>
</section>
<section id="schedule">
<h2>Schedule<a class="headerlink" href="#schedule" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">Schedule</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>If a higher-priority task is ready , the internal resource of the task is released, the current task is put into the ready state, its context is saved and the highe r-priority task is executed. Otherwise the calling task is continued.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No Error</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_RESOURCE</p></td>
<td><p>Resources are still occupied by tasks</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_SPINLOCK</p></td>
<td><p>Spinlock are still occupied by tasks</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong calling environment</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_DISABLEDINT</p></td>
<td><p>Unable to call system services because of interrupt disable/suspend</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>OsResource: Type:INTERNAL
TaskInit: Priority:1, Preemptive Policy:FULL, Resource:OsResource, Autostart:True
Task1: Priority:3, Preemptive Policy:FULL, Resource:OsResource

TASK(TaskInit)
{
  /*user code*/
  ActivateTask(Task1);
/* TaskInit and Task1 own same internal resource OsResource, therefore Task1 don’t preempt TaskInit. */
  Schedule();
/* Schedule release TaskInit’s internal resource, therefore Task1 executes. */
  ......
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>该服务对分配了内部资源的任务有影响。</p>
<p>This service has an impact on tasks allocated with internal resources.</p>
</li>
<li><p>任务必须释放占用的非内部资源后才能调用。</p>
<p>The task must release the occupied non-internal resources before calling this service.</p>
</li>
</ul>
</div>
</section>
<section id="gettaskid">
<h2>GetTaskID<a class="headerlink" href="#gettaskid" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">GetTaskID</span><span class="p">(</span><span class="n">TaskRefType</span> <span class="n">TaskID</span><span class="p">)</span>
</pre></div>
</div>
<p>GetTaskID returns the information about the TaskID of the task which is currently running.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TaskID</p></td>
<td><p>Task reference</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No Error</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong calling environment</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_DISABLEDINT</p></td>
<td><p>Unable to call system services because of interrupt disable/suspend</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ILLEGAL_ADDRESS</p></td>
<td><p>Parameter address access illegal, or rpcData is NULL_PTR.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TaskInit</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span> <span class="n">Autostart</span><span class="p">:</span><span class="kc">True</span>
<span class="n">ISR_0</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">101</span><span class="p">,</span> <span class="n">Category</span><span class="p">:</span><span class="n">CATEGORY_2</span>

<span class="n">TASK</span><span class="p">(</span><span class="n">TaskInit</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">TaskType</span> <span class="n">taskid</span><span class="p">;</span>
  <span class="n">StatusType</span> <span class="n">ret</span><span class="p">;</span>
  <span class="n">ret</span> <span class="o">=</span> <span class="n">GetTaskID</span><span class="p">(</span><span class="o">&amp;</span><span class="n">taskid</span><span class="p">);</span>
  <span class="o">/*</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">E_OK</span> <span class="p">,</span> <span class="n">taskid</span> <span class="o">=</span> <span class="n">TaskInit</span> <span class="o">*/</span>
  <span class="o">/*</span> <span class="n">trigger</span> <span class="n">interrupt</span> <span class="n">ISR_0</span><span class="o">*/</span>
  <span class="o">......</span>
<span class="p">}</span>

<span class="n">ISR</span><span class="p">(</span><span class="n">ISR_0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">TaskType</span> <span class="n">taskid</span><span class="p">;</span>
  <span class="n">StatusType</span> <span class="n">ret</span><span class="p">;</span>
  <span class="n">ret</span> <span class="o">=</span> <span class="n">GetTaskID</span><span class="p">(</span><span class="o">&amp;</span><span class="n">taskid</span><span class="p">);</span>
  <span class="o">/*</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">E_OK</span> <span class="p">,</span> <span class="n">taskid</span> <span class="o">=</span> <span class="n">TaskInit</span> <span class="o">*/</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>当没有任务在运行时，“ TaskID”的值为INVALID_TASK。</p>
<p>When no task is running, the value of “TaskID” is INVALID_TASK.</p>
</li>
</ul>
</div>
</section>
<section id="gettaskstate">
<h2>GetTaskState<a class="headerlink" href="#gettaskstate" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">GetTaskState</span><span class="p">(</span><span class="n">TaskType</span> <span class="n">TaskID</span><span class="p">,</span> <span class="n">TaskStateRefType</span> <span class="n">State</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the state of a task (running, ready, waiting, suspended)at the time of calling GetTaskState.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TaskID</p></td>
<td><p>Task reference</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>State</p></td>
<td><p>Status of the task</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No Error</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ID</p></td>
<td><p>Invalid TaskID</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong calling environment</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_DISABLEDINT</p></td>
<td><p>Unable to call system services because of interrupt disable/suspend</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ACCESS</p></td>
<td><p>Application state error/ No access to this object</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CORE</p></td>
<td><p>The remote core is not running</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ILLEGAL_ADDRESS</p></td>
<td><p>Parameter address access illegal, or rpcData is NULL_PTR.</p></td>
</tr>
<tr class="row-odd"><td><p>E_BUSY</p></td>
<td><p>The free node can’t be gotten from free queue.</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_TIMEOUT</p></td>
<td><p>waiting the execution result timeout.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TaskInit</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span> <span class="n">Autostart</span><span class="p">:</span><span class="kc">True</span>
<span class="n">Task0</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span>
<span class="n">Task1</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span>
<span class="n">Task2</span><span class="p">:</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span> <span class="n">Event</span><span class="p">:</span> <span class="n">Event_0</span>
<span class="n">TASK</span><span class="p">(</span><span class="n">TaskInit</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ActivateTask</span><span class="p">(</span><span class="n">Task0</span><span class="p">);</span> <span class="o">/*</span> <span class="n">step</span> <span class="mi">1</span><span class="o">*/</span>
  <span class="o">......</span>
<span class="p">}</span>
<span class="n">TASK</span><span class="p">(</span><span class="n">Task0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">TaskStateType</span> <span class="n">taskstate</span><span class="p">;</span>
  <span class="n">ActivateTask</span><span class="p">(</span><span class="n">Task2</span><span class="p">);</span> <span class="o">/*</span> <span class="n">step</span> <span class="mi">2</span><span class="o">*/</span>
  <span class="o">/*</span> <span class="n">step4</span><span class="o">*/</span>
  <span class="n">ret</span> <span class="o">=</span> <span class="n">GetTaskState</span><span class="p">(</span><span class="n">TaskInit</span><span class="p">,</span><span class="o">&amp;</span><span class="n">taskstate</span><span class="p">);</span><span class="o">/*</span><span class="n">taskstate</span> <span class="o">=</span> <span class="n">TASK_STATE_READY</span><span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GetTaskState</span><span class="p">(</span><span class="n">Task0</span><span class="p">,</span><span class="o">&amp;</span><span class="n">taskstate</span><span class="p">);</span> <span class="o">/*</span><span class="n">taskstate</span> <span class="o">=</span> <span class="n">TASK_STATE_RUNNING</span><span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GetTaskState</span><span class="p">(</span><span class="n">Task1</span><span class="p">,</span><span class="o">&amp;</span><span class="n">taskstate</span><span class="p">);</span><span class="o">/*</span><span class="n">taskstate</span> <span class="o">=</span> <span class="n">TASK_STATE_SUSPENDED</span><span class="o">*/</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">GetTaskState</span><span class="p">(</span><span class="n">Task2</span><span class="p">,</span><span class="o">&amp;</span><span class="n">taskstate</span><span class="p">);</span> <span class="o">/*</span><span class="n">taskstate</span> <span class="o">=</span> <span class="n">TASK_STATE_WAITING</span><span class="o">*/</span>
  <span class="o">......</span>
<span class="p">}</span>
<span class="n">TASK</span><span class="p">(</span><span class="n">Task2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">WaitEvent</span><span class="p">(</span><span class="n">Event_0</span><span class="p">);</span> <span class="o">/*</span> <span class="n">step</span> <span class="mi">3</span><span class="o">*/</span>
  <span class="o">......</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>在完全抢占式系统中从任务进行调用时，返回时结果可能已经不正确。</p>
<p>When invoking from a task in a fully preemptive system, the result may no longer be correct upon return.</p>
</li>
<li><p>如果为某个任务（多次激活）调用服务，则如果该任务的任何实例正在运行，则状态将设置为“正在运行”。</p>
<p>If the service is called for a specific task (with multiple activations), the status will be set to “Running” if any instance of that task is currently running.</p>
</li>
</ul>
</div>
</section>
<section id="activatetaskasyn">
<h2>ActivateTaskAsyn<a class="headerlink" href="#activatetaskasyn" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">StatusType</span> <span class="n">ActivateTaskAsyn</span><span class="p">(</span><span class="n">TaskType</span> <span class="n">TaskID</span><span class="p">)</span>
</pre></div>
</div>
<p>Asynchronous version of the</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TaskID</p></td>
<td><p>Task reference</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>StatusType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>No Error</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_LIMIT</p></td>
<td><p>The number of activations has exceeded the limit</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_ID</p></td>
<td><p>Invalid TaskID</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_CALLEVEL</p></td>
<td><p>Wrong calling environment</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_DISABLEDINT</p></td>
<td><p>Unable to call system services because of interrupt disable/suspend</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ACCESS</p></td>
<td><p>Application state error/ No access to this object</p></td>
</tr>
<tr class="row-even"><td><p>E_OS_CORE</p></td>
<td><p>The remote core is not running</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_ILLEGAL_ADDRESS</p></td>
<td><p>Parameter address access illegal, or rpcData is NULL_PTR.</p></td>
</tr>
<tr class="row-even"><td><p>E_BUSY</p></td>
<td><p>The free node can’t be gotten from free queue.</p></td>
</tr>
<tr class="row-odd"><td><p>E_OS_TIMEOUT</p></td>
<td><p>waiting the execution result timeout.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C0_TaskInit</span><span class="p">(</span><span class="n">Core0</span><span class="p">):</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span><span class="p">,</span> <span class="n">Autostart</span><span class="p">:</span><span class="kc">True</span>
<span class="n">C1_Task0</span><span class="p">(</span><span class="n">Core0</span><span class="p">):</span> <span class="n">Priority</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="n">Preemptive</span> <span class="n">Policy</span><span class="p">:</span><span class="n">FULL</span>

<span class="n">TASK</span><span class="p">(</span><span class="n">C0_TaskInit</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">StatusType</span> <span class="n">ret</span><span class="p">;</span>
<span class="n">ret</span> <span class="o">=</span> <span class="n">ActivateTaskAsyn</span> <span class="p">(</span><span class="n">C1_Task0</span><span class="p">);</span>
<span class="o">......</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>如果待激活的任务与当前任务不在同一个核，ActivateTaskAsyn()采用异步的方式激活该任务。</p>
<p>If the task to be activated is not on the same core as the current task, ActivateTaskAsyn() activates the task in an asynchronous manner.</p>
</li>
</ul>
</div>
</section>
</section>

</main>
                        
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">Task Functions</a><ul>
<li><a class="reference internal" href="#activatetask">ActivateTask</a></li>
<li><a class="reference internal" href="#terminatetask">TerminateTask</a></li>
<li><a class="reference internal" href="#chaintask">ChainTask</a></li>
<li><a class="reference internal" href="#schedule">Schedule</a></li>
<li><a class="reference internal" href="#gettaskid">GetTaskID</a></li>
<li><a class="reference internal" href="#gettaskstate">GetTaskState</a></li>
<li><a class="reference internal" href="#activatetaskasyn">ActivateTaskAsyn</a></li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
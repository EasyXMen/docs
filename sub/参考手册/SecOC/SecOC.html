<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>SecOC &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="SoAd" href="../SoAd/SoAd.html" />
            <link rel="prev" title="Sd" href="../Sd/Sd.html" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../KeyM/KeyM.html">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Os/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">SecOC</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/SecOC/SecOC.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="secoc">
<h1>SecOC<a class="headerlink" href="#secoc" title="Link to this heading">¶</a></h1>
<section id="document-information">
<h2>文档信息 Document Information<a class="headerlink" href="#document-information" title="Link to this heading">¶</a></h2>
<section id="version-history">
<h3>版本历史 Version History<a class="headerlink" href="#version-history" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>日期(Date)</p></th>
<th class="head"><p>作者(Author)</p></th>
<th class="head"><p>版本(Version)</p></th>
<th class="head"><p>状态(Status)</p></th>
<th class="head"><p>说明(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2025/01/20</p></td>
<td><p>Jian.Jiang</p></td>
<td><p>V0.1</p></td>
<td><p>发布(Release)</p></td>
<td><p>首次发布(First release)</p></td>
</tr>
<tr class="row-odd"><td><p>2025/04/04</p></td>
<td><p>Jian.Jiang</p></td>
<td><p>V1.0</p></td>
<td><p>发布(Release)</p></td>
<td><p>正式发布(Official release)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="references">
<h3>参考文档 References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号(Number)</p></th>
<th class="head"><p>分类(Classification)</p></th>
<th class="head"><p>标题(Title)</p></th>
<th class="head"><p>版本(Version)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SRS_SecureOnboardCommunication.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_EXP_LayeredSoftwareArchitecture.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SWS_SecureOnboardCommunication.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SWS_CryptoServiceManager.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terms-and-abbreviations">
<h2>术语与简写 Terms and Abbreviations<a class="headerlink" href="#terms-and-abbreviations" title="Link to this heading">¶</a></h2>
<section id="terms">
<h3>术语 Terms<a class="headerlink" href="#terms" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>术语(Terms)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Authentic I-PDU</p></td>
<td><p>真实 I-PDU 是任意的 AUTOSAR I-PDU，其内容在网络传输过程中通过安全 I-PDU 进行保护。安全内容包括完整的 I-PDU 或 I-PDU 的一部分。(A Real I-PDU is an arbitrary AUTOSAR I-PDU whose content is protected by a secure I-PDU during network transmission.) The security content includes all or part of I-PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>Authentication</p></td>
<td><p>认证是与身份识别相关的服务。此功能既适用于实体，也适用于信息本身。进行通信的双方应相互识别。(Authentication refers to the service related to identity recognition.) This function applies to both entities and information. Both parties in communication should identify each other.</p></td>
</tr>
<tr class="row-even"><td><p>Authentication Information</p></td>
<td><p>认证信息由新鲜度值（或其一部分）和认证器（或其一部分）组成。认证信息是 SecOC 为实现安全 I-PDU 添加的附加信息。(The authentication information consists of a freshness value (or a part thereof) and an authenticator (or a part thereof).) Authentication information is the additional information added by SecOC to ensure secure I-PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>Authenticator</p></td>
<td><p>认证器是用于提供消息认证的数据。一般来说，术语“消息认证码 (MAC)”用于对称方法，而术语“签名”或“数字签名”则指具有不同属性和约束的非对称方法。(Authenticator is the data used for message authentication.) In general, the term “Message Authentication Code (MAC)” is used for symmetric methods while the term “signature” or “digital signature” refer to the asymmetric methods with different attributes and constraints.</p></td>
</tr>
<tr class="row-even"><td><p>Secured I-PDU</p></td>
<td><p>安全 I-PDU 是一种 AUTOSAR I-PDU，它包含真实 I-PDU 的有效负载并辅以额外的身份验证信息。(Secure I-PDU is a kind of AUTOSAR I-PDU that contains the payload of real I-PDU and comes with additional authentication information.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="abbreviations">
<h3>简写 Abbreviations<a class="headerlink" href="#abbreviations" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 33.3%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>简写(Abbreviation)</p></th>
<th class="head"><p>全称(Full name)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CSM</p></td>
<td><p>The AUTOSAR Crypto Service Manager</p></td>
<td><p>AUTOSAR 加密服务管理器</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC</p></td>
<td><p>Secure Onboard Communication</p></td>
<td><p>安全机载通信</p></td>
</tr>
<tr class="row-even"><td><p>MAC</p></td>
<td><p>Message Authentication Code</p></td>
<td><p>信息认证码</p></td>
</tr>
<tr class="row-odd"><td><p>FV</p></td>
<td><p>Freshness Value</p></td>
<td><p>新鲜度值</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="introduction">
<h2>简介 Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>SecOC 模块旨在为 PDU 级别的关键数据提供资源高效且实用的身份验证机制。主要使用带有消息认证码 (MAC) 的对称认证方法。</p>
<p>The SecOC module provides a mechanism featuring efficient and practical resources for critical data at the PDU level. Symmetric authentication method with message authentication codes (MAC) is mainly used.</p>
<p>它们使用比非对称方法小得多的密钥实现相同的安全级别，并且可以在软件和硬件中紧凑高效地实现。也可以使用对称方法和非对称认证方法。</p>
<p>They use the keys that are much smaller than asymmetric methods to achieve the security of the same level compactly and efficiently in software and hardware. Both symmetric and asymmetric authentication methods can also be used.</p>
<figure class="align-center" id="secoc-fig-arch">
<img alt="SecOC模块层次图 (SecOC Module Layer Diagram)" src="../../../_images/SecOC%E6%9E%B6%E6%9E%84%E5%9B%BE.png" />
<figcaption>
<p><span class="caption-text">SecOC模块层次图. (SecOC Module Layer Diagram.)</span><a class="headerlink" href="#secoc-fig-arch" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>如图 <a class="reference internal" href="#secoc-fig-arch"><span class="std std-ref">SecOC模块层次图. (SecOC Module Layer Diagram.)</span></a> 所示，SecoC模块处于AUTOSAR架构中的通信服务层，其上下层模块都为PduR模块。</p>
<p>As shown in the figure <a class="reference internal" href="#secoc-fig-arch"><span class="std std-ref">SecOC模块层次图. (SecOC Module Layer Diagram.)</span></a> , the SecoC module is in the communication service layer of the AUTOSAR architecture. Its upper and lower layer modules are all PduR modules.</p>
</section>
<section id="functional-description">
<h2>功能描述 Functional Description<a class="headerlink" href="#functional-description" title="Link to this heading">¶</a></h2>
<section id="features">
<h3>特性 Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h3>
<section id="authentic-i-pdu">
<h4>Authentic I-PDU<a class="headerlink" href="#authentic-i-pdu" title="Link to this heading">¶</a></h4>
<p>Authentic I-PDU指需要进行保护以应对非法篡改和重放攻击的I-PDU。</p>
<p>Authentic I-PDU refers to the I-PDU that should be well protected from illegal tampering and replay attacks.</p>
</section>
<section id="secured-i-pdu">
<h4>Secured I-PDU<a class="headerlink" href="#secured-i-pdu" title="Link to this heading">¶</a></h4>
<p>Secured I-PDU由Authentic I-PDU和Authenticator (eg: MAC )组成。同时Secured IPDU中可以附加Secured I-PDU Header和FreshnessValue信息。</p>
<p>Secured I-PDU consists of Authentic I-PDU and Authenticator (e.g.: MAC ). Furthermore, Secured IPDU can come with Secured I-PDU Header and FreshnessValue information.</p>
<p>Secured I-PDU Header指示Authentic I-PDU的长度，当没有Secured I-PDU Header时，Authentic I-PDU长度由配置获取。Freshness Value是在生成Authenticator时使用的新鲜度值。Authenticator为生成的认证信息。</p>
<p>Secured I-PDU Header indicates the length of Authentic I-PDU. If there is no Secured I-PDU Header, the length of Authentic I-PDU is gotten by configuration. Freshness Value is the value used for generating Authenticator. Authenticator is the generated authentication information.</p>
<figure class="align-center" id="secoc-fig-arch-01">
<img alt="Secured I-PDU" src="../../../_images/SecuredIPdu.png" />
<figcaption>
<p><span class="caption-text">Secured I-PDU.</span><a class="headerlink" href="#secoc-fig-arch-01" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Secured I-PDU 中的原始 I-PDU 的长度、新鲜度值和认证器可能因一个唯一不可定义的Secured I-PDU 而异。</p>
<p>The length, freshness value, and authenticator of the original I-PDU in a Secured I-PDU may vary due to a unique undefined Secured I-PDU.</p>
<p>Secured I-PDU 中包含的身份验证器长度（参数 SecOCAuthInfoTruncLength）特定于唯一可识别的Secured I-PDU。通过为每个Secured I-PDU 提供 MAC 截断长度的细粒度配置，这允许在整个系统中提供灵活性（即两个独立的唯一Secured I-PDU 可能具有包含在Secured I-PDU 有效负载中的不同身份验证器长度）。</p>
<p>The length of the authenticator (parameter SecOCAuthInfoTruncLength) contained in the Secured I-PDU is specific to the unique identifiable Secured I-PDU. By providing fine-grained configuration of MAC truncation length for each Secured I-PDU, the flexibility in the entire system can be ensured (i.e., two independent unique Secured I-PDUs may have different lengths of authenticators included in the Secured I-PDU payload).</p>
<figure class="align-center" id="secoc-fig-arch-02">
<img alt="带有截断新鲜度计数器和截断认证器的Secured I-PDU 内容示例(Instance of Secured I-PDU content with truncated freshness counter and truncated authenticator)" src="../../../_images/TruncatedFVMAC.png" />
<figcaption>
<p><span class="caption-text">带有截断新鲜度计数器和截断认证器的Secured I-PDU 内容示例. (Instance of Secured I-PDU content with truncated freshness counter and truncated authenticator.)</span><a class="headerlink" href="#secoc-fig-arch-02" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="authenticator-data-covered-by-authenticator">
<h4>Authenticator 涵盖的数据 Data Covered by Authenticator<a class="headerlink" href="#authenticator-data-covered-by-authenticator" title="Link to this heading">¶</a></h4>
<p>计算认证器所依据的数据包括安全 I-PDU 的数据标识符（参数 SecOCDataId）、真实 I-PDU 数据和完整新鲜度值。这些分别连接在一起，组成位数组，传递给认证算法以生成/验证认证器。</p>
<p>The data used by the computational authenticator includes the data identifier (parameter SecOCDataId) of the secure I-PDU, real I-PDU data, and complete freshness value. These are connected respectively to form a bit group, which is transmitted to the authentication algorithm to generate/verify the authenticator.</p>
<p><strong>DataToAuthenticator</strong> = Data Identifier | secured part of the Authentic I-PDU | Complete Freshness Value</p>
</section>
<section id="freshness-value">
<h4>Freshness Value<a class="headerlink" href="#freshness-value" title="Link to this heading">¶</a></h4>
<p>使用Freshness Values能保证生成Secured I-PDU的新鲜度。通常FreshnessValue由新鲜度管理器（FVM）管理，SecOC使用FreshnessValueId从FVM获取相应的新鲜度值。此外，新鲜度值可以从Authentic I-PDU中截取一部分作为新鲜度值，截取开始的位置和长度由配置确定。</p>
<p>Freshness Values can ensure the freshness of the generated Secured I-PDU. In general, FreshnessValue is managed by the Freshness Value Manager (FVM), and SecOC obtains the corresponding freshness value from FVM by using FreshnessValueId. In addition, a portion of the freshness value can be extracted from the Authentic I-PDU as the freshness value. The starting position and length of the extraction are determined by configuration.</p>
<p>根据配置Secured I-PDU中可以不包含，包含完整或者部分的新鲜度值。</p>
<p>Secured I-PDU may contain no, complete or part of the freshness value based on the specific configuration.</p>
</section>
</section>
<section id="secocpdur-relationship-between-secoc-and-pdur">
<h3>SecOC和PduR的关系 Relationship Between SecOC and PduR<a class="headerlink" href="#secocpdur-relationship-between-secoc-and-pdur" title="Link to this heading">¶</a></h3>
<p>SecOC需要和PduR进行交互，用于获取和发送数据。</p>
<p>SecOC needs to interact with PduR to get and send data.</p>
<p>发送数据时，SecOC先作为PduR的下层模块，从PduR获取Authentic I-PDU，将Authentic I-PDU转换为Secured I-PDU之后，SecOC又作为PduR的上层模块，发送数据。</p>
<p>To send data, SecOC serves as a lower layer module of PduR to get Authentic I-PDU from PduR, and convert Authentic I-PDU to Secured I-PDU. Then SecOC serves as an upper layer module of PduR to send data.</p>
<p>接收数据时，SecOC先作为PduR的上层模块，从PduR接收Secured I-PDU。SecOC从Secured I-PDU中解析出Authentic I-PDU并通过校验之后，SecOC又作为PduR的下层模块，通过PduR将数据传递给上层。</p>
<p>To receive data, SecOC serves as the upper layer module of PduR to receive Secured I-PDU from PduR. After parsing the Authentic I-PDU from the Secured I-PDU and passing the verification, SecOC acts as a lower layer module of PduR to transmit the data to the upper layer through PduR.</p>
<figure class="align-center" id="secoc-fig-arch-03">
<img alt="SecOC和PduR的关系 (Relationship between SecOC and PduR)" src="../../../_images/SecOC_PduR.png" />
<figcaption>
<p><span class="caption-text">SecOC和PduR的关系. (Relationship Between SecOC and PduR.)</span><a class="headerlink" href="#secoc-fig-arch-03" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="i-pdu-certificate-i-pdu-sending-function">
<h3>认证I-PDU（发送）功能 Certificate I-PDU (Sending) Function<a class="headerlink" href="#i-pdu-certificate-i-pdu-sending-function" title="Link to this heading">¶</a></h3>
<p>通过向原始 I-PDU 添加认证信息来创建安全 I-PDU。</p>
<p>A secure I-PDU is created by adding authentication information to the original I-PDU.</p>
<p>创建安全 I-PDU 以及对原始 I-PDU 的认证包括以下六个步骤：</p>
<p>Creating a secure I-PDU and authenticating the original I-PDU requires the following six steps:</p>
<p>1.准备安全的 I-PDU；</p>
<p>1.Prepare a secure I-PDU;</p>
<p>2.为验证器构建数据；</p>
<p>2.Build data for validator;</p>
<p>3.生成验证器；</p>
<p>3.Generate validator;</p>
<p>4.构建安全的 I-Pdu；</p>
<p>4.Build a secure I-Pdu;</p>
<p>5.增加新鲜度计数器；</p>
<p>5.Prepare more freshness value counter;</p>
<p>6.通过PduR发送安全I-PDU。</p>
<p>6.Send I-PDU via PduR.</p>
<p>上层调用SecOC_IfTransmit()或者SecOC_TpTransmit()发起Secured I-PDU的发送过程。</p>
<p>The upper layer calls SecOC_ifTransmit() or SecOC_TpTTransmit() to initiate the sending of Secured I-PDU sending.</p>
<p>对于直接发送，SecOC从SecOC_IfTransmit()函数的PduInfo中获取Authentic I-PDU。对于TP发送，SecOC需要分多次调用PduR_SecOCTpCopyTxData()获取Authentic I-PDU。</p>
<p>For direct sending, SecOC gets the Authentic I-PDU from PduInfo in the SecOC_IfTransmit() function. For sending via TP, SecOC has to finish sending by several times.Call PduR_SecOCTpCopyTxData() to get Authentic I-PDU.</p>
<p>获取到Authentic I-PDU之后，SecOC根据配置的FreshnessValue相关属性，取得FreshnessValue，再根据DataToAuthenticator的生成规则，构建DataToAuthenticator。</p>
<p>After obtaining the Authentic I-PDU, SecOC will obtain the FreshnessValue based on the configured FreshnessValue related attributes and then construct the DataToAAuthenticator according to the generation rules of the DataToAAuthenticator.</p>
<p>SecOC调用CSM模块的接口，将DataToAuthenticator传递给CSM。CSM模块根据输入的DataToAuthenticator等参数，计算生成Authenticator。</p>
<p>SecOC transmits the DataToAuthenticator to CSM by calling the interface of CSM module. The CSM module calculates and generates an Authenticator based on input parameters such as DataToAuthenticator.</p>
<p>生成Authenticator后，SecOC根据配置生成Secured I-PDU。之后SecOC调用PduR的发送接口将Secured I-PDU一次（If）或者多次（TP）发送出去。</p>
<p>After generating the Authenticator, SecOC will generate Secured I-PDU based on the configuration. Afterwards, SecOC calls the sending interface of PduR to send the Secured I-PDU (If) once or (TP) several times.</p>
</section>
<section id="i-pdu-verify-i-pdu-receiving-function">
<h3>验证I-PDU（接收）功能 Verify I-PDU (Receiving) Function<a class="headerlink" href="#i-pdu-verify-i-pdu-receiving-function" title="Link to this heading">¶</a></h3>
<p>将安全 I-PDU 中包含的认证信息与基于本地数据标识符、本地新鲜度值和安全 I-PDU 中包含的原始 I-PDU 计算出的认证信息进行比较的过程。</p>
<p>It refers to the process of comparing the authentication information contained in the secure I-PDU with the authentication information calculated based on the local data identifier, local freshness value and the original I-PDU contained in the secure I-PDU.</p>
<p>安全 I-PDU 的验证包括以下六个步骤：</p>
<p>The verification of secure I-PDU includes the following six steps:</p>
<p>1.解析原始的 I-PDU、新鲜度值和身份验证器；</p>
<p>1.Analyze the original I-PDU, freshness value, and authenticator;</p>
<p>2.从新鲜度管理器获取新鲜度值；</p>
<p>2.Get freshness values from the freshness manager;</p>
<p>3.构建数据进行身份验证；</p>
<p>3.Build data for authentication;</p>
<p>4.验证身份验证信息；</p>
<p>4.Verify identity verification information;</p>
<p>5.向新鲜度经理发送确认信息；</p>
<p>5.Send confirmation message to the freshness manager;</p>
<p>6.将原始的I-PDU传递给上层。</p>
<p>6.Transmit the original I-PDU to the upper layer.</p>
<p>PduR收到需要校验的I-PDU时，调用SecOC_RxIndication()或者SecOC_StartOfReception()通知SecOC。SecOC将Secured I-PDU缓存到本地后开始校验I-PDU处理流程。</p>
<p>Upon receiving I-PDU that needs verifying, PduR will call SecOC_RxIndication() or SecOC_StartOfReception() to notify SecOC. SecOC caches the Secured I-PDU locally first and then starts verifying the I-PDU processing flow.</p>
<p>在MainFunction中，SecOC从Secured I-PDU中解析出Authentic I-PDU，FreshnessValue以及Authenticator。从新鲜度值管理器（FVM）中获取FreshnessValue，然后和Authentic I-PDU以及DataId组成DataToAuthenticator。</p>
<p>In MainFunction, SecOC parses Authentic I-PDU, FreshnessValue and Authenticator from Secured I-PDU. Get FreshnessValue from the Freshness Value Manager (FVM), and then combine it with Authentic I-PDU and DataId to form a DataToAuthenticator.</p>
<p>SecOC将DataToAuthenticator以及从接收报文中解析出来的Authenticator传递给CSM。CSM校验后将是否从成功的结果反馈给SecOC。</p>
<p>SecOC transmits the DataToAuthenticator and the Authenticator parsed from the received message to CSM. After verification, CSM will feed back the results to SecOC.</p>
<p>如果校验成功，SecOC 向FVM发送确认信息，FVM根据该信息维护FV。</p>
<p>If verification is successful, SecOC will send confirmation message to FVM, which will maintain FV based on the information.</p>
<p>SecOC调用PduR接口将Authentic I-PDU分一次（IF）或多次（TP）传递给上层。</p>
<p>SecOC transmits the Authentic I-PDU to the upper layer (IF) once or (TP) several times by calling the PduR interface.</p>
</section>
<section id="override-function-of-override">
<h3>Override功能 Function of Override<a class="headerlink" href="#override-function-of-override" title="Link to this heading">¶</a></h3>
<p>Override功能是一种特殊的可以干扰SecOC正常接收处理流程的机制。根据设置的Override策略，SecOC可能会不执行校验机制，或者在校验失败时也会将Authentic I-PDU传递给上层模块。</p>
<p>The Override function is a special mechanism that can interfere with the normal receiving and processing flow of SecOC. According to the set Override strategy, SecOC may not execute the verification mechanism, or transmit the Authentic I-PDU to the upper layer module when verification fails.</p>
<p>SecOC会在进行校验前判断Override功能设置的策略，决定是否需要调用CSM的接口进行数据校验。并且在校验结束后，根据Override功能设置的策略决定是否将需要将Authentic I-PDU传递给上层模块。</p>
<p>SecOC will decide whether to call CSM’s interface for data verification based on the strategies set for the Override function before verification. After verification ends, it will decide whether to transmit the Authentic I-PDU to the upper layer module based on the strategy of Override function setting.</p>
<p>Override策略如下表所示：</p>
<p>Override strategy is shown in the table below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>策略(Strategy)</p></th>
<th class="head"><p>说明(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SECOC_OVERRIDE_DROP_UNTIL_NOTICE</p></td>
<td><p>直至另行通知，不执行验证器验证（无 CSM 呼叫）I-PDU 被丢弃，验证结果设置为 SECOC_NO_VERIFICATION。(Unless otherwise notified, validator verification will not be performed (no CSM call) and I-PDU will be discarded. The verification result will be set to SECOC_NO_VERIFICATION.)</p></td>
</tr>
<tr class="row-odd"><td><p>SECOC_OVERRIDE_DROP_UNTIL_LIMIT</p></td>
<td><p>直到达到 NumberOfMessagesTo Override，才执行验证器验证（无 CSM 呼叫）I-PDU 被丢弃，验证结果设置为 SECOC_NO_VERIFICATION。(Validator verification will not be performed (no CSM call) and the I-PDU will be discarded until the NumberOfMessages To Override is reached. The verification result will be set to SECOC_NO_VERIFICATION.)</p></td>
</tr>
<tr class="row-even"><td><p>SECOC_OVERRIDE_CANCEL</p></td>
<td><p>取消覆盖 VerifyStatus。(Cancel the coverage of VerifyStatus.)</p></td>
</tr>
<tr class="row-odd"><td><p>SECOC_OVERRIDE_PASS_UNTIL_NOTICE</p></td>
<td><p>除非另行通知，否则执行验证器验证，无论验证结果如何，I-PDU 都会发送到上层，如果验证失败，则将验证结果设置为 SECOC_VERIFICATIONFAILURE_OVERWRITTEN。(Unless otherwise notified, validator verification will be performed. Whatever the verification result, I-PDU will transmit it to the upper layer. If verification fails, the verification result will be set to SECOC_VERIFICATIONFAILURE_OVERWRITTEN.)</p></td>
</tr>
<tr class="row-even"><td><p>SECOC_OVERRIDE_SKIP_UNTIL_LIMIT</p></td>
<td><p>直到达到 NumberOfMessagesTo Override 时，才进行认证器验证，将 I-PDU 发送到上层，验证结果设置为 SECOC_NO_VERIFICATION。如果配置了 SecOCRxSecuredPduCollection，SecOc 应处理 SecOCRxAuthentic Pdu，而无需等待 SecOCRx CryptographicPdu。(The authenticator verification will not be performed and the I-PDU will not be transmitted to the upper layer until the NumberOfMessages To Override is reached. The verification result will be set to SECOC_NO_VERIFICATION.) If SecOCRxSecuredPduCollection is configured, SecOc should process SecOCRxAuthentic Pdu without waiting for SecOCRx CryptographicPdu.</p></td>
</tr>
<tr class="row-odd"><td><p>SECOC_OVERRIDE_PASS_UNTIL_LIMIT</p></td>
<td><p>直到达到 NumberOfMessagesTo Override 为止，执行验证器验证，无论验证结果如何，I-PDU 都会发送到上层，如果验证失败，则将验证结果设置为 SECOC_VERIFICATIONFAILURE_OVERWRITTEN。(The validator verification will not be performed until NumberOfMessagesTo Override is reached. Whatever the verification results, I-PDU will transmit it to the upper layer. If verification fails, the verification result will be set to SECOC_VERIFICATIONFAILURE_OVERWRITTEN.)</p></td>
</tr>
<tr class="row-even"><td><p>SECOC_OVERRIDE_SKIP_UNTIL_NOTICE</p></td>
<td><p>除非另行通知，否则不执行认证器验证，I-PDU 被发送到上层，验证结果设置为 SECOC_NO_VERIFICATION。如果配置了 SecOCRxSecuredPduCollection，SecOc 应处理 SecOCRxAuthentic Pdu，而无需等待 SecOCRx CryptographicPdu。(Unless otherwise notified, authentication verification will not be performed and I-PDU will be transmitted to the upper layer. The verification result will be set to SECOC_NO_VERIFICATION.) If SecOCRxSecuredPduCollection is configured, SecOc should process SecOCRxAuthentic Pdu without waiting for SecOCRx CryptographicPdu.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="multi-core-distribution">
<h3>多核分布 Multi-core Distribution<a class="headerlink" href="#multi-core-distribution" title="Link to this heading">¶</a></h3>
<p>为了在不同分区之间提供负载分配，Crypto-Stack 的不同部分应分配给不同的分区。因此，应支持这种分区基于加密实例进行，即加密驱动程序实例应可定位到不同的不同分区上。</p>
<p>To provide load distribution between different partitions, different parts of Crypto Stack should be allocated to different partitions. Therefore, this partition should be supported based on encrypted instances; in other words, the encrypted driver instances can be located on different partitions.</p>
<p>SecOC 模块中的主执行线程（即相应的 MainFunctions）可以拆分为不同的 MainFunctions（每个分区至少一个）。</p>
<p>The main executing threads (i.e. corresponding MainFunctions) in the SecOC module can be split into different MainFunctions (at least one for each partition).</p>
<p>SecOC 和 PduR 之间的分区间通信由 PduR 管理。</p>
<p>The communication between SecOC and PduR is managed by PduR.</p>
</section>
<section id="deviation">
<h3>偏差 Deviation<a class="headerlink" href="#deviation" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>None</p>
</div></blockquote>
</section>
<section id="extension">
<h3>扩展 Extension<a class="headerlink" href="#extension" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>None</p>
</div></blockquote>
</section>
</section>
<section id="integration">
<h2>集成 Integration<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
<section id="file-list">
<h3>文件列表 File List<a class="headerlink" href="#file-list" title="Link to this heading">¶</a></h3>
<section id="static-files">
<h4>静态文件 Static Files<a class="headerlink" href="#static-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SecOC.h</p></td>
<td><p>SecOC模块头文件，包含了API函数的扩展声明并定义了端口的数据结构(The SecOC module header file contains extension declarations for API functions and defines the data structure of port.)</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_Cbk.h</p></td>
<td><p>SecOC模块对外提供的回调函数声明(Declares the callback functions provided by SecOC module externally)</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_Externals.h</p></td>
<td><p>SecOC模块对外提供的API函数声明(Declares the API function provided by SecOC externally)</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_Internal.h</p></td>
<td><p>SecOC内部需要使用的数据类型，宏定义等(-Data type, macro definition, etc. required for use within SecOC)</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_MemMap.h</p></td>
<td><p>SecOC变量和函数存储位置定义文件(Files for defining the storage location of SecOC variable and function)</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_Types.h</p></td>
<td><p>SecOC数据类型定义(Defines the data type of SecOC)</p></td>
</tr>
<tr class="row-even"><td><p>SecOC.c</p></td>
<td><p>SecOC模块源文件，包含了API函数的实现。(The SecOC module source file, which contains the realization of API functions.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="dynamic-files">
<h4>动态文件 Dynamic Files<a class="headerlink" href="#dynamic-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SecOC_Callout.c</p></td>
<td><p>SecOC定义的Callout函数源文件(Source file of Callout function defined by SecOC)</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_Callout.h</p></td>
<td><p>SecOC定义的Callout函数头文件(Callout function header file defined by SecOC)</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_Cfg.c</p></td>
<td><p>定义SecOC模块中PC配置参数(Defines PC configuration parameters in SecOC module)</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_Cfg.h</p></td>
<td><p>定义SecOC模块预编译时用到的配置参数(Defines the configuration parameters used for pre-compiling SecOC modules)</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_Lcfg.c</p></td>
<td><p>定义SecOC模块中连接时用到的配置参数(Defines the configuration parameters used for connections in SecOC module)</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_Lcfg.h</p></td>
<td><p>SecOC模块连接时用到的配置参数(Configuration parameters used for connecting SecOC module)</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_PBcfg.c</p></td>
<td><p>定义SecOC模块中PB配置参数(Defines PB configuration parameters in SecOC module)</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_PBcfg.h</p></td>
<td><p>SecOC模块PB配置参数(PB configuration parameters in SecOC module)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="error-handling">
<h3>错误处理 Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<section id="development-errors">
<h4>开发错误 Development Errors<a class="headerlink" href="#development-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SECOC_E_PARAM_POINTER</p></td>
<td><p>0x01</p></td>
<td><p>An API service was called with a NULL pointer</p></td>
</tr>
<tr class="row-odd"><td><p>SECOC_E_UNINIT</p></td>
<td><p>0x02</p></td>
<td><p>API service used without module initialization</p></td>
</tr>
<tr class="row-even"><td><p>SECOC_E_INVALID_PDU_SDU_ID</p></td>
<td><p>0x03</p></td>
<td><p>Invalid I-PDU identifier</p></td>
</tr>
<tr class="row-odd"><td><p>SECOC_E_CRYPTO_FAILURE</p></td>
<td><p>0x04</p></td>
<td><p>Crypto service failed</p></td>
</tr>
<tr class="row-even"><td><p>SECOC_E_INIT_FAILED</p></td>
<td><p>0x07</p></td>
<td><p>initialization of SecOC failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="product-errors">
<h4>产品错误 Product Errors<a class="headerlink" href="#product-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
<section id="runtime-errors">
<h4>运行时错误 Runtime Errors<a class="headerlink" href="#runtime-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SECOC_E_FRESHNESS_FAILURE</p></td>
<td><p>0x08</p></td>
<td><p>NO freshness value available from the Freshness Manager</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="interface-description">
<h2>接口描述 Interface Description<a class="headerlink" href="#interface-description" title="Link to this heading">¶</a></h2>
<section id="type-definitions">
<h3>类型定义 Type Definitions<a class="headerlink" href="#type-definitions" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 37.5%" />
<col style="width: 12.5%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SecOC_SameBufferPduCollectionType</p></td>
<td><p>struct SecOC_SameBufferPduCollectionTag</p></td>
<td><p>Define SecOC Buffer configuration that may be used by a collection of Pdus.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_ReceptionOverflowStrategyType</p></td>
<td><p>enum SecOC_ReceptionOverflowStrategyTag</p></td>
<td><p>Define strategy for handling PDUs when the received buffer overflows.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_VeriStatusPropModeType</p></td>
<td><p>enum SecOC_VeriStatusPropModeTag</p></td>
<td><p>Define which authentication state is passed to the SWC.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_PduType</p></td>
<td><p>enum SecOC_PduTag</p></td>
<td><p>Define the type of API.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_CryptoProcessingType</p></td>
<td><p>enum SecOC_CryptoProcessingTag</p></td>
<td><p>Define the encryption and decryption process, synchronous or asynchronous.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_CsmPrimitivesType</p></td>
<td><p>enum SecOC_CsmPrimitivesTag</p></td>
<td><p>Define the Csm primitive, MAC or SIGNATURE.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_CsmJobType</p></td>
<td><p>struct SecOC_CsmJobTag</p></td>
<td><p>Define information about the Csm job.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_RxSecuredPduType</p></td>
<td><p>struct SecOC_RxSecuredPduTag</p></td>
<td><p>Define the Pdu that is received by the SecOC module from the PduR.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_RxAuthenticPduType</p></td>
<td><p>struct SecOC_RxAuthenticPduTag</p></td>
<td><p>Define the Authentic Pdu that is received by the SecOC module from the PduR.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_RxCryptographicPduType</p></td>
<td><p>struct SecOC_RxCryptographicPduTag</p></td>
<td><p>Define the Cryptographic Pdu that is received by the SecOC module from the PduR.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_UseMessageLinkType</p></td>
<td><p>struct SecOC_UseMessageLinkTag</p></td>
<td><p>Define information about the message linker.SecOC links an Authentic I-Pdu and Cryptographic I-Pdu together by repeating a specific part (Message Linker) of the Authentic I-Pdu in the Cryptographic I-Pdu.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_QueueInfoType</p></td>
<td><p>struct SecOC_QueueInfoTag</p></td>
<td><p>Define information about the queue where PDUs reside.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_RxPduProcessingType</p></td>
<td><p>struct SecOC_RxPduProcessingTag</p></td>
<td><p>Define the processing information of the Rx Pdu.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_TxPduProcessingType</p></td>
<td><p>struct SecOC_TxPduProcessingTag</p></td>
<td><p>Define the processing information of the Tx Pdu.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_RxSecuredPduCollectionType</p></td>
<td><p>struct SecOC_RxSecuredPduCollectionTag</p></td>
<td><p>When Secured I-Pdu is received in Authentic I-Pdu and CryptoGraphic I-Pdu, specify all information of this Secured I-Pdu.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_RxSecuredPduLayerType</p></td>
<td><p>struct SecOC_RxSecuredPduLayerTag</p></td>
<td><p>Define information about the two types of Rx Secured I-PDUs.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_RxPduSecuredAreaType</p></td>
<td><p>struct SecOC_RxPduSecuredAreaTag</p></td>
<td><p>Define an area in the Authentic I-Pdu that will be the input to the Authenticator verification algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_RxAuthenticPduLayerType</p></td>
<td><p>struct SecOC_RxAuthenticPduLayerTag</p></td>
<td><p>Define the Pdu that is received by the SecOC module from the PduR.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_PbRxPduProcessingType</p></td>
<td><p>struct SecOC_PbRxPduProcessingTag</p></td>
<td><p>Define the information at the post-build phase to configure the RxPdus to be verified by the SecOC module.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_TxSecuredPduType</p></td>
<td><p>struct SecOC_TxSecuredPduTag</p></td>
<td><p>Define one Pdu that is transmitted by the SecOC module to the PduR after the Mac was generated.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_TxAuthenticPduType</p></td>
<td><p>struct SecOC_TxAuthenticPduTag</p></td>
<td><p>Define the Pdu (that is transmitted by the SecOC module to the PduR) which contains the Secured I-Pdu Header and the Authentic I-Pdu.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_TxCryptographicPduType</p></td>
<td><p>struct SecOC_TxCryptographicPduTag</p></td>
<td><p>Define the Cryptographic Pdu that is transmitted.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_TxSecuredPduCollectionType</p></td>
<td><p>struct SecOC_TxSecuredPduCollectionTag</p></td>
<td><p>Define the Pdu that is transmitted by the SecOC module to the PduR after the Mac was generated.Two separate Pdus are transmitted to the PduR:Authentic I-Pdu and Cryptographic I-Pdu.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_TxSecuredPduLayerType</p></td>
<td><p>struct SecOC_TxSecuredPduLayerTag</p></td>
<td><p>Define the Pdu that is transmitted by the SecOC module to the PduR after the Mac was generated.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_TxPduSecuredAreaType</p></td>
<td><p>struct SecOC_TxPduSecuredAreaTag</p></td>
<td><p>Define an area in the Authentic I-Pdu that will be the input to the Authenticator generation algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_TxAuthenticPduLayerType</p></td>
<td><p>struct SecOC_TxAuthenticPduLayerTag</p></td>
<td><p>Define the Pdu that is transmitted by the SecOC module to the PduR after the Mac was verified.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_PbTxPduProcessingType</p></td>
<td><p>struct SecOC_PbTxPduProcessingTag</p></td>
<td><p>Define the information at the post-build phase to configure the TxPdus to be secured by the SecOC module.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_PbConfigType</p></td>
<td><p>struct SecOC_PbConfigTag</p></td>
<td><p>Define configuration information at the post-build phase for the SecOC module.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_ReceptionOverflowStrategyTag</p></td>
<td><p>enum</p></td>
<td><p>Define strategy for handling PDUs when the received buffer overflows.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_VeriStatusPropModeTag</p></td>
<td><p>enum</p></td>
<td><p>Define which authentication state is passed to the SWC.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_PduTag</p></td>
<td><p>enum</p></td>
<td><p>Define the type of API.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_CryptoProcessingTag</p></td>
<td><p>enum</p></td>
<td><p>Define the encryption and decryption process, synchronous or asynchronous.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_CsmPrimitivesTag</p></td>
<td><p>enum</p></td>
<td><p>Define the Csm primitive, MAC or SIGNATURE.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 37.5%" />
<col style="width: 12.5%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SecOC_StateType</p></td>
<td><p>enum SecOC_StateTag</p></td>
<td><p>States of the SecOC module.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_ConfigType</p></td>
<td><p>SecOC_PbConfigType</p></td>
<td><p>Structure for the configuration of the SecOC module.</p></td>
</tr>
<tr class="row-even"><td><p>SecOC_StateTag</p></td>
<td><p>enum</p></td>
<td><p>States of the SecOC module.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="services">
<h3>提供的服务 Services<a class="headerlink" href="#services" title="Link to this heading">¶</a></h3>
<section id="secoc-init">
<h4>SecOC_Init<a class="headerlink" href="#secoc-init" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_Init</span><span class="p">(</span><span class="n">const</span> <span class="n">SecOC_ConfigType</span> <span class="o">*</span><span class="n">config</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the the SecOC module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>config</p></td>
<td><p>Pointer to a selected configuration structure.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-deinit">
<h4>SecOC_DeInit<a class="headerlink" href="#secoc-deinit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_DeInit</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>This service stops the secure onboard communication. All buffered I-PDU are removed and have to be obtained again, if needed, after SecOC_Init has been called.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-getversioninfo">
<h4>SecOC_GetVersionInfo<a class="headerlink" href="#secoc-getversioninfo" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_GetVersionInfo</span><span class="p">(</span><span class="n">Std_VersionInfoType</span> <span class="o">*</span><span class="n">versioninfo</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the version information of this module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>versioninfo</p></td>
<td><p>Pointer to where to store the version information of this module.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-iftransmit">
<h4>SecOC_IfTransmit<a class="headerlink" href="#secoc-iftransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_IfTransmit</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">PduInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Requests transmission of a PDU.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different PduIds.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>Identifier of the PDU to be transmitted.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>Length of and pointer to the PDU data and pointer to MetaData.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Transmit request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Transmit request has not been accepted.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-tptransmit">
<h4>SecOC_TpTransmit<a class="headerlink" href="#secoc-tptransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_TpTransmit</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">PduInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Requests transmission of a PDU.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different PduIds.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>Identifier of the PDU to be transmitted.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>Length of and pointer to the PDU data and pointer to MetaData.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Transmit request has been accepted.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Transmit request has not been accepted.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-ifcanceltransmit">
<h4>SecOC_IfCancelTransmit<a class="headerlink" href="#secoc-ifcanceltransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_IfCancelTransmit</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">)</span>
</pre></div>
</div>
<p>Requests cancellation of an ongoing transmission of a PDU in a lower layer communication module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different PduIds.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>Identification of the PDU to be cancelled.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Cancellation was executed successfully by the destination module.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Cancellation was rejected by the destination module.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-tpcanceltransmit">
<h4>SecOC_TpCancelTransmit<a class="headerlink" href="#secoc-tpcanceltransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_TpCancelTransmit</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">)</span>
</pre></div>
</div>
<p>Requests cancellation of an ongoing transmission of a PDU in a lower layer communication module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different PduIds.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>Identification of the PDU to be cancelled.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Cancellation was executed successfully by the destination module.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Cancellation was rejected by the destination module.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-tpcancelreceive">
<h4>SecOC_TpCancelReceive<a class="headerlink" href="#secoc-tpcancelreceive" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_TpCancelReceive</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">RxPduId</span><span class="p">)</span>
</pre></div>
</div>
<p>Requests cancellation of an ongoing reception of a PDU in a lower layer transport protocol module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Non Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RxPduId</p></td>
<td><p>Identification of the PDU to be cancelled.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Cancellation was executed successfully by the destination module.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Cancellation was rejected by the destination module.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-verifystatusoverride">
<h4>SecOC_VerifyStatusOverride<a class="headerlink" href="#secoc-verifystatusoverride" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_VerifyStatusOverride</span><span class="p">(</span><span class="n">uint16</span> <span class="n">ValueID</span><span class="p">,</span> <span class="n">SecOC_OverrideStatusType</span> <span class="n">overrideStatus</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">numberOfMessagesToOverride</span><span class="p">)</span>
</pre></div>
</div>
<p>This service provides the ability to force specific behaviour of SecOc: accept or drop an I-PDU with or without performing the verification of authenticator or independent of the authenticator verification result, and force a specific result for SecOC_VerificationResultType allowing additional fault handling in the application.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different Freshness ValueIDs</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ValueID</p></td>
<td><p>ID of the Freshness Value used to control the verification behaviour of all assigned Secured I-PDUs according to the override Status.Or ValueID is the DataID of a Secured I-PDU that shall be controlled by the overrideStatus.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>overrideStatus</p></td>
<td><p>Defines whether verification is executed and whether the I-PDU is passed on, and for how long the override is active.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>numberOfMessagesToOverride</p></td>
<td><p>Number of sequential verification to override when using a specific counter for authentication verification.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>request successful</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>request failed</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-senddefaultauthenticationinformation">
<h4>SecOC_SendDefaultAuthenticationInformation<a class="headerlink" href="#secoc-senddefaultauthenticationinformation" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_SendDefaultAuthenticationInformation</span><span class="p">(</span><span class="n">uint16</span> <span class="n">FreshnessValueID</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">sendDefaultAuthenticationInformation</span><span class="p">)</span>
</pre></div>
</div>
<p>The service provides the ability to enable the sending of un-authenticated PDU to lower layer.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different FreshnessValueIDs.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>FreshnessValueID</p></td>
<td><p>ID of the Freshness Value for which sending SecOCDefaultAuthenticationInformationPattern should be enabled.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>sendDefaultAuthenticationInformation</p></td>
<td><p>FALSE - sending SecOCDefaultAuthenticationInformation Pattern shall be disabled for given FreshnessValueID TRUE - sending SecOCDefaultAuthenticationInformationPattern shall be enabled for given FreshnessValueID.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>Cancellation was executed successfully by the destination module.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>Cancellation was rejected by the destination module.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-verifystatus">
<h4>SecOC_VerifyStatus<a class="headerlink" href="#secoc-verifystatus" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_VerifyStatus</span><span class="p">(</span><span class="n">SecOC_VerificationStatusType</span> <span class="n">verificationStatus</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is called by the SecOC module to notify the BSW module about the verification status.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>verificationStatus</p></td>
<td><p>The verification status of the SecOC module.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-rxindication">
<h4>SecOC_RxIndication<a class="headerlink" href="#secoc-rxindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_RxIndication</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">RxPduId</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">PduInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Indication of a received PDU from a lower layer communication interface module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different PduIds.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RxPduId</p></td>
<td><p>ID of the received PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>Contains the length (SduLength) of the received PDU,a pointer to a buffer (SduDataPtr) containing the PDU, and the MetaData related to this PDU.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-tprxindication">
<h4>SecOC_TpRxIndication<a class="headerlink" href="#secoc-tprxindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_TpRxIndication</span><span class="p">(</span><span class="n">PduIdType</span> <span class="nb">id</span><span class="p">,</span> <span class="n">Std_ReturnType</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Indication of a received PDU from a lower layer communication interface module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>id</p></td>
<td><p>Identification of the received I-PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>result</p></td>
<td><p>Result of the reception.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-txconfirmation">
<h4>SecOC_TxConfirmation<a class="headerlink" href="#secoc-txconfirmation" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_TxConfirmation</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">,</span> <span class="n">Std_ReturnType</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>The lower layer communication interface module confirms the transmission of a PDU,or the failure transmit a PDU.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different PduIds.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>ID of the PDU that has been transmitted.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>result</p></td>
<td><p>Result of the transmission.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-tptxconfirmation">
<h4>SecOC_TpTxConfirmation<a class="headerlink" href="#secoc-tptxconfirmation" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_TpTxConfirmation</span><span class="p">(</span><span class="n">PduIdType</span> <span class="nb">id</span><span class="p">,</span> <span class="n">Std_ReturnType</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is called after the I-PDU has been transmitted on its network, the result indicates whether the transmission was successful or not.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>id</p></td>
<td><p>Identification of the transmitted I-PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>result</p></td>
<td><p>Result of the transmission of the I-PDU.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-triggertransmit">
<h4>SecOC_TriggerTransmit<a class="headerlink" href="#secoc-triggertransmit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">SecOC_TriggerTransmit</span><span class="p">(</span><span class="n">PduIdType</span> <span class="n">TxPduId</span><span class="p">,</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">PduInfoPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Within this API, the upper layer module (called module) shall check whether the available data fits into the buffer size reported by PduInfoPtr-&gt;SduLength.If it fits, it shall copy its data into the buffer provided by PduInfoPtr-&gt;SduDataPtr and update the length of the actual copied data in PduInfoPtr-&gt;SduLength. If not, it returns E_NOT_OK without changing PduInfoPtr.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant for different PduIds</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TxPduId</p></td>
<td><p>ID of the SDU that is requested to be transmitted.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>PduInfoPtr</p></td>
<td><p>Contains a pointer to a buffer (SduDataPtr) to where the SDU data shall be copied, and the available buffer size in SduLengh.On return, the service will indicate the length of the copied SDU data in SduLength.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>SDU has been copied and SduLength indicates the number of copied bytes.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>No SDU data has been copied. PduInfoPtr must not be used since it may contain a NULL pointer or point to invalid data.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-copyrxdata">
<h4>SecOC_CopyRxData<a class="headerlink" href="#secoc-copyrxdata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BufReq_ReturnType</span> <span class="n">SecOC_CopyRxData</span><span class="p">(</span><span class="n">PduIdType</span> <span class="nb">id</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="n">PduLengthType</span> <span class="o">*</span><span class="n">bufferSizePtr</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is called to provide the received data of an I-PDU segment (N-PDU) to the upper layer. Each call to this function provides the next part of the I-PDU data.The size of the remaining buffer is written to the position indicated by bufferSizePtr.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>id</p></td>
<td><p>Identification of the received I-PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>info</p></td>
<td><p>Provides the source buffer (SduDataPtr) and the number of bytes to be copied (SduLength). An SduLength of 0 can be used to query the current amount of available buffer in the upper layer module. In this case, the SduDataPtr may be a NULL_PTR.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>bufferSizePtr</p></td>
<td><p>Available receive buffer after data has been copied.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>BufReq_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUFREQ_OK</p></td>
<td><p>Data copied successfully</p></td>
</tr>
<tr class="row-odd"><td><p>BUFREQ_E_NOT_OK</p></td>
<td><p>Data was not copied because an error occurred.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-copytxdata">
<h4>SecOC_CopyTxData<a class="headerlink" href="#secoc-copytxdata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BufReq_ReturnType</span> <span class="n">SecOC_CopyTxData</span><span class="p">(</span><span class="n">PduIdType</span> <span class="nb">id</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="n">const</span> <span class="n">RetryInfoType</span> <span class="o">*</span><span class="n">retry</span><span class="p">,</span> <span class="n">PduLengthType</span> <span class="o">*</span><span class="n">availableDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is called to acquire the transmit data of an I-PDU segment (N-PDU).Each call to this function provides the next part of the I-PDU data unless retry-&gt;TpDataState is TP_DATARETRY . In this case the function restarts to copy the data beginning at the offset from the current position indicated by retry-&gt;TxTpDataCnt.The size of the remaining data is written to the position indicated by availableDataPtr.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>id</p></td>
<td><p>Identification of the transmitted I-PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>info</p></td>
<td><p>Provides the destination buffer (SduDataPtr) and the number of bytes to be copied (SduLength).</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>retry</p></td>
<td><p>This parameter is used to acknowledge transmitted data or to retransmit data after transmission problems.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>availableDataPtr</p></td>
<td><p>Indicates the remaining number of bytes that are available in the upper layer module’s Tx buffer.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>BufReq_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUFREQ_OK</p></td>
<td><p>Data has been copied to the transmit buffer completely as requested.</p></td>
</tr>
<tr class="row-odd"><td><p>BUFREQ_E_BUSY</p></td>
<td><p>Request could not be fulfilled, because the required amount of Tx data is not available. The lower layer module may retry this call later on. No data has been copied.</p></td>
</tr>
<tr class="row-even"><td><p>BUFREQ_E_NOT_OK</p></td>
<td><p>Data has not been copied. Request failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-startofreception">
<h4>SecOC_StartOfReception<a class="headerlink" href="#secoc-startofreception" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BufReq_ReturnType</span> <span class="n">SecOC_StartOfReception</span><span class="p">(</span><span class="n">PduIdType</span> <span class="nb">id</span><span class="p">,</span> <span class="n">const</span> <span class="n">PduInfoType</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span> <span class="n">PduLengthType</span> <span class="n">TpSduLength</span><span class="p">,</span> <span class="n">PduLengthType</span> <span class="o">*</span><span class="n">bufferSizePtr</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is called at the start of receiving an N-SDU. The N-SDU might be fragmented into multiple N-PDUs (FF with one or more following CFs) or might consist of a single N-PDU (SF).</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>id</p></td>
<td><p>Identification of the I-PDU.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>info</p></td>
<td><p>Pointer to a PduInfoType structure containing the payload data (without protocol information) and payload length of the first frame or single frame of a transport protocol I-PDU reception, and the MetaData related to this PDU. If neither first/single frame data nor MetaData are available, this parameter is set to NULL_PTR.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>TpSduLength</p></td>
<td><p>Total length of the N-SDU to be received.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>bufferSizePtr</p></td>
<td><p>Available receive buffer in the receiving module. This parameter will be used to compute the Block Size (BS) in the transport protocol module.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>BufReq_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUFREQ_OK</p></td>
<td><p>Connection has been accepted. bufferSizePtr indicates the available receive buffer; reception is continued. If no buffer of the requested size is available, a receive buffer size of 0 shall be indicated by bufferSizePtr.</p></td>
</tr>
<tr class="row-odd"><td><p>BUFREQ_E_NOT_OK</p></td>
<td><p>Connection has been rejected; reception is aborted. bufferSizePtr remains unchanged.</p></td>
</tr>
<tr class="row-even"><td><p>BUFREQ_E_OVFL</p></td>
<td><p>No buffer of the required length can be provided; reception is aborted. bufferSizePtr remains unchanged.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="secoc-csmgeneratejobfinishedindication">
<h4>SecOC_CsmGenerateJobFinishedIndication<a class="headerlink" href="#secoc-csmgeneratejobfinishedindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_CsmGenerateJobFinishedIndication</span><span class="p">(</span><span class="n">const</span> <span class="n">Crypto_JobType</span> <span class="o">*</span><span class="n">job</span><span class="p">,</span> <span class="n">Crypto_ResultType</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>CSM notifies SecOC that a Authenticator generate job has finished.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>job</p></td>
<td><p>JobID of the operation that caused the callback.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>result</p></td>
<td><p>Contains the result of cryptographic operation.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="secoc-csmverifyjobfinishedindication">
<h4>SecOC_CsmVerifyJobFinishedIndication<a class="headerlink" href="#secoc-csmverifyjobfinishedindication" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">SecOC_CsmVerifyJobFinishedIndication</span><span class="p">(</span><span class="n">const</span> <span class="n">Crypto_JobType</span> <span class="o">*</span><span class="n">job</span><span class="p">,</span> <span class="n">Crypto_ResultType</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>CSM notifies SecOC that a Authenticator verify job has finished.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>job</p></td>
<td><p>JobID of the operation that caused the callback.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>result</p></td>
<td><p>Contains the result of cryptographic operation.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
<section id="applicable-services">
<h3>依赖的服务 Applicable Services<a class="headerlink" href="#applicable-services" title="Link to this heading">¶</a></h3>
<section id="compulsory-interface">
<h4>强制接口 Compulsory interface<a class="headerlink" href="#compulsory-interface" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Det_ReportRuntimeError</p></td>
<td><p>Det.h</p></td>
<td><p>Service to report runtime errors. If a callout has been configured then this callout shall be called.</p></td>
</tr>
<tr class="row-odd"><td><p>PduR_SecOCCancelTransmit</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>Requests cancellation of an ongoing transmission of a PDU in a lower layer communication module.</p></td>
</tr>
<tr class="row-even"><td><p>PduR_SecOCIfRxIndication</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>Indication of a received PDU from a lower layer communication interface module.</p></td>
</tr>
<tr class="row-odd"><td><p>PduR_SecOCIfTxConfirmation</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>The lower layer communication interface module confirms the transmission of a PDU, or the failure to transmit a PDU.</p></td>
</tr>
<tr class="row-even"><td><p>PduR_SecOCTransmit</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>Requests transmission of a PDU.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="optional-interface">
<h4>可选接口 Optional Interface<a class="headerlink" href="#optional-interface" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Csm_MacGenerate</p></td>
<td><p>Csm.h</p></td>
<td><p>Uses the given data to perform a MAC generation and stores the MAC in the memory location pointed to by the MAC pointer.</p></td>
</tr>
<tr class="row-odd"><td><p>Csm_MacVerify</p></td>
<td><p>Csm.h</p></td>
<td><p>Verifies the given MAC by comparing if the MAC is generated with the given data.</p></td>
</tr>
<tr class="row-even"><td><p>Csm_SignatureGenerate</p></td>
<td><p>Csm.h</p></td>
<td><p>Uses the given data to perform the signature calculation and stores the signature in the memory location pointed by the result pointer.</p></td>
</tr>
<tr class="row-odd"><td><p>Csm_SignatureVerify</p></td>
<td><p>Csm.h</p></td>
<td><p>Verifies the given signature by checking if it was generated with the given data.</p></td>
</tr>
<tr class="row-even"><td><p>Det_ReportError</p></td>
<td><p>Det.h</p></td>
<td><p>Service to report development errors.</p></td>
</tr>
<tr class="row-odd"><td><p>IdsM_SetSecurityEvent</p></td>
<td><p>IdsM.h</p></td>
<td><p>This API is the application interface to report security events to the IdsM.</p></td>
</tr>
<tr class="row-even"><td><p>IdsM_SetSecurityEventWithContextData</p></td>
<td><p>IdsM.h</p></td>
<td><p>This API is the application interface to report security events with context data to the IdsM.</p></td>
</tr>
<tr class="row-odd"><td><p>PduR_SecOCCancelReceive</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>Requests cancellation of an ongoing reception of a PDU in a lower layer transport protocol module.</p></td>
</tr>
<tr class="row-even"><td><p>PduR_SecOCTpCopyRxData</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>This function is called to provide the received data of an I-PDU segment (N-PDU) to the upper layer. Each call to this function provides the next part of the I-PDU data. The size of the remaining buffer is written to the position indicated by bufferSizePtr.</p></td>
</tr>
<tr class="row-odd"><td><p>PduR_SecOCTpCopyTxData</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>This function is called to acquire the transmit data of an I-PDU segment (N-PDU). Each call to this function provides the next part of the I-PDU data unless retry-&gt;TpDataState is TP_DATARETRY. In this case the function restarts to copy the data beginning at the offset from the current position indicated by retry-&gt;TxTpDataCnt. The size of the remaining data is written to the position indicated by availableDataPtr.</p></td>
</tr>
<tr class="row-even"><td><p>PduR_SecOCTpRxIndication</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>Called after an I-PDU has been received via the TP API, the result indicates whether the transmission was successful or not.</p></td>
</tr>
<tr class="row-odd"><td><p>PduR_SecOCTpStartOfReception</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>This function is called at the start of receiving an N-SDU. The N-SDU might be fragmented into multiple N-PDUs (FF with one or more following CFs) or might consist of a single N-PDU (SF). The service shall provide the currently available maximum buffer size when invoked with TpSdu Length equal to 0.</p></td>
</tr>
<tr class="row-even"><td><p>PduR_SecOCTpTxConfirmation</p></td>
<td><p>PduR_SecOC.h</p></td>
<td><p>This function is called after the I-PDU has been transmitted on its network, the result indicates whether the transmission was successful or not.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-interfaces">
<h4>配置接口 Configuration Interfaces<a class="headerlink" href="#configuration-interfaces" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 11.1%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API Function</p></th>
<th class="head"><p>Header File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SecOC_VerifyStatus</p></td>
<td><p>SecOC_Externals.h</p></td>
<td><p>This service provides the ability to inform the application about the result of the verification attempt of a received PDU by the SecOC module.</p></td>
</tr>
<tr class="row-odd"><td><p>SecOC_VerificationStatusCallout</p></td>
<td><p>SecOC_Externals.h</p></td>
<td><p>Service is used to propagate the status of each verification attempt from the SecOC module to other modules.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="configuration">
<h2>配置 Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<section id="i-pdu-certificate-i-pdu-configuration">
<h3>认证I-PDU配置 Certificate I-PDU Configuration<a class="headerlink" href="#i-pdu-certificate-i-pdu-configuration" title="Link to this heading">¶</a></h3>
<p>1.认证I-PDU配置主要在SecOCTxPduProcessing中进行，用户需要确认好需要保护的报文和使用的加密方式以及新鲜度管理器， 明确从哪里（上层）发送到哪里（通信栈）。</p>
<p>1.The authentication of I-PDU configuration is mainly carried out in SecOCTxPduProcessing. Users should confirm the messages that need protecting, the encryption method used and the freshness manager, and clarify the sending path (from upper layer to communication stack).</p>
<p>2.首先确认需要保护的I-PDU是否已经配置到SecOC模块中, 然后将相关报文的PduID在PduR中关联起来。</p>
<p>2.First, confirm whether the I-PDU that needs protecting has been configured in the SecOC module, and then link the PduID of the relevant message in PduR.</p>
<figure class="align-center" id="secoc-fig-arch-04">
<img alt="发送时将SecOC与PduR串起来 (String SecOC and PduR together during sending)" src="../../../_images/ComTxPduR.png" />
<figcaption>
<p><span class="caption-text">发送时将SecOC与PduR串起来 (String SecOC and PduR together during sending)</span><a class="headerlink" href="#secoc-fig-arch-04" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>3.配置Authentic I-PDU的相关属性，包括DataId，SecOCFreshnessValueId, SecOCRxAuthServiceConfigRef等。</p>
<p>3.Configure relevant attributes of Authentic I-PDU, including DataId, SecOCFreshnessValueId, SecOCRxAuthServiceConfigRef, etc.</p>
<figure class="align-center" id="secoc-fig-arch-05">
<img alt="配置SecOC发送安全I-PDU (Configure SecOC to send secure I-PDU)" src="../../../_images/SecOCTxConfig.png" />
<figcaption>
<p><span class="caption-text">配置SecOC发送安全I-PDU (Configure SecOC to send secure I-PDU)</span><a class="headerlink" href="#secoc-fig-arch-05" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>4.配置关联原始I-PDU ID</p>
<p>4.Configure and link original I-PDU ID</p>
<figure class="align-center" id="secoc-fig-arch-06">
<img alt="Config TxAuthentic" src="../../../_images/SecOCTxAuthenticPdu.png" />
<figcaption>
<p><span class="caption-text">Config TxAuthentic</span><a class="headerlink" href="#secoc-fig-arch-06" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>5.配置Secured I-PDU,将安全I-pdu与下层关联起来</p>
<p>5.Configure Secured I-PDU and link it with the lower layer</p>
<figure class="align-center" id="secoc-fig-arch-07">
<img alt="Config TxSecured" src="../../../_images/SecOCTxSecuredPdu.png" />
<figcaption>
<p><span class="caption-text">Config TxSecured.</span><a class="headerlink" href="#secoc-fig-arch-07" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="i-pdu-verify-i-pdu-configuration">
<h3>校验I-PDU配置 Verify I-PDU Configuration<a class="headerlink" href="#i-pdu-verify-i-pdu-configuration" title="Link to this heading">¶</a></h3>
<p>1.校验I-PDU配置主要在SecOCRxPduProcessing中进行，用户需要确认好需要校验的报文和使用的加密方式以及新鲜度管理器， 明确从哪里（通信栈）接收然后传到到哪里（上层）。</p>
<p>1.The verification of I-PDU configuration is mainly carried out in SecOCRxPduProcessing. Users should confirm the messages that need verifying, the encryption method used, and the freshness manager, and clarify the receiving path (from communication stack to upper layer).</p>
<p>2.首先确认需要校验的I-PDU是否已经配置到SecOC模块中, 然后将相关报文的PduID在PduR中关联起来。</p>
<p>2.First, confirm whether the I-PDU that needs verifying has been configured in the SecOC module, and then link the PduID of the relevant message in PduR.</p>
<figure class="align-center" id="secoc-fig-arch-08">
<img alt="接收时将SecOC与PduR串起来 (String SecOC and PduR together during receiving)" src="../../../_images/SecOCToUpper.png" />
<figcaption>
<p><span class="caption-text">接收时将SecOC与PduR串起来.  (String SecOC and PduR together during receiving.)</span><a class="headerlink" href="#secoc-fig-arch-08" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>3.配置Secured I-PDU的相关属性，包括DataId，SecOCFreshnessValueId, SecOCRxAuthServiceConfigRef等。</p>
<p>3.Configure relevant attributes of Secured I-PDU, including DataId, SecOCFreshnessValueId, SecOCRxAuthServiceConfigRef etc.</p>
<figure class="align-center" id="secoc-fig-arch-09">
<img alt="配置接收时PduR与SecOC上层模块关联 (Link PduR and SecOC upper layer modules when receiving configuration)" src="../../../_images/SecOCRxConfig.png" />
<figcaption>
<p><span class="caption-text">配置接收时PduR与SecOC上层模块关联. (Link PduR and SecOC upper layer modules when receiving configuration.)</span><a class="headerlink" href="#secoc-fig-arch-09" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>4.配置关联Secured I-PDU ID</p>
<p>4.Configure the linked Secured I-PDU ID</p>
<figure class="align-center" id="secoc-fig-arch-10">
<img alt="Config RxSecured" src="../../../_images/SecOCRxSecuredPdu.png" />
<figcaption>
<p><span class="caption-text">Config RxSecured.</span><a class="headerlink" href="#secoc-fig-arch-10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>5.配置Authentic I-PDU,将Authentic I-PDU与上层关联起来</p>
<p>5.Configure Authentic I-PDU and link it with the upper layer</p>
<figure class="align-center" id="secoc-fig-arch-11">
<img alt="Config RxAuthentic" src="../../../_images/SecOCRxAuthenticPdu.png" />
<figcaption>
<p><span class="caption-text">Config RxAuthentic.</span><a class="headerlink" href="#secoc-fig-arch-11" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="multi-partition-configuration">
<h3>多分区配置 Multi-partition Configuration<a class="headerlink" href="#multi-partition-configuration" title="Link to this heading">¶</a></h3>
<p>1.在 SecOCMainFunctionRx 或者 SecOCMainFunctionTx 中，SecOC模块需要根据配置的分区信息，将不同的任务分配到不同的分区中。</p>
<p>1.In SecOCMainFunctionRx or SecOCMainFunctionTx, the SecOC module should allocate different tasks to different partitions based on the configured partition information.</p>
<figure class="align-center" id="secoc-fig-arch-12">
<img alt="SecOCPartition" src="../../../_images/SecOCPartition.png" />
<figcaption>
<p><span class="caption-text">SecOCPartition.</span><a class="headerlink" href="#secoc-fig-arch-12" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>2.在SecOCRxPduProcessing中的SecOCRxPduMainFunctionRef 或者 SecOCTxPduProcessing中的SecOCTxPduMainFunctionRef中选择相应的分区。</p>
<p>2.Select the corresponding partition from SecOCRxPduMainFunctionalRef in SecOCRxPduProcessing or SecOCTxPduMainFunctionalRef in SecOCTxPduProcessing.</p>
</section>
<section id="override-configuration-of-override">
<h3>Override配置 Configuration of Override<a class="headerlink" href="#override-configuration-of-override" title="Link to this heading">¶</a></h3>
<p>1.通过配置SecOCIgnoreVerificationResult来使能忽略验证结果。</p>
<p>1.Enable the ignoring of verification results by configuring SecOCIgnoreVerifyResult.</p>
<p>2.通过调用函数SecOC_VerifyStatusOverride来覆写验证结果，或者执行过程。</p>
<p>2.Overwrite the verification result or execute the process by calling the function SecOC_VerifyStatusOverride.</p>
<p>Collection配置 Configuration of Collection</p>
<p>1.在SecOCRxPduProcessing或者SecOCTxPduProcessing下的SecOCRxSecuredPduLayer或SecOCTxSecuredPduLayer中配置SecOCRxSecuredPduCollection或SecOCTxSecuredPduCollection,</p>
<p>1.Configure SecOCRxSecuredAnduCollection or SecOCTxSecuredAnduCollection in SecOCRxSecuredAnduLayer or SecOCTxSecuredAnduLayer of SecOCRxPduProcessing or SecOCTxPduProcessing,</p>
<p>2.将安全分为两帧发送出去，分别为AuthenticPdu和CryptographicPdu。</p>
<p>2.Divide the security into two frames and send them out, i.e., AuthenticPdu and CryptographicPdu.</p>
<figure class="align-center" id="secoc-fig-arch-13">
<img alt="SecOCCollection" src="../../../_images/SecOCCollection.png" />
<figcaption>
<p><span class="caption-text">SecOCCollection.</span><a class="headerlink" href="#secoc-fig-arch-13" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../Sd/Sd.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>Sd
    </a>
    <a class="float-right" href="../SoAd/SoAd.html" title="Next">
        SoAd <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">SecOC</a><ul>
<li><a class="reference internal" href="#document-information">文档信息 Document Information</a><ul>
<li><a class="reference internal" href="#version-history">版本历史 Version History</a></li>
<li><a class="reference internal" href="#references">参考文档 References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terms-and-abbreviations">术语与简写 Terms and Abbreviations</a><ul>
<li><a class="reference internal" href="#terms">术语 Terms</a></li>
<li><a class="reference internal" href="#abbreviations">简写 Abbreviations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">简介 Introduction</a></li>
<li><a class="reference internal" href="#functional-description">功能描述 Functional Description</a><ul>
<li><a class="reference internal" href="#features">特性 Features</a><ul>
<li><a class="reference internal" href="#authentic-i-pdu">Authentic I-PDU</a></li>
<li><a class="reference internal" href="#secured-i-pdu">Secured I-PDU</a></li>
<li><a class="reference internal" href="#authenticator-data-covered-by-authenticator">Authenticator 涵盖的数据 Data Covered by Authenticator</a></li>
<li><a class="reference internal" href="#freshness-value">Freshness Value</a></li>
</ul>
</li>
<li><a class="reference internal" href="#secocpdur-relationship-between-secoc-and-pdur">SecOC和PduR的关系 Relationship Between SecOC and PduR</a></li>
<li><a class="reference internal" href="#i-pdu-certificate-i-pdu-sending-function">认证I-PDU（发送）功能 Certificate I-PDU (Sending) Function</a></li>
<li><a class="reference internal" href="#i-pdu-verify-i-pdu-receiving-function">验证I-PDU（接收）功能 Verify I-PDU (Receiving) Function</a></li>
<li><a class="reference internal" href="#override-function-of-override">Override功能 Function of Override</a></li>
<li><a class="reference internal" href="#multi-core-distribution">多核分布 Multi-core Distribution</a><ul class="simple">
</ul>
</li>
<li><a class="reference internal" href="#deviation">偏差 Deviation</a></li>
<li><a class="reference internal" href="#extension">扩展 Extension</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration">集成 Integration</a><ul>
<li><a class="reference internal" href="#file-list">文件列表 File List</a><ul>
<li><a class="reference internal" href="#static-files">静态文件 Static Files</a></li>
<li><a class="reference internal" href="#dynamic-files">动态文件 Dynamic Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">错误处理 Error Handling</a><ul>
<li><a class="reference internal" href="#development-errors">开发错误 Development Errors</a></li>
<li><a class="reference internal" href="#product-errors">产品错误 Product Errors</a></li>
<li><a class="reference internal" href="#runtime-errors">运行时错误 Runtime Errors</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interface-description">接口描述 Interface Description</a><ul>
<li><a class="reference internal" href="#type-definitions">类型定义 Type Definitions</a></li>
<li><a class="reference internal" href="#services">提供的服务 Services</a><ul>
<li><a class="reference internal" href="#secoc-init">SecOC_Init</a></li>
<li><a class="reference internal" href="#secoc-deinit">SecOC_DeInit</a></li>
<li><a class="reference internal" href="#secoc-getversioninfo">SecOC_GetVersionInfo</a></li>
<li><a class="reference internal" href="#secoc-iftransmit">SecOC_IfTransmit</a></li>
<li><a class="reference internal" href="#secoc-tptransmit">SecOC_TpTransmit</a></li>
<li><a class="reference internal" href="#secoc-ifcanceltransmit">SecOC_IfCancelTransmit</a></li>
<li><a class="reference internal" href="#secoc-tpcanceltransmit">SecOC_TpCancelTransmit</a></li>
<li><a class="reference internal" href="#secoc-tpcancelreceive">SecOC_TpCancelReceive</a></li>
<li><a class="reference internal" href="#secoc-verifystatusoverride">SecOC_VerifyStatusOverride</a></li>
<li><a class="reference internal" href="#secoc-senddefaultauthenticationinformation">SecOC_SendDefaultAuthenticationInformation</a></li>
<li><a class="reference internal" href="#secoc-verifystatus">SecOC_VerifyStatus</a></li>
<li><a class="reference internal" href="#secoc-rxindication">SecOC_RxIndication</a></li>
<li><a class="reference internal" href="#secoc-tprxindication">SecOC_TpRxIndication</a></li>
<li><a class="reference internal" href="#secoc-txconfirmation">SecOC_TxConfirmation</a></li>
<li><a class="reference internal" href="#secoc-tptxconfirmation">SecOC_TpTxConfirmation</a></li>
<li><a class="reference internal" href="#secoc-triggertransmit">SecOC_TriggerTransmit</a></li>
<li><a class="reference internal" href="#secoc-copyrxdata">SecOC_CopyRxData</a></li>
<li><a class="reference internal" href="#secoc-copytxdata">SecOC_CopyTxData</a></li>
<li><a class="reference internal" href="#secoc-startofreception">SecOC_StartOfReception</a></li>
<li><a class="reference internal" href="#secoc-csmgeneratejobfinishedindication">SecOC_CsmGenerateJobFinishedIndication</a></li>
<li><a class="reference internal" href="#secoc-csmverifyjobfinishedindication">SecOC_CsmVerifyJobFinishedIndication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#applicable-services">依赖的服务 Applicable Services</a><ul>
<li><a class="reference internal" href="#compulsory-interface">强制接口 Compulsory interface</a></li>
<li><a class="reference internal" href="#optional-interface">可选接口 Optional Interface</a></li>
<li><a class="reference internal" href="#configuration-interfaces">配置接口 Configuration Interfaces</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">配置 Configuration</a><ul>
<li><a class="reference internal" href="#i-pdu-certificate-i-pdu-configuration">认证I-PDU配置 Certificate I-PDU Configuration</a></li>
<li><a class="reference internal" href="#i-pdu-verify-i-pdu-configuration">校验I-PDU配置 Verify I-PDU Configuration</a></li>
<li><a class="reference internal" href="#multi-partition-configuration">多分区配置 Multi-partition Configuration</a></li>
<li><a class="reference internal" href="#override-configuration-of-override">Override配置 Configuration of Override</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>
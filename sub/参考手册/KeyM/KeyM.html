<!DOCTYPE html>
<html class="no-js" lang="en" data-content_root="../../../">
<head>
    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
        <title>KeyM &mdash; EasyXMen_docs 1.0.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/dist/theme.css?v=310cf088" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            <link rel="index" title="Index" href="../../../genindex.html" />
            <link rel="search" title="Search" href="../../../search.html" />
            <link rel="top" title="EasyXMen_docs 1.0.0 documentation" href="#" />
            <link rel="next" title="LdCom" href="../LdCom/LdCom.html" />
            <link rel="prev" title="IStdLib" href="../IStdLib/IStdLib.html" />
    </head>
<body>
    <script type="text/javascript" src="../../../_static/dist/blocking.js"></script>
    <header class="container-fluid bg-primary">
        <a class="btn btn-sm btn-light skip-to-content-link" href="#main">Skip to content</a>
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../index.html"
                        title="Wagtail"
                        class="logo navbar-brand"
                    >
                        <img src="../../../_static/img/xmen_logo.png" width="45" height="59" alt="Wagtail"
                            class="logo-img"
                        />
                        开源小满EasyXMen
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" class="searchbox mb-6 px-1" role="search">
    <form id="search-form" action="../../../search.html" autocomplete="off" method="get" role="search">
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text border-right-0 bg-white py-3 pl-3 pr-2"><span class="fas fa-search"></span></div>
            </div>
            <input class="form-control py-3 pr-3 pl-1 h-100 border-left-0" type="search" name="q" placeholder="Search documentation" aria-label="Search documentation" id="searchinput" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">参考手册:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Bfx/Bfx.html">Bfx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../BswM/BswM.html">BswM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanIf/CanIf.html">CanIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanNm/CanNm.html">CanNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanSM/CanSM.html">CanSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTp/CanTp.html">CanTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTsyn/CanTsyn.html">CanTsyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Com/Com.html">Com</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ComM/ComM.html">ComM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crc/Crc.html">Crc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Det/Det.html">Det</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CryIf/CryIf.html">CryIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Crypto_62/Crypto_62.html">Crypto_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CsM/CsM.html">CsM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dcm/Dcm.html">Dcm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dem/Dem.html">Dem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Dlt/Dlt.html">Dlt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DoIP/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../E2E/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EcuM/EcuM.html">EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Ea/Ea.html">Ea</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Eep_62/Eep_62.html">Eep_62</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthIf/EthIf.html">EthIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSM/EthSM.html">EthSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTrcv/EthTrcv.html">EthTrcv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthTSyn/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fee/Fee.html">Fee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fim/Fim.html">Fim</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashTest/FlashTest.html">FlsTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IpduM/IpduM.html">IpduM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IStdLib/IStdLib.html">IStdLib</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">KeyM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LdCom/LdCom.html">LdCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinIf/LinIf.html">LinIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinSM/LinSM.html">LinSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemIf/MemIf.html">MemIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemMap/MemMap.html">MemMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MemLayout/MemLayout.html">MemLayout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Nm/Nm.html">Nm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NvM/NvM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Os/Os.html">Os</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PduR/PduR.html">PduR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RamTest/RamTest.html">RamTst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Rte/Rte.html">Rte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iRte/iRte.html">iRte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Sd/Sd.html">Sd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SecOC/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SoAd/SoAd.html">SoAd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SomeIpTp/SomeIpTp.html">SomeIpTp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StbM/StbM.html">StbM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TcpIp/TcpIp.html">TcpIp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UdpNm/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgIf/WdgIf.html">WdgIf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../WdgM/WdgM.html">WdgM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Xcp/Xcp.html">Xcp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tm/Tm.html">Tm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CDD_FVM/CDD_FVM.html">CDD_FVM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EthSwt/EthSwt.html">EthSwt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CanTrcv/CanTrcv.html">CanTrcv</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">集成手册:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/BswM%26EcuM.html">BswM&amp;EcuM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CAN.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CANNM.html">CANNM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/CanTSyn.html">CanTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/DoIP.html">DoIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/E2E.html">E2E</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/Eth.html">Eth</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/EthTSyn.html">EthTSyn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/FlashTest.html">FlashTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinMaster.html">LinMaster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/LinSlave.html">LINSlave</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/NVM.html">NvM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/OBD.html">OBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/RamTest.html">RamTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SecOC.html">SecOC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/SOMEIP.html">SOMEIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UdpNm.html">UdpNm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonCAN.html">UDSOnCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/UDSonLIN.html">UDSonLIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/WDG.html">WDG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/XCP.html">XCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E9%9B%86%E6%88%90%E6%89%8B%E5%86%8C/%E6%80%BB%E4%BD%93%E6%9E%B6%E6%9E%84.html">总体架构</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">工程说明:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/RH850U2A16_R7F702300BFABA_C_Demo.html">RH850U2A16_R7F702300BFABA_C_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/TC397_Demo.html">TC397_Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E/S32K148_Demo.html">S32K148_Demo</a></li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../index.html">Docs</a></li>
        <li class="breadcrumb-item active" aria-current="page">KeyM</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="wagtail-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../../_sources/sub/参考手册/KeyM/KeyM.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main" id="main">
    <section id="keym">
<h1>KeyM<a class="headerlink" href="#keym" title="Link to this heading">¶</a></h1>
<section id="document-information">
<h2>文档信息 Document Information<a class="headerlink" href="#document-information" title="Link to this heading">¶</a></h2>
<section id="version-history">
<h3>版本历史 Version History<a class="headerlink" href="#version-history" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>日期(Date)</p></th>
<th class="head"><p>作者(Author)</p></th>
<th class="head"><p>版本(Version)</p></th>
<th class="head"><p>状态(Status)</p></th>
<th class="head"><p>说明(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2025/02/22</p></td>
<td><p>jie.gu</p></td>
<td><p>V0.1</p></td>
<td><p>发布(Release)</p></td>
<td><p>首次发布(First release)</p></td>
</tr>
<tr class="row-odd"><td><p>2025/04/04</p></td>
<td><p>jie.gu</p></td>
<td><p>V1.0</p></td>
<td><p>发布(Release)</p></td>
<td><p>正式发布(Official release)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="references">
<h3>参考文档 References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
<col style="width: 16.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>编号(Number)</p></th>
<th class="head"><p>分类(Classification)</p></th>
<th class="head"><p>标题(Title)</p></th>
<th class="head"><p>版本(Version)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SRS_CryptoStack.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Autosar</p></td>
<td><p>AUTOSAR_CP_SWS_KeyManager.pdf</p></td>
<td><p>R23-11</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="terms-and-abbreviations">
<h2>术语与简写 Terms and Abbreviations<a class="headerlink" href="#terms-and-abbreviations" title="Link to this heading">¶</a></h2>
<section id="terms">
<h3>术语 Terms<a class="headerlink" href="#terms" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>术语(Terms)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Callback</p></th>
<th class="head"><p>在本文档中，术语 “callback” 用于API services，其旨在向其他BSW modules发送通知。(For the purpose of this file, the term “callback” is used for API services, which are intended for sending notifications to other BSW modules.)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Callout</p></td>
<td><p>Callouts是函数存根（function stubs），可在配置阶段填充内容，其用途是为提供callout的模块增加功能。(Callouts are function stubs that can be filled in during configuration phase, in order to add functions to modules that provide callouts.)</p></td>
</tr>
<tr class="row-even"><td><p>Class</p></td>
<td><p>Class代表一组具有相似电气特性的信号。(Class represents a group of signals with similar electrical characteristics.)</p></td>
</tr>
<tr class="row-odd"><td><p>Client / Server communication</p></td>
<td><p>本定义摘录自[9]：客户端 - 服务器（Client-server）通信涉及两个实体，即作为service 请求方（或使用者）的client，以及提供service的server。client发起通信，请求server执行某项service，必要时会传输一个参数集（parameter set）。以RTE形式存在的server，会等待来自client的传入通信请求，执行所请求的service，并将响应（response）发送至client的请求。因此，通过通信的发起方向，可对AUTOSAR软件组件（AUTOSAR Software Component）是client还是server进行分类。(This definition is excerpted from [9]: Client-server communication involves two entities, i.e., the client as the service requester (or user), and the server providing services.) The client initiates communication to request the server to execute some service, and also, where necessary, transmits a parameter set. The server in the form of RTE waits for the inward transmission communication requests from client, executes the requested service, and sends response to the client’s request. Therefore, classify whether the AUTOSAR Software Component is a client or a server by the initiation direction of communication.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="abbreviations">
<h3>简写 Abbreviations<a class="headerlink" href="#abbreviations" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 33.3%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>简写(Abbreviation)</p></th>
<th class="head"><p>全称(Full name)</p></th>
<th class="head"><p>解释(Explanation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KeyM</p></td>
<td><p>Key Manager</p></td>
<td><p>密钥管理器</p></td>
</tr>
<tr class="row-odd"><td><p>PKI</p></td>
<td><p>Public Key Infrastructure</p></td>
<td><p>公钥基础设施</p></td>
</tr>
<tr class="row-even"><td><p>CSR</p></td>
<td><p>Certificate Signing Request</p></td>
<td><p>证书签名请求</p></td>
</tr>
<tr class="row-odd"><td><p>CSM</p></td>
<td><p>Crypto Service Manager</p></td>
<td><p>加密服务管理器</p></td>
</tr>
<tr class="row-even"><td><p>CRL</p></td>
<td><p>Certificate Revocation List</p></td>
<td><p>证书吊销列表</p></td>
</tr>
<tr class="row-odd"><td><p>CA</p></td>
<td><p>Certificate Authority</p></td>
<td><p>证书认证</p></td>
</tr>
<tr class="row-even"><td><p>OID</p></td>
<td><p>Object Identifier</p></td>
<td><p>一个字节长度的数组用于识别一个或者一组证书元素.(An array of byte length is used for identifying one or a set of certificate elements)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="introduction">
<h2>简介 Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>在一个加密功能中，密钥和证书的功能占比重很大。首先，密钥是一种参数，它是在明文转换为密文或将密文转换为明文的算法中输入的参数。许多加密算法需要使用到密钥，因此，就需要 keyM 模块来管理密钥，而 keyM 对于密钥的管理主要体现在对密钥的更新和生成密钥方面。而证书对网络用户在网络交流中的信息和数据等以加密或解密的形式保证了信息和数据的完整性和安全性。KeyM 模块可以实现证书的链的配置保存与验证，这使得网络中的信息和数据的安全性更高。</p>
<p>The functions of keys and certificates account for a large proportion in encryption function. Firstly, key is a kind of parameter that is input into algorithm converting plaintext to ciphertext or vice versa. Key is required in many encryption algorithms; therefore, a keyM module is required to manage keys. The management of keyM for key is mainly reflected in key updating and generating. Certificate can ensure the integrity and security of information and data exchanged by network users by either encryption or decryption. The KeyM module can save and verify the configuration of certificate chains, which enhances the security of information and data in the network.</p>
</section>
<section id="functional-description">
<h2>功能描述 Functional Description<a class="headerlink" href="#functional-description" title="Link to this heading">¶</a></h2>
<section id="features">
<h3>特性 Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h3>
<p>1.KeyM功能介绍</p>
<p>1.Introduction to KeyM function</p>
<p>Key Management 分为两部分：秘钥子模块和证书子模块</p>
<p>Key Management includes two parts: Key submodule and certificate submodule</p>
<p>2.Key子模块</p>
<p>2.Key submodule</p>
<p>秘钥子模块可以根据配置的需求，利用 HSM 的功能派生出新的秘钥，可以通过会话模式更新秘钥及秘钥元素，当会话开启后，可以对秘钥进行更新，结束会话后，更新的秘钥将被置成可用状态。</p>
<p>By leveraging the functions of HSM, the key submodule can derive new keys according to the configuration requirements. The keys and key elements can be updated through session mode. When a session is opened, the keys can be updated. The updated keys will be available upon the ending of session.</p>
<p>3.证书子模块</p>
<p>3.Certificate submodule</p>
<p>证书子模块允许配置证书链，在配置中将证书的属性和关系设置好，上层应用通过 API 将证书数据传给 keyM 后，证书子模块将根据配置内容及 HSM 按照标准结构解析的证书存储进配置的位置（NVM、CSM 或 RAM）。在存储之前将对证书进行解析与验证操作，以确定该证书的可靠性</p>
<p>The certificate submodule supports the configuration of certificate chains by setting the attributes and relationships of certificates in the configuration. After the upper layer application transfers the certificate data to keyM via API, the certificate submodule will be stored in the position configured (NVM, CSM, or RAM) based on the configuration content and the certificate parsed by HSM according to the standard structure. Before storage, the certificate will be parsed and validated to confirm its reliability</p>
</section>
<section id="deviation">
<h3>偏差 Deviation<a class="headerlink" href="#deviation" title="Link to this heading">¶</a></h3>
<p>1.证书链</p>
<p>1.Certificate chain</p>
<p>目前未实现证书链的验证功能</p>
<p>The verification function of certificate chain has not been implemented yet</p>
</section>
<section id="extension">
<h3>扩展 Extension<a class="headerlink" href="#extension" title="Link to this heading">¶</a></h3>
<p>None</p>
</section>
</section>
<section id="integration">
<h2>集成 Integration<a class="headerlink" href="#integration" title="Link to this heading">¶</a></h2>
<section id="file-list">
<h3>文件列表 File List<a class="headerlink" href="#file-list" title="Link to this heading">¶</a></h3>
<figure class="align-center" id="fig-keymfilelist">
<img alt="KeyM组件文件组织结构描述(Description of KeyM component file organization structure)" src="../../../_images/Filelist2.png" />
<figcaption>
<p><span class="caption-text">KeyM组件文件组织结构描述. (Descriptions of KeyM component file organization structure)</span><a class="headerlink" href="#fig-keymfilelist" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>如图  <a class="reference internal" href="#fig-keymfilelist"><span class="std std-ref">KeyM组件文件组织结构描述. (Descriptions of KeyM component file organization structure)</span></a> 所示，KeyM模块的文件引用关系如下：</p>
<p>As shown in the figure  <a class="reference internal" href="#fig-keymfilelist"><span class="std std-ref">KeyM组件文件组织结构描述. (Descriptions of KeyM component file organization structure)</span></a> , the file reference relationship of the KeyM module is shown as follows:</p>
<section id="static-files">
<h4>静态文件 Static Files<a class="headerlink" href="#static-files" title="Link to this heading">¶</a></h4>
<blockquote>
<div><p>None</p>
</div></blockquote>
</section>
<section id="dynamic-files">
<h4>动态文件 Dynamic Files<a class="headerlink" href="#dynamic-files" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>文件(File)</p></th>
<th class="head"><p>描述(Description)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KeyM.c</p></td>
<td><p>KeyM 模块源文件，包含了 API 函数的实现。(The KeyM module source file, which contains the realization of API functions.)</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM.h</p></td>
<td><p>KeyM 模块头文件，包含了 API 函数的扩展声明并定义了配置的数据结构。(The KeyM module header file contains extension declarations for API functions and defines the structure of configured data.)</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_Cfg.h</p></td>
<td><p>定义 KeyM 模块预编译时用到的配置参数。(Defines the configuration parameters for pre-compiling KeyM modules.)</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_Cfg.c</p></td>
<td><p>KeyM 模块配置生成文件。(Files generated by KeyM module configuration.)</p></td>
</tr>
<tr class="row-even"><td><p>SchM_KeyM.h</p></td>
<td><p>声明 KeyM 模块需要循环调用的 API。(Declares the API that the KeyM module needs to call in a loop.)</p></td>
</tr>
<tr class="row-odd"><td><p>Rte_KeyM_Type.h</p></td>
<td><p>定义其它模块可能使用的 KeyM 模块的数据结构。(Defines the data structure of KeyM modules that other modules may use.)</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_Externals.c</p></td>
<td><p>KeyM 模块源文件，包含 KeyM 模块外部实现的接口。(The KeyM module source file, which contains the interfaces realized externally for the KeyM module.)</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_Externals.h</p></td>
<td><p>KeyM 模块头文件，定义 KeyM 模块外部实现的接口。(-The KeyM module header file, which defines the interfaces realized externally for the KeyM module.)</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_Internal.h</p></td>
<td><p>KeyM 内部变量 (KeyM internal variables)</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_MemMap.h</p></td>
<td><p>KeyM 模块的内存映射 (Memory mapping of KeyM module)</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_Type.h</p></td>
<td><p>KeyM 的配置类型结构 (Configuration type structure of KeyM)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="error-handling">
<h3>错误处理 Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h3>
<section id="development-errors">
<h4>开发错误 Development Errors<a class="headerlink" href="#development-errors" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 16.7%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error code</p></th>
<th class="head"><p>Value[hex]</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KEYM_E_PARAM_POINTER</p></td>
<td><p>0x01</p></td>
<td><p>API service called with invalid parameter (Null Pointer)</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_SMALL_BUFFER</p></td>
<td><p>0x02</p></td>
<td><p>Buffer is too small for operation</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_UNINIT</p></td>
<td><p>0x03</p></td>
<td><p>API called before module has been initialized</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_INIT_FAILED</p></td>
<td><p>0x04</p></td>
<td><p>KeyM module initialization failed</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_CONFIG_FAILURE</p></td>
<td><p>0x05</p></td>
<td><p>KeyM configuration failure</p></td>
</tr>
</tbody>
</table>
</section>
<section id="product-errors">
<h4>产品错误 Product Errors<a class="headerlink" href="#product-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
<section id="runtime-errors">
<h4>运行时错误 Runtime Errors<a class="headerlink" href="#runtime-errors" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
</section>
<section id="application-integration">
<h3>应用程序集成 Application Integration<a class="headerlink" href="#application-integration" title="Link to this heading">¶</a></h3>
<p>1.依赖模块</p>
<p>1.Dependency module</p>
<p>配置KeyM模块需要保证工程中存在STBM提供时间基准，CSM模块即下层模块提供加密服务</p>
<p>The configuration of KeyM module requires time reference provided by STBM in the project as well as encryption services provided by the CSM module, which is the lower level module</p>
</section>
<section id="type-definitions">
<h3>类型定义 Type Definitions<a class="headerlink" href="#type-definitions" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 37.5%" />
<col style="width: 12.5%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KeyM_Asn1DesType</p></td>
<td><p>struct KeyM_Asn1Type</p></td>
<td><p>Structure to hold ASN.1 data.</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_CryptoKeyIdType</p></td>
<td><p>uint16</p></td>
<td><p>Type definition for a crypto key identifier.</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_CertDataPointerType</p></td>
<td><p>uint8 *</p></td>
<td><p>Type definition for a certificate data pointer.</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_KH_UpdateOperationType</p></td>
<td><p>enum</p></td>
<td><p>Enumeration of key handler update operations.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="services">
<h3>提供的服务 Services<a class="headerlink" href="#services" title="Link to this heading">¶</a></h3>
<section id="keym-init">
<h4>KeyM_Init<a class="headerlink" href="#keym-init" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">KeyM_Init</span><span class="p">(</span><span class="n">const</span> <span class="n">KeyM_ConfigType</span> <span class="o">*</span><span class="n">ConfigPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ConfigPtr</p></td>
<td><p>Pointer to the Key Management configuration structure.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="keym-deinit">
<h4>KeyM_Deinit<a class="headerlink" href="#keym-deinit" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">KeyM_Deinit</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Deinitializes the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="keym-getversioninfo">
<h4>KeyM_GetVersionInfo<a class="headerlink" href="#keym-getversioninfo" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">KeyM_GetVersionInfo</span><span class="p">(</span><span class="n">Std_VersionInfoType</span> <span class="o">*</span><span class="n">VersionInfo</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves version information for the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>VersionInfo</p></td>
<td><p>Pointer to the structure to store version information.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="keym-start">
<h4>KeyM_Start<a class="headerlink" href="#keym-start" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_Start</span><span class="p">(</span><span class="n">KeyM_StartType</span> <span class="n">StartType</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">RequestData</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">RequestDataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResponseData</span><span class="p">,</span> <span class="n">uint16</span> <span class="o">*</span><span class="n">ResponseDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Starts the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>StartType</p></td>
<td><p>Type of start operation.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RequestData</p></td>
<td><p>Pointer to the request data.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RequestDataLength</p></td>
<td><p>Length of the request data.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>ResponseData</p></td>
<td><p>Pointer to the response data.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>ResponseDataLength</p></td>
<td><p>Pointer to the length of the response data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The start operation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The start operation failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-finalize">
<h4>KeyM_Finalize<a class="headerlink" href="#keym-finalize" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_Finalize</span><span class="p">(</span><span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">RequestDataPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">RequestDataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResponseDataPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">ResponseMaxDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Finalizes the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RequestDataPtr</p></td>
<td><p>Pointer to the request data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RequestDataLength</p></td>
<td><p>Length of the request data.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>ResponseDataPtr</p></td>
<td><p>Pointer to the response data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ResponseMaxDataLength</p></td>
<td><p>Maximum length of the response data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The finalize operation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The finalize operation failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-prepare">
<h4>KeyM_Prepare<a class="headerlink" href="#keym-prepare" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_Prepare</span><span class="p">(</span><span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">RequestData</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">RequestDataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResponseData</span><span class="p">,</span> <span class="n">uint16</span> <span class="o">*</span><span class="n">ResponseDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Prepares the Key Management module for a cryptographic operation.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RequestData</p></td>
<td><p>Pointer to the request data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RequestDataLength</p></td>
<td><p>Length of the request data.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>ResponseData</p></td>
<td><p>Pointer to the response data.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>ResponseDataLength</p></td>
<td><p>Pointer to the length of the response data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The preparation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The preparation failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-update">
<h4>KeyM_Update<a class="headerlink" href="#keym-update" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_Update</span><span class="p">(</span><span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">KeyNamePtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">KeyNameLength</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">RequestDataPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">RequestDataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResultDataPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">ResultDataMaxLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Updates a key in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>KeyNamePtr</p></td>
<td><p>Pointer to the key name.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>KeyNameLength</p></td>
<td><p>Length of the key name.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RequestDataPtr</p></td>
<td><p>Pointer to the request data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RequestDataLength</p></td>
<td><p>Length of the request data.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>ResultDataPtr</p></td>
<td><p>Pointer to the result data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ResultDataMaxLength</p></td>
<td><p>Maximum length of the result data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The update operation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The update operation failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-verify">
<h4>KeyM_Verify<a class="headerlink" href="#keym-verify" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_Verify</span><span class="p">(</span><span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">KeyNamePtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">KeyNameLength</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">RequestData</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">RequestDataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResponseData</span><span class="p">,</span> <span class="n">uint16</span> <span class="o">*</span><span class="n">ResponseDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Verifies a key in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>KeyNamePtr</p></td>
<td><p>Pointer to the key name.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>KeyNameLength</p></td>
<td><p>Length of the key name.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RequestData</p></td>
<td><p>Pointer to the request data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RequestDataLength</p></td>
<td><p>Length of the request data.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>ResponseData</p></td>
<td><p>Pointer to the response data.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>ResponseDataLength</p></td>
<td><p>Pointer to the length of the response data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The verify operation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The verify operation failed.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_PENDING</p></td>
<td><p>The verify operation is pending.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-servicecertificate">
<h4>KeyM_ServiceCertificate<a class="headerlink" href="#keym-servicecertificate" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_ServiceCertificate</span><span class="p">(</span><span class="n">KeyM_ServiceCertificateType</span> <span class="n">Service</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">CertNamePtr</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">CertNameLength</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">RequestData</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">RequestDataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResponseData</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">ResponseDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs a certificate service operation in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Service</p></td>
<td><p>Type of certificate service operation.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>CertNamePtr</p></td>
<td><p>Pointer to the certificate name.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertNameLength</p></td>
<td><p>Length of the certificate name.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RequestData</p></td>
<td><p>Pointer to the request data.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RequestDataLength</p></td>
<td><p>Length of the request data.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>ResponseData</p></td>
<td><p>Pointer to the response data.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ResponseDataLength</p></td>
<td><p>Length of the response data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate service operation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate service operation failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-servicecertificatebycertid">
<h4>KeyM_ServiceCertificateByCertId<a class="headerlink" href="#keym-servicecertificatebycertid" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_ServiceCertificateByCertId</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_ServiceCertificateType</span> <span class="n">Service</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">RequestData</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">RequestDataLength</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResponseData</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">ResponseDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs a certificate service operation in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>the certificate ID.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Service</p></td>
<td><p>Type of certificate service operation.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>RequestData</p></td>
<td><p>Pointer to the request data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>RequestDataLength</p></td>
<td><p>Length of the request data.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>ResponseData</p></td>
<td><p>Pointer to the response data.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ResponseDataLength</p></td>
<td><p>Length of the response data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate service operation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate service operation failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-setcertificate">
<h4>KeyM_SetCertificate<a class="headerlink" href="#keym-setcertificate" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_SetCertificate</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">const</span> <span class="n">KeyM_CertDataType</span> <span class="o">*</span><span class="n">CertificateDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets a certificate in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate to set.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>CertificateDataPtr</p></td>
<td><p>Pointer to the certificate data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate was set successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate could not be set.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-getcertificate">
<h4>KeyM_GetCertificate<a class="headerlink" href="#keym-getcertificate" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_GetCertificate</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertDataType</span> <span class="o">*</span><span class="n">CertificateDataPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves a certificate from the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate to retrieve.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>CertificateDataPtr</p></td>
<td><p>Pointer to the buffer to store the certificate data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate was retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate could not be retrieved.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_KEY_CERT_SIZE_MISMATCH</p></td>
<td><p>The provided buffer is too small to hold the certificate.</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_KEY_CERT_EMPTY</p></td>
<td><p>The certificate is empty.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-verifycertificates">
<h4>KeyM_VerifyCertificates<a class="headerlink" href="#keym-verifycertificates" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_VerifyCertificates</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertificateIdType</span> <span class="n">CertUpperId</span><span class="p">)</span>
</pre></div>
</div>
<p>Verifies a certificate chain in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate to verify.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>CertUpperId</p></td>
<td><p>ID of the upper-level certificate in the chain.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate chain was verified successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate chain could not be verified.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_PARAMETER_MISMATCH</p></td>
<td><p>The certificate IDs are invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_CERT_INVALID_CHAIN_OF_TRUST</p></td>
<td><p>The certificate chain is invalid.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-verifycertificate">
<h4>KeyM_VerifyCertificate<a class="headerlink" href="#keym-verifycertificate" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_VerifyCertificate</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">)</span>
</pre></div>
</div>
<p>Verifies a certificate in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate to verify.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate was verified successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate could not be verified.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_PARAMETER_MISMATCH</p></td>
<td><p>The certificate ID is invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_CERT_INVALID_CHAIN_OF_TRUST</p></td>
<td><p>The certificate chain is invalid.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-verifycertificatechain">
<h4>KeyM_VerifyCertificateChain<a class="headerlink" href="#keym-verifycertificatechain" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_VerifyCertificateChain</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">const</span> <span class="n">KeyM_CertDataType</span> <span class="n">certChainData</span><span class="p">[],</span> <span class="n">uint8</span> <span class="n">NumberOfCertificates</span><span class="p">)</span>
</pre></div>
</div>
<p>Verifies a certificate chain in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the starting certificate in the chain.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>certChainData</p></td>
<td><p>Array of certificate data for the chain.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>NumberOfCertificates</p></td>
<td><p>Number of certificates in the chain.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate chain was verified successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate chain could not be verified.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certelementget">
<h4>KeyM_CertElementGet<a class="headerlink" href="#keym-certelementget" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_CertElementGet</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertElementIdType</span> <span class="n">CertElementId</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">CertElementData</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">CertElementDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves a certificate element from the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>CertElementId</p></td>
<td><p>ID of the certificate element to retrieve.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>CertElementData</p></td>
<td><p>Pointer to the buffer to store the certificate element data.</p></td>
</tr>
<tr class="row-odd"><td><p>[inout]</p></td>
<td><p>CertElementDataLength</p></td>
<td><p>Pointer to the length of the certificate element data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate element was retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate element could not be retrieved.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certificateelementgetbyindex">
<h4>KeyM_CertificateElementGetByIndex<a class="headerlink" href="#keym-certificateelementgetbyindex" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_CertificateElementGetByIndex</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertElementIdType</span> <span class="n">CertElementId</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">Index</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">CertElementDataPtr</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">CertElementDataLengthPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves a certificate element by index from the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>CertElementId</p></td>
<td><p>ID of the certificate element to retrieve.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>Index</p></td>
<td><p>Index of the certificate element to retrieve.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>CertElementDataPtr</p></td>
<td><p>Pointer to the buffer to store the certificate element data.</p></td>
</tr>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>CertElementDataLengthPtr</p></td>
<td><p>Pointer to the length of the certificate element data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The certificate element was retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The certificate element could not be retrieved.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certificateelementgetcount">
<h4>KeyM_CertificateElementGetCount<a class="headerlink" href="#keym-certificateelementgetcount" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_CertificateElementGetCount</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertElementIdType</span> <span class="n">CertElementId</span><span class="p">,</span> <span class="n">uint16</span> <span class="o">*</span><span class="n">CountPtr</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves the count of a specific certificate element in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>CertElementId</p></td>
<td><p>ID of the certificate element.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>CountPtr</p></td>
<td><p>Pointer to store the count of the certificate element.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The count was retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The count could not be retrieved.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certelementgetfirst">
<h4>KeyM_CertElementGetFirst<a class="headerlink" href="#keym-certelementgetfirst" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_CertElementGetFirst</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertElementIdType</span> <span class="n">CertElementId</span><span class="p">,</span> <span class="n">KeyM_CertElementIteratorType</span> <span class="o">*</span><span class="n">CertElementIterator</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">CertElementData</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">CertElementDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves the first occurrence of a certificate element and initializes an iterator.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>CertElementId</p></td>
<td><p>ID of the certificate element to retrieve.</p></td>
</tr>
<tr class="row-even"><td><p>[out]</p></td>
<td><p>CertElementIterator</p></td>
<td><p>Pointer to the iterator to be initialized.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>CertElementData</p></td>
<td><p>Pointer to the buffer to store the certificate element data.</p></td>
</tr>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>CertElementDataLength</p></td>
<td><p>Pointer to the length of the certificate element data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The first certificate element was retrieved successfully and the iterator was initialized.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The first certificate element could not be retrieved or the iterator could not be initialized.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certelementgetnext">
<h4>KeyM_CertElementGetNext<a class="headerlink" href="#keym-certelementgetnext" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_CertElementGetNext</span><span class="p">(</span><span class="n">KeyM_CertElementIteratorType</span> <span class="o">*</span><span class="n">CertElementIterator</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">CertElementData</span><span class="p">,</span> <span class="n">uint32</span> <span class="o">*</span><span class="n">CertElementDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves the next occurrence of a certificate element using an iterator.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>CertElementIterator</p></td>
<td><p>Pointer to the iterator initialized by KeyM_CertElementGetFirst.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>CertElementData</p></td>
<td><p>Pointer to the buffer to store the certificate element data.</p></td>
</tr>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>CertElementDataLength</p></td>
<td><p>Pointer to the length of the certificate element data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The next certificate element was retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The next certificate element could not be retrieved.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certgetstatus">
<h4>KeyM_CertGetStatus<a class="headerlink" href="#keym-certgetstatus" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_CertGetStatus</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertificateStatusType</span> <span class="o">*</span><span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves the status of a certificate in the Key Management module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Not reentrant.</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>Status</p></td>
<td><p>Pointer to store the status of the certificate.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK</p></td>
<td><p>The status was retrieved successfully.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK</p></td>
<td><p>The status could not be retrieved.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id1">
<h3>类型定义 Type Definitions<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 37.5%" />
<col style="width: 12.5%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KeyM_CertPCfgType</p></td>
<td><p>struct KeyM_CertType</p></td>
<td><p>Structure to hold certificate configuration data.</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_CryptoCsmVerifyJobType</p></td>
<td><p>enum</p></td>
<td><p>Enumeration of crypto CSM verify job types.</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_CryptoKeyGenerationType</p></td>
<td><p>enum</p></td>
<td><p>Enumeration of crypto key generation types.</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_StorageType</p></td>
<td><p>enum</p></td>
<td><p>Enumeration of storage types for keys.</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_CertAlgorithmType</p></td>
<td><p>enum</p></td>
<td><p>Enumeration of certificate algorithms.</p></td>
</tr>
<tr class="row-odd"><td><p>KeyM_CertFormatType</p></td>
<td><p>enum</p></td>
<td><p>Enumeration of certificate formats.</p></td>
</tr>
<tr class="row-even"><td><p>KeyM_CertEleStructType</p></td>
<td><p>enum</p></td>
<td><p>Enumeration of certificate element structures.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id2">
<h3>提供的服务 Services<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<section id="keym-det-report">
<h4>KEYM_DET_REPORT<a class="headerlink" href="#keym-det-report" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">void</span> <span class="n">KEYM_DET_REPORT</span><span class="p">(</span><span class="n">uint8</span> <span class="n">ApiId</span><span class="p">,</span> <span class="n">uint8</span> <span class="n">ErrorId</span><span class="p">)</span>
</pre></div>
</div>
<p>Reports an error to the DET (Diagnostic Error Trap) module.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ApiId</p></td>
<td><p>API identifier of the function that detected the error.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ErrorId</p></td>
<td><p>Error identifier specifying the type of error.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="const">
<h4>CONST<a class="headerlink" href="#const" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONST</span><span class="p">(</span><span class="n">KeyM_NvmBlockPCfgType</span><span class="p">,</span> <span class="n">KEYM_CONST</span><span class="p">)</span> <span class="n">KeyM_NvmBlockPCfg</span><span class="p">[</span><span class="n">KEYM_NVM_BLOCK_NUM</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Sync/Async</strong></p>
<p><strong>Reentrancy</strong></p>
<p><strong>Return type</strong></p>
</section>
<section id="id3">
<h4>CONST<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONST</span><span class="p">(</span><span class="n">KeyM_CertPCfgType</span><span class="p">,</span> <span class="n">KEYM_CONST</span><span class="p">)</span> <span class="n">KeyM_CertPCfg</span><span class="p">[</span><span class="n">KEYM_CERT_NUM</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Sync/Async</strong></p>
<p><strong>Reentrancy</strong></p>
<p><strong>Return type</strong></p>
</section>
<section id="keym-copydata">
<h4>KeyM_CopyData<a class="headerlink" href="#keym-copydata" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">KeyM_CopyData</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="n">const</span> <span class="n">void</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies data from the source buffer to the destination buffer.This function performs a byte-wise copy of the specified number of bytes from the source buffer to the destination buffer.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>dest</p></td>
<td><p>Pointer to the destination buffer.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>src</p></td>
<td><p>Pointer to the source buffer.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>size</p></td>
<td><p>Number of bytes to copy.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="keym-strcmp">
<h4>KeyM_strcmp<a class="headerlink" href="#keym-strcmp" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_strcmp</span><span class="p">(</span><span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">str2</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">size</span><span class="p">)</span>
</pre></div>
</div>
<p>Compares two strings of a specified length.This function compares the specified number of bytes from two strings.If the strings are identical up to the specified length, it returns E_OK.Otherwise, it returns E_NOT_OK.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>str1</p></td>
<td><p>Pointer to the first string.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>str2</p></td>
<td><p>Pointer to the second string.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>size</p></td>
<td><p>Number of bytes to compare.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK:The</p></td>
<td><p>strings are identical up to the specified length.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK:The</p></td>
<td><p>strings are not identical up to the specified length.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-handleupdate">
<h4>KeyM_HandleUpdate<a class="headerlink" href="#keym-handleupdate" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_HandleUpdate</span><span class="p">(</span><span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResultDataPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">ResultDataLength</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">KeyIdx</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">sheKey</span><span class="p">)</span>
</pre></div>
</div>
<p>Handles the update of a cryptographic key.This function updates a cryptographic key based on the provided result data.It can store or derive the key according to the configuration.If the key is stored in CSM or RAM, it updates the key directly.If the key is stored in NVM, it writes the key to the specified NVM block.If the key is derived, it performs key derivation using the provided result data and key generation information.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>ResultDataPtr</p></td>
<td><p>Pointer to the result data used for key update or derivation.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>ResultDataLength</p></td>
<td><p>Length of the result data.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>KeyIdx</p></td>
<td><p>Index of the cryptographic key configuration.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>sheKey</p></td>
<td><p>Flag indicating whether the key is an SHE key.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK:The</p></td>
<td><p>key update or derivation was successful.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK:The</p></td>
<td><p>key update or derivation failed.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_PARAMETER_MISMATCH:Invalid</p></td>
<td><p>parameters were provided.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-getshekey-m4m5">
<h4>KeyM_GetSHEKey_M4M5<a class="headerlink" href="#keym-getshekey-m4m5" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_GetSHEKey_M4M5</span><span class="p">(</span><span class="n">uint32</span> <span class="n">keyId</span><span class="p">,</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">ResponseDataPtr</span><span class="p">,</span> <span class="n">uint16</span> <span class="o">*</span><span class="n">ResponseMaxDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves the SHE key for M4 and M5 operations.This function retrieves the key element for the specified key ID, which is used for generating M4 and M5 data in the key update process.M4 is generated by encrypting the CID with K3, and M5 is generated by computing the CMAC of M4 using K4, where K4 is derived from the new key.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>keyId</p></td>
<td><p>ID of the key to retrieve.</p></td>
</tr>
<tr class="row-odd"><td><p>[out]</p></td>
<td><p>ResponseDataPtr</p></td>
<td><p>Pointer to the buffer where the key element will be stored.</p></td>
</tr>
<tr class="row-even"><td><p>[inout]</p></td>
<td><p>ResponseMaxDataLength</p></td>
<td><p>Pointer to the maximum length of the response data buffer. On return, it contains the actual length of the key element.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK:The</p></td>
<td><p>key element was successfully retrieved.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK:The</p></td>
<td><p>key element retrieval failed.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-handleparsecert">
<h4>KeyM_HandleParseCert<a class="headerlink" href="#keym-handleparsecert" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_HandleParseCert</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">const</span> <span class="n">uint8</span> <span class="o">*</span><span class="n">certDataPtr</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">certDataLength</span><span class="p">)</span>
</pre></div>
</div>
<p>Parses a certificate and extracts relevant information.This function processes a certificate according to the X.509 standard.It extracts the TBS (To Be Signed) certificate, version, serial number, signature algorithm, issuer and subject names, validity period, subject public key info, and extensions (if present).It also validates the structure of the certificate and stores the parsed data.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate to parse.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>certDataPtr</p></td>
<td><p>Pointer to the certificate data.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>certDataLength</p></td>
<td><p>Length of the certificate data.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK:The</p></td>
<td><p>certificate was successfully parsed.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK:The</p></td>
<td><p>certificate parsing failed.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_KEY_CERT_INVALID:The</p></td>
<td><p>certificate is invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_CERTIFICATE_INVALID_FORMAT:The</p></td>
<td><p>certificate has an invalid format.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-handlecsmkeystorage">
<h4>KeyM_HandleCsmKeyStorage<a class="headerlink" href="#keym-handlecsmkeystorage" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">KeyM_HandleCsmKeyStorage</span><span class="p">(</span><span class="n">uint32</span> <span class="n">keyId</span><span class="p">,</span> <span class="n">uint16</span> <span class="n">certId</span><span class="p">,</span> <span class="n">boolean</span> <span class="n">keySet</span><span class="p">)</span>
</pre></div>
</div>
<p>Handles the storage of certificate elements in the CSM.This function processes each certificate element defined in the certificate configuration and either sets or gets the corresponding key element in the CSM.The operation (set or get) is determined by the</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>keyId</p></td>
<td><p>ID of the key in the CSM where the certificate elements will be stored or retrieved.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>certId</p></td>
<td><p>ID of the certificate configuration.</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>keySet</p></td>
<td><p>Flag indicating whether to set (TRUE) or get (FALSE) the key elements.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
<section id="keym-handlecertcverify">
<h4>KeyM_HandleCertcVerify<a class="headerlink" href="#keym-handlecertcverify" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_HandleCertcVerify</span><span class="p">(</span><span class="n">const</span> <span class="n">KeyM_CertPCfgType</span> <span class="o">*</span><span class="n">certCfgPtr</span><span class="p">,</span> <span class="n">const</span> <span class="n">KeyM_CertPCfgType</span> <span class="o">*</span><span class="n">certUpperHierRef</span><span class="p">)</span>
</pre></div>
</div>
<p>Verifies a certificate against a higher-level certificate in the chain.This function performs a series of checks to validate a certificate</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>certCfgPtr</p></td>
<td><p>Pointer to the certificate configuration of the certificate to verify.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>certUpperHierRef</p></td>
<td><p>Pointer to the certificate configuration of the higher-level certificate.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK:The</p></td>
<td><p>certificate is valid.</p></td>
</tr>
<tr class="row-odd"><td><p>E_NOT_OK:The</p></td>
<td><p>certificate verification failed.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_CERT_INVALID_CHAIN_OF_TRUST:The</p></td>
<td><p>certificate chain of trust is invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_CERTIFICATE_VALIDITY_PERIOD_FAIL:The</p></td>
<td><p>certificate is outside its validity period.</p></td>
</tr>
<tr class="row-even"><td><p>KEYM_E_CERTIFICATE_INVALID_CONTENT:The</p></td>
<td><p>certificate content is invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_CERTIFICATE_SIGNATURE_FAIL:The</p></td>
<td><p>certificate signature is invalid.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certsetstatus">
<h4>KeyM_CertSetStatus<a class="headerlink" href="#keym-certsetstatus" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Std_ReturnType</span> <span class="n">KeyM_CertSetStatus</span><span class="p">(</span><span class="n">KeyM_CertificateIdType</span> <span class="n">CertId</span><span class="p">,</span> <span class="n">KeyM_CertificateStatusType</span> <span class="n">Status</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets the status of a certificate.This function updates the status of a certificate in the certificate status array.It checks if the provided certificate ID is valid before updating the status.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
</dl>
<p><strong>Parameters</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11.1%" />
<col style="width: 22.2%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dir</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><p>CertId</p></td>
<td><p>ID of the certificate to update the status for.</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><p>Status</p></td>
<td><p>New status of the certificate.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><strong>Return type</strong></dt><dd><p>Std_ReturnType</p>
</dd>
</dl>
<p><strong>Return values</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>E_OK:The</p></td>
<td><p>status was successfully updated.</p></td>
</tr>
<tr class="row-odd"><td><p>KEYM_E_PARAMETER_MISMATCH:The</p></td>
<td><p>provided certificate ID is invalid.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="keym-certstorenvmhandle">
<h4>KeyM_CertStoreNvmHandle<a class="headerlink" href="#keym-certstorenvmhandle" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">KeyM_CertStoreNvmHandle</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
</pre></div>
</div>
<p>Handles the storage of certificates in NVM with delayed write.This function iterates through the NVM blocks and checks if any block has a delayed write pending.If a block has a delayed write pending, it decrements the delay counter.When the delay counter reaches zero, it writes the certificate data to the NVM block and resets the delay.This ensures that the certificate data is written to NVM after a specified delay, which can be useful for optimizing write operations and reducing wear on the NVM.</p>
<dl class="simple">
<dt><strong>Sync/Async</strong></dt><dd><p>TRUE</p>
</dd>
<dt><strong>Reentrancy</strong></dt><dd><p>Reentrant</p>
</dd>
<dt><strong>Return type</strong></dt><dd><p>void</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="configuration">
<h2>配置 Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<section id="keymgeneral-general-configuration-of-keymgeneral">
<h3>KeyMGeneral通用配置 General Configuration of KeyMGeneral<a class="headerlink" href="#keymgeneral-general-configuration-of-keymgeneral" title="Link to this heading">¶</a></h3>
<p>提供一些基本功能的开关，如证书功能，秘钥功能，和handler函数功能，第一步应该按项目需要配置这里。</p>
<p>Provide some basic functions, such as certificate function, key function and handler function. In the first step, make configuration based on project needs.</p>
<figure class="align-center" id="fig-keym-general">
<img alt="KeyMGeneral通用配置图 (KeyMGeneralGeneral Configuration Diagram)" src="../../../_images/KeyMGeneral.png" />
<figcaption>
<p><span class="caption-text">fig_KeyM_General</span><a class="headerlink" href="#fig-keym-general" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="keymcertificate-configuration-of-keymcertificate">
<h4>KeyMCertificate配置 Configuration of KeyMCertificate<a class="headerlink" href="#keymcertificate-configuration-of-keymcertificate" title="Link to this heading">¶</a></h4>
<p>提供对证书的基本配置，可以配置证书的长度和字段，以及对证书的一些验证操作所使用的算法和秘钥类型。</p>
<p>Provide some basic configuration for certificates, including certificate length and fields, as well as the algorithms and key types used for some verification operations on the certificate.</p>
<figure class="align-center" id="fig-keymcertificate">
<img alt="KeyMCertificate通用配置图 (KeyMCertificate General Configuration Diagram)" src="../../../_images/KeyMCertificate.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificate</span><a class="headerlink" href="#fig-keymcertificate" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="keymcertificateelement-configuration-of-keymcertificateelement">
<h4>KeyMCertificateElement配置 Configuration of KeyMCertificateElement<a class="headerlink" href="#keymcertificateelement-configuration-of-keymcertificateelement" title="Link to this heading">¶</a></h4>
<p>对证书中的每个字段进行详细配置，确保是符合证书规范的。</p>
<p>Configure each field in the certificate in detail to ensure its compliance with the certificate specification.</p>
<figure class="align-center" id="fig-keymcertificateelement">
<img alt="KeyMCertificateElement通用配置图 (KeyMCertificateElement General Configuration Diagram)" src="../../../_images/KeyMCertificateElement.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificateElement</span><a class="headerlink" href="#fig-keymcertificateelement" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="keymcertificateelementrule-configuration-of-keymcertificateelementrule">
<h4>KeyMCertificateElementRule配置 Configuration of KeyMCertificateElementRule<a class="headerlink" href="#keymcertificateelementrule-configuration-of-keymcertificateelementrule" title="Link to this heading">¶</a></h4>
<p>对于证书里面的元素可以配置一些规则，通常这些规则是用不上的可以不配置，可以根据实际需要进行设计。</p>
<p>Configure some rules for the elements in the certificate. In general, these rules are not necessary and can be designed based on actual needs.</p>
<figure class="align-center" id="fig-keymcertificateelementrule">
<img alt="KeyMCertificateElementRule通用配置图 (KeyMCertificateElementRule General Configuration Diagram)" src="../../../_images/KeyMCertificateElementRule.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificateElementRule</span><a class="headerlink" href="#fig-keymcertificateelementrule" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="keymcertificateelementcondition-configuration-of-keymcertificateelementcondition">
<h4>KeyMCertificateElementCondition配置 Configuration of KeyMCertificateElementCondition<a class="headerlink" href="#keymcertificateelementcondition-configuration-of-keymcertificateelementcondition" title="Link to this heading">¶</a></h4>
<p>对于证书里面的元素可以配置一些规则，通常这些规则是用不上的可以不配置，可以根据实际需要进行设计。</p>
<p>Configure some rules for the elements in the certificate. In general, these rules are not necessary and can be designed based on actual needs.</p>
<figure class="align-center" id="fig-keymcertificateelementcondition">
<img alt="KeyMCertificateElementCondition通用配置图 (KeyMCertificateElementCondition General Configuration Diagram)" src="../../../_images/KeyMCertificateElementCondition.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificateElementCondition</span><a class="headerlink" href="#fig-keymcertificateelementcondition" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="keymcertificateelementconditionarrayelement-configuration-of-keymcertificateelementconditionarrayelement">
<h4>KeyMCertificateElementConditionArrayElement配置 Configuration of KeyMCertificateElementConditionArrayElement<a class="headerlink" href="#keymcertificateelementconditionarrayelement-configuration-of-keymcertificateelementconditionarrayelement" title="Link to this heading">¶</a></h4>
<p>对于证书里面的元素可以配置一些规则，通常这些规则是用不上的可以不配置，可以根据实际需要进行设计。</p>
<p>Configure some rules for the elements in the certificate. In general, these rules are not necessary and can be designed based on actual needs.</p>
<figure class="align-center" id="fig-keymcertificateelementconditionarrayelement">
<img alt="KeyMCertificateElementConditionArrayElement通用配置图 (KeyMCertificateElementConditionArrayElement General Configuration Diagram)" src="../../../_images/KeyMCertificateElementConditionArrayElement.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificateElementConditionArrayElement</span><a class="headerlink" href="#fig-keymcertificateelementconditionarrayelement" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="keymcertificateelementconditionarray-configuration-of-keymcertificateelementconditionarray">
<h4>KeyMCertificateElementConditionArray配置 Configuration of KeyMCertificateElementConditionArray<a class="headerlink" href="#keymcertificateelementconditionarray-configuration-of-keymcertificateelementconditionarray" title="Link to this heading">¶</a></h4>
<p>对于证书里面的元素可以配置一些规则，通常这些规则是用不上的可以不配置，可以根据实际需要进行设计。</p>
<p>Configure some rules for the elements in the certificate. In general, these rules are not necessary and can be designed based on actual needs.</p>
<figure class="align-center" id="fig-keymcertificateelementconditionarray">
<img alt="KeyMCertificateElementConditionArray通用配置图 (KeyMCertificateElementConditionArray General Configuration Diagram)" src="../../../_images/KeyMCertificateElementConditionArray.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificateElementConditionArray</span><a class="headerlink" href="#fig-keymcertificateelementconditionarray" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="keymcertificateelementconditionprimitive-configuration-of-keymcertificateelementconditionprimitive">
<h3>KeyMCertificateElementConditionPrimitive配置 Configuration of KeyMCertificateElementConditionPrimitive<a class="headerlink" href="#keymcertificateelementconditionprimitive-configuration-of-keymcertificateelementconditionprimitive" title="Link to this heading">¶</a></h3>
<p>对于证书里面的元素可以配置一些规则，通常这些规则是用不上的可以不配置，可以根据实际需要进行设计。</p>
<p>Configure some rules for the elements in the certificate. In general, these rules are not necessary and can be designed based on actual needs.</p>
<figure class="align-center" id="fig-keymcertificateelementconditionprimitive">
<img alt="KeyMCertificateElementConditionPrimitive通用配置图 (KeyMCertificateElementConditionPrimitive General Configuration Diagram)" src="../../../_images/KeyMCertificateElementConditionPrimitive.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificateElementConditionPrimitive</span><a class="headerlink" href="#fig-keymcertificateelementconditionprimitive" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="keymcertificateelementconditionsenderreceiver-configuration-of-keymcertificateelementconditionsenderreceiver">
<h4>KeyMCertificateElementConditionSenderReceiver配置 Configuration of KeyMCertificateElementConditionSenderReceiver<a class="headerlink" href="#keymcertificateelementconditionsenderreceiver-configuration-of-keymcertificateelementconditionsenderreceiver" title="Link to this heading">¶</a></h4>
<p>对于证书里面的元素可以配置一些规则，通常这些规则是用不上的可以不配置，可以根据实际需要进行设计。</p>
<p>Configure some rules for the elements in the certificate. In general, these rules are not necessary and can be designed based on actual needs.</p>
<figure class="align-center" id="fig-keymcertificateelementconditionsenderreceiver">
<img alt="KeyMCertificateElementConditionSenderReceiver通用配置图 (KeyMCertificateElementConditionSenderReceiver General Configuration Diagram)" src="../../../_images/KeyMCertificateElementConditionSenderReceiver.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCertificateElementConditionSenderReceiver</span><a class="headerlink" href="#fig-keymcertificateelementconditionsenderreceiver" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="keymcryptokey-configuration-of-keymcryptokey">
<h4>KeyMCryptoKey配置 Configuration of KeyMCryptoKey<a class="headerlink" href="#keymcryptokey-configuration-of-keymcryptokey" title="Link to this heading">¶</a></h4>
<p>配置需要使用的秘钥的配置，配置存储类型或者关联下层的配置等。</p>
<p>Configuration requiring key, type of configuration storage or configuration of linked lower level, etc.</p>
<figure class="align-center" id="fig-keymcryptokey">
<img alt="KeyMCryptoKey通用配置图 (KeyMCryptoKey General Configuration Diagram)" src="../../../_images/KeyMCryptoKey.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMCryptoKey</span><a class="headerlink" href="#fig-keymcryptokey" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="keymnvmblock-configuration-of-keymnvmblock">
<h4>KeyMNvmBlock配置 Configuration of KeyMNvmBlock<a class="headerlink" href="#keymnvmblock-configuration-of-keymnvmblock" title="Link to this heading">¶</a></h4>
<p>证书可以保存在NVM中，也可以保存在RAM中。但是下次上电前会丢失，可以根据配置决定是否需要NVM支持。</p>
<p>The certificate can be saved in NVM or RAM. However, it will be lost before the next power-on. Decide whether NVM support is needed based on the configuration.</p>
<figure class="align-center" id="fig-keymnvmblock">
<img alt="KeyMNvmBlock通用配置图 (KeyMNvmBlock General Configuration Diagram)" src="../../../_images/KeyMNvmBlock.png" />
<figcaption>
<p><span class="caption-text">fig_KeyMNvmBlock</span><a class="headerlink" href="#fig-keymnvmblock" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../IStdLib/IStdLib.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>IStdLib
    </a>
    <a class="float-right" href="../LdCom/LdCom.html" title="Next">
        LdCom <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">KeyM</a><ul>
<li><a class="reference internal" href="#document-information">文档信息 Document Information</a><ul>
<li><a class="reference internal" href="#version-history">版本历史 Version History</a></li>
<li><a class="reference internal" href="#references">参考文档 References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#terms-and-abbreviations">术语与简写 Terms and Abbreviations</a><ul>
<li><a class="reference internal" href="#terms">术语 Terms</a></li>
<li><a class="reference internal" href="#abbreviations">简写 Abbreviations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">简介 Introduction</a></li>
<li><a class="reference internal" href="#functional-description">功能描述 Functional Description</a><ul>
<li><a class="reference internal" href="#features">特性 Features</a></li>
<li><a class="reference internal" href="#deviation">偏差 Deviation</a></li>
<li><a class="reference internal" href="#extension">扩展 Extension</a></li>
</ul>
</li>
<li><a class="reference internal" href="#integration">集成 Integration</a><ul>
<li><a class="reference internal" href="#file-list">文件列表 File List</a><ul>
<li><a class="reference internal" href="#static-files">静态文件 Static Files</a></li>
<li><a class="reference internal" href="#dynamic-files">动态文件 Dynamic Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">错误处理 Error Handling</a><ul>
<li><a class="reference internal" href="#development-errors">开发错误 Development Errors</a></li>
<li><a class="reference internal" href="#product-errors">产品错误 Product Errors</a></li>
<li><a class="reference internal" href="#runtime-errors">运行时错误 Runtime Errors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-integration">应用程序集成 Application Integration</a></li>
<li><a class="reference internal" href="#type-definitions">类型定义 Type Definitions</a></li>
<li><a class="reference internal" href="#services">提供的服务 Services</a><ul>
<li><a class="reference internal" href="#keym-init">KeyM_Init</a></li>
<li><a class="reference internal" href="#keym-deinit">KeyM_Deinit</a></li>
<li><a class="reference internal" href="#keym-getversioninfo">KeyM_GetVersionInfo</a></li>
<li><a class="reference internal" href="#keym-start">KeyM_Start</a></li>
<li><a class="reference internal" href="#keym-finalize">KeyM_Finalize</a></li>
<li><a class="reference internal" href="#keym-prepare">KeyM_Prepare</a></li>
<li><a class="reference internal" href="#keym-update">KeyM_Update</a></li>
<li><a class="reference internal" href="#keym-verify">KeyM_Verify</a></li>
<li><a class="reference internal" href="#keym-servicecertificate">KeyM_ServiceCertificate</a></li>
<li><a class="reference internal" href="#keym-servicecertificatebycertid">KeyM_ServiceCertificateByCertId</a></li>
<li><a class="reference internal" href="#keym-setcertificate">KeyM_SetCertificate</a></li>
<li><a class="reference internal" href="#keym-getcertificate">KeyM_GetCertificate</a></li>
<li><a class="reference internal" href="#keym-verifycertificates">KeyM_VerifyCertificates</a></li>
<li><a class="reference internal" href="#keym-verifycertificate">KeyM_VerifyCertificate</a></li>
<li><a class="reference internal" href="#keym-verifycertificatechain">KeyM_VerifyCertificateChain</a></li>
<li><a class="reference internal" href="#keym-certelementget">KeyM_CertElementGet</a></li>
<li><a class="reference internal" href="#keym-certificateelementgetbyindex">KeyM_CertificateElementGetByIndex</a></li>
<li><a class="reference internal" href="#keym-certificateelementgetcount">KeyM_CertificateElementGetCount</a></li>
<li><a class="reference internal" href="#keym-certelementgetfirst">KeyM_CertElementGetFirst</a></li>
<li><a class="reference internal" href="#keym-certelementgetnext">KeyM_CertElementGetNext</a></li>
<li><a class="reference internal" href="#keym-certgetstatus">KeyM_CertGetStatus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">类型定义 Type Definitions</a></li>
<li><a class="reference internal" href="#id2">提供的服务 Services</a><ul>
<li><a class="reference internal" href="#keym-det-report">KEYM_DET_REPORT</a></li>
<li><a class="reference internal" href="#const">CONST</a></li>
<li><a class="reference internal" href="#id3">CONST</a></li>
<li><a class="reference internal" href="#keym-copydata">KeyM_CopyData</a></li>
<li><a class="reference internal" href="#keym-strcmp">KeyM_strcmp</a></li>
<li><a class="reference internal" href="#keym-handleupdate">KeyM_HandleUpdate</a></li>
<li><a class="reference internal" href="#keym-getshekey-m4m5">KeyM_GetSHEKey_M4M5</a></li>
<li><a class="reference internal" href="#keym-handleparsecert">KeyM_HandleParseCert</a></li>
<li><a class="reference internal" href="#keym-handlecsmkeystorage">KeyM_HandleCsmKeyStorage</a></li>
<li><a class="reference internal" href="#keym-handlecertcverify">KeyM_HandleCertcVerify</a></li>
<li><a class="reference internal" href="#keym-certsetstatus">KeyM_CertSetStatus</a></li>
<li><a class="reference internal" href="#keym-certstorenvmhandle">KeyM_CertStoreNvmHandle</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">配置 Configuration</a><ul>
<li><a class="reference internal" href="#keymgeneral-general-configuration-of-keymgeneral">KeyMGeneral通用配置 General Configuration of KeyMGeneral</a><ul>
<li><a class="reference internal" href="#keymcertificate-configuration-of-keymcertificate">KeyMCertificate配置 Configuration of KeyMCertificate</a></li>
<li><a class="reference internal" href="#keymcertificateelement-configuration-of-keymcertificateelement">KeyMCertificateElement配置 Configuration of KeyMCertificateElement</a></li>
<li><a class="reference internal" href="#keymcertificateelementrule-configuration-of-keymcertificateelementrule">KeyMCertificateElementRule配置 Configuration of KeyMCertificateElementRule</a></li>
<li><a class="reference internal" href="#keymcertificateelementcondition-configuration-of-keymcertificateelementcondition">KeyMCertificateElementCondition配置 Configuration of KeyMCertificateElementCondition</a></li>
<li><a class="reference internal" href="#keymcertificateelementconditionarrayelement-configuration-of-keymcertificateelementconditionarrayelement">KeyMCertificateElementConditionArrayElement配置 Configuration of KeyMCertificateElementConditionArrayElement</a></li>
<li><a class="reference internal" href="#keymcertificateelementconditionarray-configuration-of-keymcertificateelementconditionarray">KeyMCertificateElementConditionArray配置 Configuration of KeyMCertificateElementConditionArray</a></li>
</ul>
</li>
<li><a class="reference internal" href="#keymcertificateelementconditionprimitive-configuration-of-keymcertificateelementconditionprimitive">KeyMCertificateElementConditionPrimitive配置 Configuration of KeyMCertificateElementConditionPrimitive</a><ul>
<li><a class="reference internal" href="#keymcertificateelementconditionsenderreceiver-configuration-of-keymcertificateelementconditionsenderreceiver">KeyMCertificateElementConditionSenderReceiver配置 Configuration of KeyMCertificateElementConditionSenderReceiver</a></li>
<li><a class="reference internal" href="#keymcryptokey-configuration-of-keymcryptokey">KeyMCryptoKey配置 Configuration of KeyMCryptoKey</a></li>
<li><a class="reference internal" href="#keymnvmblock-configuration-of-keymnvmblock">KeyMNvmBlock配置 Configuration of KeyMNvmBlock</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                    &copy; Copyright 2025, i-soft
            </div>
            <div class="text-center text-white-50 font-italic mt-3">
                <small>
                    Created using
                    <a class="text-white" href="https://github.com/wagtail/sphinx_wagtail_theme" rel="nofollow" target="_blank">
                        Sphinx Wagtail Theme 6.5.0
                    </a>
                    and
                    <a class="text-white" href="https://www.sphinx-doc.org/" rel="nofollow" target="_blank">
                        Sphinx 8.2.3
                    </a>
                </small>
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script src="../../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../../_static/doctools.js?v=9bcbadda"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script type="text/javascript" src="../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function() { Search.loadIndex("../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>